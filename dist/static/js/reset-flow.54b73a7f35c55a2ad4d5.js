(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/yyi":function(s,e,t){"use strict";var n=t("ta7f"),a=(t("Sy8b"),{data:function(){return{password:"",passwordConfirmation:""}},props:{sending:{type:Boolean,required:!0},error:{type:String,required:!1},showCancel:{type:Boolean,default:!1}},methods:{cancel:function(){this.$emit("cancel")},resetPassword:function(){this.$emit("resetPassword",this.password)}},validations:{password:{required:n.required,minLength:Object(n.minLength)(8)},passwordConfirmation:{required:n.required,sameAs:Object(n.sameAs)("password")}}}),r=t("KHd+"),i=Object(r.a)(a,function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("form",[s.error?t("div",{staticClass:"notification is-danger"},[s._v("\n      "+s._s(s.error)+"\n    ")]):s._e(),s._v(" "),t("p",{staticClass:"subtitle"},[s._v("\n      Enter the new password you would like to use to login to your account.\n    ")]),s._v(" "),t("div",{staticClass:"field"},[t("label",{staticClass:"label",attrs:{for:"reset-password"}},[s._v("\n        New password\n      ")]),s._v(" "),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input",class:{"is-danger":s.$v.password.$error},attrs:{type:"password",id:"reset-password",required:""},domProps:{value:s.password},on:{blur:s.$v.password.$touch,input:function(e){e.target.composing||(s.password=e.target.value)}}})]),s._v(" "),s.$v.password.$error?t("span",[s.$v.password.minLength?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Password must be at least 8 characters long\n        ")]),s._v(" "),s.$v.password.required?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Please provide your new password\n        ")])]):s._e()]),s._v(" "),t("div",{staticClass:"field"},[t("label",{staticClass:"label",attrs:{for:"reset-confirm"}},[s._v("\n        Confirm your password\n      ")]),s._v(" "),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"input",class:{"is-danger":s.$v.passwordConfirmation.$error},attrs:{type:"password",id:"reset-confirm",required:""},domProps:{value:s.passwordConfirmation},on:{blur:s.$v.passwordConfirmation.$touch,input:function(e){e.target.composing||(s.passwordConfirmation=e.target.value)}}})]),s._v(" "),s.$v.passwordConfirmation.$error?t("span",[s.$v.passwordConfirmation.sameAs?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Passwords do not match\n        ")]),s._v(" "),s.$v.passwordConfirmation.required?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Please confirm your new password\n        ")])]):s._e()]),s._v(" "),t("div",{staticClass:"field is-grouped"},[t("div",{staticClass:"control"},[t("button",{staticClass:"button is-primary",class:{"is-loading":s.sending},attrs:{disabled:s.$v.$invalid||s.sending},on:{click:function(e){e.preventDefault(),s.resetPassword()}}},[s._v("\n          Set Password\n        ")])]),s._v(" "),t("div",{staticClass:"control"},[s.showCancel?t("button",{staticClass:"button",class:{"is-loading":s.sending},attrs:{disabled:s.sending},on:{click:function(e){e.preventDefault(),s.cancel()}}},[s._v("\n          Cancel\n        ")]):s._e()])])])])},[],!1,null,null,null);e.a=i.exports},LRKE:function(s,e,t){},RybT:function(s,e,t){"use strict";t.r(e);var n={beforeRouteEnter:function(s,e,t){localStorage.getItem("token")&&t(function(s){return s.$router.push("/")}),t()}},a=t("KHd+"),r=Object(a.a)(n,function(){var s=this.$createElement,e=this._self._c||s;return e("div",[e("div",{staticClass:"column is-6 is-offset-3"},[e("h1",{staticClass:"title"},[this._v("Reset your password")]),this._v(" "),e("router-view")],1)])},[],!1,null,null,null);e.default=r.exports},WnGg:function(s,e,t){"use strict";t.r(e);t("ta7f");var n={data:function(){return{error:"",sending:!1}},computed:{resetToken:function(){return this.$route.params.resetToken}},methods:{resetPassword:function(s){var e=this,t={password:s,token:this.resetToken};this.sending=!0,this.$store.dispatch("resetPassword",t).then(function(){e.$router.replace({path:"/login",query:{from:"resetSuccess"}})}).catch(function(s){e.error="Failed to reset password. Please try again."}).then(function(){e.sending=!1})}},components:{"change-password":t("/yyi").a}},a=t("KHd+"),r=Object(a.a)(n,function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("change-password",{attrs:{sending:s.sending,error:s.error},on:{resetPassword:function(e){s.resetPassword(e)}}})],1)},[],!1,null,null,null);e.default=r.exports},f2wI:function(s,e,t){"use strict";t.r(e);var n={data:function(){return{email:"",error:!1,sent:!1,sending:!1}},methods:{sendResetEmail:function(){var s=this;this.sending=!0,this.$store.dispatch("sendResetEmail",this.email).then(function(){s.error=!1,s.sent=!0}).catch(function(){s.sent=!1,s.error=!0}).then(function(){s.sending=!1})}}},a=(t("vz7q"),t("KHd+")),r=Object(a.a)(n,function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("form",[s.error?t("div",{staticClass:"notification is-danger"},[s._v("\n    Failed to send the reset email. Please re-enter your email and try again.\n  ")]):s._e(),s._v(" "),s.sent?t("div",{staticClass:"notification is-success"},[s._v("\n    Successfully sent the reset email! Check your inbox and click the link in the message.\n  ")]):s._e(),s._v(" "),t("div",{staticClass:"field"},[t("label",{staticClass:"label"},[s._v("\n      Enter the email you used to create your account\n    ")]),s._v(" "),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"input",attrs:{type:"email"},domProps:{value:s.email},on:{input:function(e){e.target.composing||(s.email=e.target.value)}}})]),s._v(" "),t("span",{staticClass:"help"},[s._v("\n      A link to reset your password will be emailed to you from no‑reply@apo‑gammatheta.org.\n      Please check your spam folder if you do not see this email.\n    ")])]),s._v(" "),t("button",{staticClass:"button is-primary",class:{"is-loading":s.sending},attrs:{disabled:s.sending},on:{click:function(e){e.preventDefault(),s.sendResetEmail()}}},[s._v("\n    "+s._s(s.sent?"Resend Email":"Send Email")+"\n  ")])])},[],!1,null,"149daeea",null);e.default=r.exports},vz7q:function(s,e,t){"use strict";var n=t("LRKE");t.n(n).a}}]);
//# sourceMappingURL=reset-flow.54b73a7f35c55a2ad4d5.js.map