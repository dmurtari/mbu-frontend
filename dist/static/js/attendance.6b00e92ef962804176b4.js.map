{"version":3,"sources":["webpack:///./src/components/shared/attendance/AttendanceList.vue?49ab","webpack:///./src/components/shared/attendance/AttendanceList.vue?7a8a","webpack:///./src/components/shared/attendance/AttendanceRow.vue?2b49","webpack:///src/components/shared/attendance/AttendanceRow.vue","webpack:///./src/components/shared/attendance/AttendanceRow.vue","webpack:///./src/components/shared/attendance/AttendanceRow.vue?9a84","webpack:///./src/components/shared/attendance/AttendanceList.vue?c9af","webpack:///src/components/shared/attendance/AttendanceList.vue","webpack:///./src/components/shared/attendance/AttendanceList.vue","webpack:///./src/components/shared/attendance/AssignmentEdit.vue?dfb6","webpack:///./src/components/shared/attendance/AssignmentEdit.vue?e77e","webpack:///src/components/shared/attendance/AssignmentEdit.vue","webpack:///./src/components/shared/attendance/AssignmentEdit.vue","webpack:///./src/components/shared/attendance/AttendanceRow.vue?535c","webpack:///./src/mixins/RegistrationMappers.js","webpack:///./src/components/shared/attendance/AssignmentEdit.vue?e19d"],"names":["attendance_AttendanceRowvue_type_script_lang_js","Array","state","arguments","length","undefined","AssignmentEdit","ScoutRegistration","RegistrationMappers","AttendanceRow","Object","componentNormalizer","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","scout","fullname","troop","on","click","$event","toggleState","attrs","aria-label","_e","event","preferences","registrationPreferences","purchases","registrationPurchases","assignments","assignmentList","slot","semester","year","preventDefault","classes","registration","done","attendance_AttendanceListvue_type_script_lang_js","selectedRegistration","registrations","uniq","lodash_default","a","map","_this","$store","dispatch","eventId","then","catch","EventsUpdate","AttendanceList_component","error","target","contents","per","showLinks","scopedSlots","_u","key","fn","props","item","__webpack_exports__","attendance_AssignmentEditvue_type_script_lang_js","period","sizeInfoForOffering","id","offeringId","size_limit","assignment","completions","existingAssignment","details","scout_id","postData","err","offering_id","result","ClassSizesUpdate","component","_l","preference","rank","badge","name","price","_f","n","for","directives","rawName","value","expression","change","$$selectedVal","prototype","filter","call","options","o","selected","_value","$set","multiple","maybeRespondToDuration","domProps","disabled","label","offered","classFull","duration","sizeInfoText","offering","class","is-loading","saving","setAssignments","$emit","type","required","computed","_","forEach","periods","Number","orderBy","registrationAssignments","omitBy","isNil","purchase","size","quantity"],"mappings":"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","file":"static/js/attendance.6b00e92ef962804176b4.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceList.vue?vue&type=style&index=0&id=084b1f2a&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceList.vue?vue&type=style&index=0&id=084b1f2a&lang=scss&scoped=true\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('spinner-page'):_c('div',{staticClass:\"registration-list\"},[(_vm.error)?_c('closable-error',[_vm._v(_vm._s(_vm.error))]):_vm._e(),_vm._v(\" \"),(_vm.registrations.length > 0)?_c('div',[_c('paginated-items',{attrs:{\"target\":'registrations',\"contents\":_vm.registrations,\"per\":10,\"showLinks\":true},scopedSlots:_vm._u([{key:\"row\",fn:function(props){return [_c('attendance-row',{attrs:{\"registration\":props.item,\"event\":_vm.event,\"classes\":_vm.classes}})]}}])})],1):_c('div',{staticClass:\"notification\"},[_c('p',[_vm._v(\"\\n        There are no scouts that match the criteria you specified.\\n      \")])])],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceRow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceRow.vue?vue&type=script&lang=js\"","<template>\n  <div class=\"attendance-row\">\n    <h5 class=\"title is-5\">\n      Attendance for {{ scout.fullname }} (Troop {{ scout.troop }})\n      <button class=\"button edit-button is-pulled-right\"\n              v-if=\"state === 'displaying'\"\n              @click=\"toggleState('assigning')\">\n        <span class=\"fa fa-edit\" aria-label=\"Edit\"></span>\n      </button>\n    </h5>\n    <div v-if=\"state === 'displaying'\">\n      <scout-registration :event=\"event\"\n                          :preferences=\"registrationPreferences\"\n                          :purchases=\"registrationPurchases\"\n                          :assignments=\"assignmentList\">\n        <p slot=\"assignment-notification\">\n          {{ scout.fullname }} has not yet been assigned any merit badges for\n          MBU {{ event.semester }} {{ event.year }}.\n          <br>\n          <a class=\"is-text\"\n              @click.prevent=\"toggleState('assigning')\">\n            Assign Merit Badges\n          </a>\n        </p>\n      </scout-registration>\n    </div>\n    <assignment-edit v-if=\"state === 'assigning'\"\n                     :scout=\"scout\"\n                     :classes=\"classes\"\n                     :event=\"event\"\n                     :preferences=\"preferences\"\n                     :registration=\"registration\"\n                     @done=\"toggleState('displaying')\"></assignment-edit>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nimport AssignmentEdit from './AssignmentEdit.vue';\nimport ScoutRegistration from 'components/scouts/ScoutRegistration.vue';\nimport RegistrationMappers from 'mixins/RegistrationMappers';\n\nexport default {\n  props: {\n    classes: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      state: 'displaying'\n    };\n  },\n  watch: {\n    registration() {\n      this.state = 'displaying';\n    }\n  },\n  methods: {\n    toggleState(state = 'displaying') {\n      this.state = state;\n    }\n  },\n  components: {\n    AssignmentEdit,\n    ScoutRegistration\n  },\n  mixins: [\n    RegistrationMappers\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .attendance-row {\n    padding: 2rem 1rem;\n    border-bottom: 1px lightgray solid;\n  }\n</style>\n","import { render, staticRenderFns } from \"./AttendanceRow.vue?vue&type=template&id=33c5f681&scoped=true\"\nimport script from \"./AttendanceRow.vue?vue&type=script&lang=js\"\nexport * from \"./AttendanceRow.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttendanceRow.vue?vue&type=style&index=0&id=33c5f681&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33c5f681\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"attendance-row\"},[_c('h5',{staticClass:\"title is-5\"},[_vm._v(\"\\n    Attendance for \"+_vm._s(_vm.scout.fullname)+\" (Troop \"+_vm._s(_vm.scout.troop)+\")\\n    \"),(_vm.state === 'displaying')?_c('button',{staticClass:\"button edit-button is-pulled-right\",on:{\"click\":function($event){_vm.toggleState('assigning')}}},[_c('span',{staticClass:\"fa fa-edit\",attrs:{\"aria-label\":\"Edit\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.state === 'displaying')?_c('div',[_c('scout-registration',{attrs:{\"event\":_vm.event,\"preferences\":_vm.registrationPreferences,\"purchases\":_vm.registrationPurchases,\"assignments\":_vm.assignmentList}},[_c('p',{attrs:{\"slot\":\"assignment-notification\"},slot:\"assignment-notification\"},[_vm._v(\"\\n        \"+_vm._s(_vm.scout.fullname)+\" has not yet been assigned any merit badges for\\n        MBU \"+_vm._s(_vm.event.semester)+\" \"+_vm._s(_vm.event.year)+\".\\n        \"),_c('br'),_vm._v(\" \"),_c('a',{staticClass:\"is-text\",on:{\"click\":function($event){$event.preventDefault();_vm.toggleState('assigning')}}},[_vm._v(\"\\n          Assign Merit Badges\\n        \")])])])],1):_vm._e(),_vm._v(\" \"),(_vm.state === 'assigning')?_c('assignment-edit',{attrs:{\"scout\":_vm.scout,\"classes\":_vm.classes,\"event\":_vm.event,\"preferences\":_vm.preferences,\"registration\":_vm.registration},on:{\"done\":function($event){_vm.toggleState('displaying')}}}):_vm._e()],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceList.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <spinner-page v-if=\"loading\"></spinner-page>\n    <div class=\"registration-list\"\n         v-else>\n      <closable-error v-if=\"error\">{{ error }}</closable-error>\n      <div v-if=\"registrations.length > 0\">\n        <paginated-items :target=\"'registrations'\"\n                         :contents=\"registrations\"\n                         :per=\"10\"\n                         :showLinks=\"true\">\n          <template slot=\"row\"\n                    slot-scope=\"props\">\n            <attendance-row :registration=\"props.item\"\n                            :event=\"event\"\n                            :classes=\"classes\"></attendance-row>\n          </template>\n        </paginated-items>\n      </div>\n      <div class=\"notification\"\n           v-else>\n        <p>\n          There are no scouts that match the criteria you specified.\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AttendanceRow from './AttendanceRow.vue';\nimport EventsUpdate from 'mixins/EventsUpdate';\n\nimport { mapGetters } from 'vuex';\nimport _ from 'lodash';\n\nexport default {\n  props: {\n    event: {\n      type: Object\n    },\n    registrations: {\n      type: Array,\n      required: true\n    },\n    classes: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      error: '',\n      loading: false,\n      search: '',\n      selectedEventId: 0,\n      troopFilter: null\n    };\n  },\n  computed: {\n    noRegistrations() {\n      return (\n        !this.selectedRegistration ||\n        this.selectedRegistration.registrations.length < 1\n      );\n    },\n    troops() {\n      if (!this.selectedRegistration) {\n        return [];\n      }\n\n      return _.uniq(\n        _.map(this.selectedRegistration.registrations, 'scout.troop')\n      );\n    }\n  },\n  watch: {\n    selectedEventId(eventId) {\n      this.loading = true;\n      this.troopFilter = null;\n      this.$store\n        .dispatch('getRegistrations', eventId)\n        .then(() => {\n          this.error = '';\n        })\n        .catch(() => {\n          this.error = 'Failed to get registrations for this event';\n        })\n        .then(() => {\n          this.loading = false;\n        });\n    }\n  },\n  components: {\n    AttendanceRow\n  },\n  mixins: [EventsUpdate]\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.registration-list {\n  margin-top: 2em;\n}\n</style>\n","import { render, staticRenderFns } from \"./AttendanceList.vue?vue&type=template&id=084b1f2a&scoped=true\"\nimport script from \"./AttendanceList.vue?vue&type=script&lang=js\"\nexport * from \"./AttendanceList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttendanceList.vue?vue&type=style&index=0&id=084b1f2a&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"084b1f2a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b',[_vm._v(\"Assign Merit Badges\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n    Assign Merit Badges for \"+_vm._s(_vm.scout.fullname)+\" for MBU \"+_vm._s(_vm.event.semester)+\" \"+_vm._s(_vm.event.year)+\" here. Select\\n    a merit badge from the dropdown for each period. Merit Badges that are not offered for that period\\n    are grayed out.\\n  \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('p',[_vm._v(\"\\n    \"+_vm._s(_vm.scout.fullname)+\" has listed as their preferences:\\n  \")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.preferences),function(preference){return _c('li',{key:preference.offering_id},[_vm._v(\"\\n      \"+_vm._s(preference.details.rank)+\": \"+_vm._s(preference.badge.name)+\"\\n      \"),(preference.price !== '0.00')?_c('span',[_vm._v(\"\\n        (\"+_vm._s(_vm._f(\"currency\")(preference.price))+\")\\n      \")]):_vm._e()])})),_vm._v(\" \"),_c('form',{staticClass:\"form\"},[_c('div',{staticClass:\"columns\"},_vm._l((3),function(n){return _c('div',{key:n,staticClass:\"field column is-4\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"period-1-assignment\"}},[_vm._v(\"Period \"+_vm._s(n)+\":\")]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('span',{staticClass:\"input-group select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.assignments[n - 1]),expression:\"assignments[n - 1]\"}],staticClass:\"input\",attrs:{\"id\":'period-' + n + '-assignment'},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.assignments, n - 1, $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){_vm.maybeRespondToDuration($event.target.value, n)}]}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"No Assignment\")]),_vm._v(\" \"),_c('option',{attrs:{\"disabled\":\"\"}}),_vm._v(\" \"),_c('optgroup',{attrs:{\"label\":\"Preferences\"}},_vm._l((_vm.preferences),function(preference){return _c('option',{key:preference.offering_id,attrs:{\"disabled\":!_vm.offered(preference.offering_id, n) || _vm.classFull(preference.offering_id, n)},domProps:{\"value\":preference.offering_id}},[_vm._v(\"\\n                  \"+_vm._s(preference.badge.name)+\"\\n                  \"),(preference.price !== '0.00')?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(_vm._f(\"currency\")(preference.price))+\")\\n                  \")]):_vm._e(),_vm._v(\" \"),(preference.duration > 1)?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(preference.duration)+\" periods)\\n                  \")]):_vm._e(),_vm._v(\" \"),(_vm.sizeInfoForOffering(_vm.event.id, preference.offering_id))?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(_vm.sizeInfoText(preference.offering_id, n))+\")\\n                  \")]):_vm._e()])})),_vm._v(\" \"),_c('option',{attrs:{\"disabled\":\"\"}}),_vm._v(\" \"),_c('optgroup',{attrs:{\"label\":\"All Offerings\"}},_vm._l((_vm.sortedOfferings),function(offering){return _c('option',{key:offering.details.id,attrs:{\"disabled\":!_vm.offered(offering.details.id, n) || _vm.classFull(offering.details.id, n)},domProps:{\"value\":offering.details.id}},[_vm._v(\"\\n                  \"+_vm._s(offering.name)+\"\\n                  \"),(offering.details.price !== '0.00')?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(_vm._f(\"currency\")(offering.details.price))+\")\\n                  \")]):_vm._e(),_vm._v(\" \"),(offering.details.duration > 1)?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(offering.details.duration)+\" periods)\\n                  \")]):_vm._e(),_vm._v(\" \"),(_vm.sizeInfoForOffering(_vm.event.id, offering.details.id))?_c('span',[_vm._v(\"\\n                    (\"+_vm._s(_vm.sizeInfoText(offering.details.id, n))+\")\\n                  \")]):_vm._e()])}))])])])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-primary\",class:{'is-loading': _vm.saving },attrs:{\"disabled\":_vm.saving},on:{\"click\":function($event){_vm.setAssignments()}}},[_vm._v(\"Save Assignments\")])]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button\",attrs:{\"disabled\":_vm.saving},on:{\"click\":function($event){_vm.$emit('done')}}},[_vm._v(\"Cancel\")])])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentEdit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentEdit.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <b>Assign Merit Badges</b>\n    <p>\n      Assign Merit Badges for {{ scout.fullname }} for MBU {{ event.semester }} {{ event.year }} here. Select\n      a merit badge from the dropdown for each period. Merit Badges that are not offered for that period\n      are grayed out.\n    </p>\n    <br>\n    <p>\n      {{ scout.fullname }} has listed as their preferences:\n    </p>\n    <ul>\n      <li v-for=\"preference in preferences\"\n          :key=\"preference.offering_id\">\n        {{ preference.details.rank }}: {{ preference.badge.name }}\n        <span v-if=\"preference.price !== '0.00'\">\n          ({{ preference.price | currency }})\n        </span>\n      </li>\n    </ul>\n    <form class=\"form\">\n      <div class=\"columns\">\n        <div v-for=\"n in 3\"\n             :key=\"n\"\n             class=\"field column is-4\">\n          <label class=\"label\"\n                 for=\"period-1-assignment\">Period {{ n }}:</label>\n          <div class=\"control\">\n            <span class=\"input-group select\">\n              <select class=\"input\"\n                      :id=\"'period-' + n + '-assignment'\"\n                      @change=\"maybeRespondToDuration($event.target.value, n)\"\n                      v-model=\"assignments[n - 1]\">\n                <option :value=\"null\">No Assignment</option>\n                <option disabled></option>\n                <optgroup label=\"Preferences\">\n                  <option v-for=\"preference in preferences\"\n                          :key=\"preference.offering_id\"\n                          :value=\"preference.offering_id\"\n                          :disabled=\"!offered(preference.offering_id, n) || classFull(preference.offering_id, n)\">\n                    {{ preference.badge.name }}\n                    <span v-if=\"preference.price !== '0.00'\">\n                      ({{ preference.price | currency }})\n                    </span>\n                    <span v-if=\"preference.duration > 1\">\n                      ({{ preference.duration }} periods)\n                    </span>\n                    <span v-if=\"sizeInfoForOffering(event.id, preference.offering_id)\">\n                      ({{ sizeInfoText(preference.offering_id, n) }})\n                    </span>\n                  </option>\n                </optgroup>\n                <option disabled></option>\n                <optgroup label=\"All Offerings\">\n                  <option v-for=\"offering in sortedOfferings\"\n                          :key=\"offering.details.id\"\n                          :value=\"offering.details.id\"\n                          :disabled=\"!offered(offering.details.id, n) || classFull(offering.details.id, n)\">\n                    {{ offering.name }}\n                    <span v-if=\"offering.details.price !== '0.00'\">\n                      ({{ offering.details.price | currency }})\n                    </span>\n                    <span v-if=\"offering.details.duration > 1\">\n                      ({{ offering.details.duration }} periods)\n                    </span>\n                    <span v-if=\"sizeInfoForOffering(event.id, offering.details.id)\">\n                      ({{ sizeInfoText(offering.details.id, n) }})\n                    </span>\n                  </option>\n                </optgroup>\n              </select>\n            </span>\n          </div>\n        </div>\n      </div>\n    </form>\n    </form>\n    <div class=\"field is-grouped\">\n      <div class=\"control\">\n        <button class=\"button is-primary\"\n                :disabled=\"saving\"\n                :class=\" {'is-loading': saving }\"\n                @click=\"setAssignments()\">Save Assignments</button>\n      </div>\n      <div class=\"control\">\n        <button class=\"button\"\n                :disabled=\"saving\"\n                @click=\"$emit('done')\">Cancel</button>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash';\n\nimport ClassSizesUpdate from 'mixins/ClassSizesUpdate';\n\nexport default {\n  props: {\n    scout: {\n      type: Object,\n      required: true\n    },\n    event: {\n      type: Object,\n      required: true\n    },\n    preferences: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    registration: {\n      type: Object,\n      require: true\n    },\n    classes: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      assignments: [],\n      saving: false\n    };\n  },\n  computed: {\n    sortedOfferings() {\n      return _.orderBy(this.event.offerings, 'name');\n    }\n  },\n  methods: {\n    classFull(offeringId, period) {\n      return this.sizeInfoForOffering(this.event.id, offeringId)[period] >=\n        this.sizeInfoForOffering(this.event.id, offeringId).size_limit;\n    },\n    maybeRespondToDuration(offeringId, period) {\n      let offering = _.find(this.event.offerings, offering => {\n        return offering.details.id === Number(offeringId);\n      });\n\n      if (!offering || offering.details.duration < 2) {\n        return;\n      } else {\n        this.assignments[1] = offeringId;\n        this.assignments[2] = offeringId;\n      }\n    },\n    offered(offeringId, period) {\n      let offering = _.find(this.event.offerings, offering => {\n        return offering.details.id === offeringId;\n      });\n\n      return _.indexOf(offering.details.periods, period) >= 0;\n    },\n    setAssignments() {\n      this.saving = true;\n\n      let postData = [];\n\n      _.forEach(this.assignments, (assignment, index) => {\n        if (!assignment) {\n          return;\n        }\n\n        let existingData = _.find(postData, { offering: assignment });\n        let existingAssignment = _.find(this.registration.assignments, {\n          offering_id: assignment\n        });\n\n        if (existingData) {\n          existingData.periods.push(index + 1);\n        } else {\n          postData.push({\n            periods: [index + 1],\n            offering: assignment,\n            completions:\n              (existingAssignment && existingAssignment.details.completions) ||\n              []\n          });\n        }\n      });\n\n      this.$store\n        .dispatch('setAssignments', {\n          scoutId: this.scout.scout_id,\n          registrationId: this.registration.id,\n          assignments: postData,\n          eventId: this.event.id\n        })\n        .then(() => {\n          this.loadClasses(this.event.id);\n        })\n        .then(() => {\n          this.error = '';\n          this.$emit('done');\n        })\n        .catch(err => {\n          this.error =\n            'Failed to save assignments. Please refresh and try again';\n        })\n        .then(() => {\n          this.saving = false;\n        });\n    },\n    sizeInfoText(offeringId, period) {\n      return `${this.sizeInfoForOffering(this.event.id, offeringId)[\n        period\n      ]} of ${this.sizeInfoForOffering(this.event.id, offeringId).size_limit}`;\n    }\n  },\n  mounted() {\n    let result = [null, null, null];\n\n    _.forEach(this.registration.assignments, assignment => {\n      return _.forEach(assignment.details.periods, period => {\n        result[Number(period) - 1] = assignment.offering_id;\n      });\n    });\n\n    this.assignments = result;\n  },\n  mixins: [ClassSizesUpdate]\n};\n</script>\n\n<style lang=\"scss\" scoped>\nli {\n  padding-left: 1rem;\n}\n\nform {\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n}\n</style>\n","import { render, staticRenderFns } from \"./AssignmentEdit.vue?vue&type=template&id=103cd2d6&scoped=true\"\nimport script from \"./AssignmentEdit.vue?vue&type=script&lang=js\"\nexport * from \"./AssignmentEdit.vue?vue&type=script&lang=js\"\nimport style0 from \"./AssignmentEdit.vue?vue&type=style&index=0&id=103cd2d6&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"103cd2d6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceRow.vue?vue&type=style&index=0&id=33c5f681&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttendanceRow.vue?vue&type=style&index=0&id=33c5f681&lang=scss&scoped=true\"","export default {\n  props: {\n    registration: {\n      type: Object,\n      required: true\n    },\n    event: {\n      type: Object,\n      required: true\n    }\n  },\n  computed: {\n    assignments() { return this.registration.assignments },\n    assignmentList() {\n      let result = [null, null, null];\n\n      _.forEach(this.registration.assignments, (assignment) => {\n        return _.forEach(assignment.details.periods, (period) => {\n          result[Number(period) - 1] = assignment;\n        });\n      });\n\n      return result;\n    },\n    scout() { return this.registration.scout },\n    preferences() {\n      return _.orderBy(this.registration.preferences, ['details.rank']);\n    },\n    purchases() { return this.registration.purchases },\n    registrationAssignments() {\n      return _.map(_.omitBy(this.assignmentList, _.isNil), (assignment) => {\n        return {\n          name: assignment.badge.name,\n          price: assignment.price,\n          periods: assignment.details.periods\n        }\n      });\n    },\n    registrationPreferences() {\n      return _.map(this.preferences, (preference) => {\n        return {\n          name: preference.badge.name,\n          price: preference.price\n        };\n      });\n    },\n    registrationPurchases() {\n      return _.map(this.purchases, (purchase) => {\n        return {\n          price: purchase.price,\n          size: purchase.details.size,\n          item: purchase.item,\n          quantity: purchase.details.quantity,\n          id: purchase.id\n        };\n      });\n    }\n  }\n}","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentEdit.vue?vue&type=style&index=0&id=103cd2d6&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AssignmentEdit.vue?vue&type=style&index=0&id=103cd2d6&lang=scss&scoped=true\""],"sourceRoot":""}