(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+0EH":function(e,t,n){},"/R9I":function(e,t,n){"use strict";var s=n("RC/P");n.n(s).a},"/SFx":function(e,t,n){var s={"./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy"};function i(e){var t=r(e);return n(t)}function r(e){var t=s[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id="/SFx"},"/jHT":function(e,t,n){},"0K+O":function(e,t,n){"use strict";var s=n("+0EH");n.n(s).a},"8u77":function(e,t,n){"use strict";var s=n("B2ha");n.n(s).a},"9MiH":function(e,t,n){"use strict";var s=n("QbLZ"),i=n.n(s),r=n("L2JU"),a=n("fBmq"),o=n("Jc9L"),c=n("LvDl"),l=n.n(c),u=n("vDqi"),d=n.n(u),f=n("P6sX"),p={props:{registrations:{type:Array,required:!0}},data:function(){return{sizes:["xs","s","m","l","xl"]}},computed:{purchases:function(){return l.a.chain(this.registrations).map("purchases").flatten().groupBy("item").value()},groupedPurchases:function(){var e=l.a.cloneDeep(this.purchases);return l.a.forEach(this.purchases,function(t,n){if(t[0].has_size){e[n]={hasSize:!0,items:[]};var s=l.a.chain(t).groupBy("details.size").value();e[n].items=s}}),e}},methods:{totalDue:function(e){return l.a.reduce(e,function(e,t){return e+Number(t.price)*Number(t.details.quantity)},0)},totalQuantity:function(e){return l.a.reduce(e,function(e,t){return e+Number(t.details.quantity)},0)}}},v=(n("ul9Z"),n("KHd+")),h=Object(v.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",e._l(e.groupedPurchases,function(t,s){return n("li",{key:s},[t.hasSize?n("span",[n("b",[e._v(e._s(s)+":")]),e._v(" "),n("ul",{staticClass:"subtotal"},e._l(e.sizes,function(s){return n("li",{key:s},[n("b",{staticClass:"uppercase"},[e._v(e._s(s)+":")]),e._v(" "),t.items[s]?n("span",[e._v("\n              "+e._s(e._f("currency")(e.totalDue(t.items[s])))+"\n              ("+e._s(e.totalQuantity(t.items[s]))+" ×\n              "+e._s(e._f("currency")(t.items[s][0].price))+")\n            ")]):n("span",[e._v("\n              No purchases\n            ")])])}))]):n("span",[n("b",[e._v(e._s(s)+":")]),e._v("\n        "+e._s(e._f("currency")(e.totalDue(t)))+"\n        ("+e._s(e.totalQuantity(t))+" × "+e._s(e._f("currency")(t[0].price))+")\n      ")])])}))])},[],!1,null,null,null).exports,m={props:{event:{type:Object,required:!0},registrations:{type:Array,required:!0}},data:function(){return{error:"",loading:!1,totalDue:null}},computed:i()({},Object(r.b)(["profile","isTeacher"]),{isCoordinator:function(){return"coordinator"===this.profile.role},subtotal:function(){return this.subcost("assignments")+this.subcost("purchases")+this.registrations.length*Number(this.event.price)}}),methods:{subcost:function(e){return e?l.a.reduce(this.registrations,function(t,n){return t+l.a.reduce(n[e],function(e,t){return e+Number(t.price)*(Number(t.details.quantity)||1)},0)},0):0}},mounted:function(){var e=this;if(this.registrations.length>0&&!this.isTeacher){var t=this.isCoordinator?f.a.USERS_URL+this.profile.id+"/events/"+this.event.id+"/cost":f.a.EVENTS_URL+this.event.id+"/income";return d.a.get(t).then(function(t){e.totalDue=e.isCoordinator?t.data.cost:t.data.income,e.error=""}).catch(function(){e.error="Failed to get the necessary information for statistics."}).then(function(){e.loading=!1})}},components:{PurchasedItems:h}},g=(n("wtMJ"),Object(v.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",[e.isTeacher?e._e():n("span",[n("li",[n("b",[e._v(e._s(e.isCoordinator?"Total Due":"Total Income")+" (all scouts):")]),e._v(" "),e.totalDue?n("span",[e._v(e._s(e._f("currency")(e.totalDue)))]):n("span",[e._v("Calculating...")])]),e._v(" "),n("br")]),e._v(" "),n("li",[n("b",[e._v("Showing Information for: ")]),e._v("\n      "+e._s(e.registrations.length)+" "+e._s(1==e.registrations.length?"scout":"scouts")+"\n    ")]),e._v(" "),n("li",[n("b",[e._v("\n        Total for "+e._s(e.registrations.length)+" "+e._s(1==e.registrations.length?"scout":"scouts")+"\n        shown:\n      ")]),e._v(" "),n("span",[e._v(e._s(e._f("currency")(e.subtotal)))])]),e._v(" "),n("br"),e._v(" "),n("li",[n("b",[e._v("Event Registration Fees")]),e._v(" "),n("span",[e._v("\n        "+e._s(e._f("currency")(e.registrations.length*Number(e.event.price)))+" ("+e._s(e.registrations.length)+" × "+e._s(e._f("currency")(e.event.price))+")\n      ")])]),e._v(" "),n("li",[n("b",[e._v("Merit Badge Fees:")]),e._v(" "),n("span",[e._v(e._s(e._f("currency")(e.subcost("assignments"))))])]),e._v(" "),n("li",[n("b",[e._v("Purchase Costs:")]),e._v(" "),n("span",[e._v(e._s(e._f("currency")(e.subcost("purchases"))))])]),e._v(" "),n("purchased-items",{staticClass:"purchased-items",attrs:{registrations:e.registrations}})],1)])},[],!1,null,null,null).exports),b=n("ofKJ"),E={props:{listLink:{type:String,required:!0},detailLink:{type:String,required:!0}},data:function(){return{eventId:0,error:"",loading:!1,search:"",troopFilter:null,printing:!1}},computed:i()({},Object(r.b)(["allEvents","registrations","isCoordinator"]),{event:function(){return _.find(this.allEvents,{id:this.eventId})},filteredRegistrations:function(){var e=this;if(!this.selectedRegistration)return{};var t=void 0;return t=this.troopFilter?_.filter(this.selectedRegistration,function(t){return t.scout.troop===e.troopFilter}):this.selectedRegistration,t=_.filter(t,function(t){return t.scout.fullname.toLowerCase().indexOf(e.search.toLowerCase())>-1}),_.orderBy(t,["scout.troop"])},selectedRegistration:function(){return this.registrations[this.eventId]||[]},troops:function(){return this.selectedRegistration?_.orderBy(_.uniq(_.map(this.selectedRegistration,"scout.troop"))):[]}}),methods:{dismissError:function(){this.error=""},print:function(){window.print()}},watch:{eventId:function(){var e=this;this.loading=!0,this.totalDue=null,!this.hasClassInfoForEvent(this.eventId)&&this.isCoordinator&&this.loadClasses(this.eventId),this.$store.dispatch("getRegistrations",this.eventId).then(function(){e.error=""}).catch(function(){e.error="Failed to get registration information for this event"}).then(function(){e.loading=!1})}},components:{FilterBox:b.a,TroopStats:g},mixins:[a.a,o.a]},C=(n("DX7h"),Object(v.a)(E,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.eventLoading?n("spinner-page"):n("div",[n("filter-box",{staticClass:"attendance-list-filters",attrs:{troop:e.troopFilter,eventId:e.eventId,search:e.search,troops:e.troops},on:{"update:troop":function(t){e.troopFilter=t},"update:eventId":function(t){e.eventId=t},"update:search":function(t){e.search=t}}}),e._v(" "),e.error?n("closable-error",{on:{dismissed:function(t){e.dismissError()}}},[e._v(e._s(e.error))]):e._e(),e._v(" "),e.loading?n("spinner-page"):n("div",{attrs:{id:"printable"}},[e.filteredRegistrations.length>0?n("div",{staticClass:"attendance-list"},[n("div",{staticClass:"box stats-container"},[n("h5",{staticClass:"title is-5"},[e._v("\n            Event Overview for "+e._s(e.event.semester)+" "+e._s(e.event.year)+"\n            "),n("div",{staticClass:"is-pulled-right"},[e.printing?e._e():n("button",{staticClass:"button print-hidden",on:{click:function(t){e.print()}}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa fa-print"})]),e._v(" "),n("span",[e._v("Print")])])])]),e._v(" "),n("troop-stats",{attrs:{event:this.event,registrations:this.filteredRegistrations}})],1),e._v(" "),n("div",{staticClass:"tabs is-centered print-hidden"},[n("ul",[n("router-link",{attrs:{to:e.listLink,tag:"li"}},[n("a",[e._v("List View")])]),e._v(" "),n("router-link",{attrs:{to:e.detailLink,tag:"li"}},[n("a",[e._v("Detail View")])])],1)]),e._v(" "),n("div",{attrs:{id:"print-break-before"}}),e._v(" "),n("router-view",{attrs:{event:this.event,classes:e.classesForEvent(this.eventId),registrations:this.filteredRegistrations}})],1):n("div",{staticClass:"notification"},[n("p",[e._v("\n          No attendance records match the selected filters. Try selecting a different event,\n          or searching for another scout.\n        ")])])])],1)],1)},[],!1,null,"69108d13",null));t.a=C.exports},B2ha:function(e,t,n){},DX7h:function(e,t,n){"use strict";var s=n("Etqf");n.n(s).a},Etqf:function(e,t,n){},"FyE/":function(e,t,n){"use strict";var s={data:function(){return{dismissed:!1}},methods:{dismiss:function(){this.dismissed=!0,this.$emit("dismissed")}}},i=n("KHd+"),r=Object(i.a)(s,function(){var e=this.$createElement,t=this._self._c||e;return this.dismissed?this._e():t("div",{staticClass:"notification is-danger"},[t("button",{staticClass:"delete",on:{click:this.dismiss}}),this._v(" "),this._t("default",[this._v("\n    An error occured. Please refresh the page to try again, or come back later.\n  ")])],2)},[],!1,null,null,null);t.a=r.exports},"Ij+b":function(e,t,n){"use strict";var s=n("/jHT");n.n(s).a},IooY:function(e,t,n){"use strict";var s=n("UtkW");n.n(s).a},Iwkk:function(e,t,n){"use strict";var s=n("LiUL");n.n(s).a},Jc9L:function(e,t,n){"use strict";var s=n("4d7F"),i=n.n(s),r=n("QbLZ"),a=n.n(r),o=n("LvDl"),c=n.n(o),l=n("L2JU");t.a={data:function(){return{classesLoading:!1,classLoadError:""}},computed:a()({},Object(l.b)(["eventClasses"])),methods:{sizeInfoForOffering:function(e,t){var n=this.classesForEvent(e);return(c.a.find(n,{offering_id:t})||{}).sizeInfo},classesForEvent:function(e){return this.eventClasses[e]||[]},hasClassInfoForEvent:function(e){var t=this.classesForEvent(e);return t&&t.length>0&&t[0].sizeInfo},loadClasses:function(e){var t=this;this.classesLoading=!0,this.$store.dispatch("getClasses",e).then(function(n){return t.getSizesForBadges(e,c.a.map(n,"badge.badge_id"))}).then(function(){t.classLoadError=""}).catch(function(){t.classLoadError="Failed to get classes for this event"}).then(function(){t.classesLoading=!1})},getSizesForBadges:function(e,t){var n=this;return new i.a(function(s,i){n.$store.dispatch("getClassSizes",{eventId:e,badgeIds:t}).then(function(){return s()}).catch(function(){return i()})})}}}},KrLZ:function(e,t,n){},LiUL:function(e,t,n){},MNKV:function(e,t,n){},MSER:function(e,t,n){"use strict";var s={props:{event:{type:Object,required:!0},preferences:{type:Array,default:function(){return[]}},purchases:{type:Array,default:function(){return[]}},assignments:{type:Array,default:function(){return[]}},showAssignments:{type:Boolean,default:!0},showPreferences:{type:Boolean,default:!0},showActualCost:{type:Boolean,default:!0},showProjectedCost:{type:Boolean,default:!0}},computed:{actualCost:function(){return Number(this.event.price)+Number(this.assignmentCosts)+Number(this.purchaseCosts)},assignmentCosts:function(){return _.reduce(_.uniqBy(this.assignments,"offering_id"),function(e,t){return t?e+Number(t.price):e},0)},preferenceCosts:function(){return _.reduce(this.preferences,function(e,t){return e+Number(t.price)},0)},projectedCost:function(){return Number(this.event.price)+Number(this.preferenceCosts)+Number(this.purchaseCosts)},purchaseCosts:function(){return _.reduce(this.purchases,function(e,t){return e+Number(t.price)*Number(t.quantity)},0)}}},i=(n("mayP"),n("KHd+")),r=Object(i.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"columns"},[e.showProjectedCost?n("p",{staticClass:"column is-6"},[n("b",[e._v("Projected Costs: ")]),e._v(e._s(e._f("currency")(e.projectedCost))+"\n      "),n("ul",{staticClass:"itemized-list"},[n("li",[e._v("Event Fee: "+e._s(e._f("currency")(e.event.price)))]),e._v(" "),n("li",[e._v("Merit Badge Fees: "+e._s(e._f("currency")(e.preferenceCosts)))]),e._v(" "),n("li",[e._v("Purchases: "+e._s(e._f("currency")(e.purchaseCosts)))])])]):e._e(),e._v(" "),e.showActualCost?n("p",{staticClass:"column is-6"},[n("b",[e._v("Actual Costs: ")]),e._v(e._s(e._f("currency")(e.actualCost))+"\n      "),n("ul",{staticClass:"itemized-list"},[n("li",[e._v("Event Fee: "+e._s(e._f("currency")(e.event.price)))]),e._v(" "),n("li",[e._v("Merit Badge Fees: "+e._s(e._f("currency")(e.assignmentCosts)))]),e._v(" "),n("li",[e._v("Purchases: "+e._s(e._f("currency")(e.purchaseCosts)))])])]):e._e()]),e._v(" "),e.showPreferences?n("div",{staticClass:"registration-section"},[n("b",[e._v("Merit Badge Preferences:")]),e._v(" "),e.preferences.length>0?n("div",{staticClass:"preference-list"},[n("ol",e._l(e.preferences,function(t){return n("li",{key:t.name},[e._v("\n          "+e._s(t.name)+"\n          "),"0.00"!==t.price?n("span",[e._v("\n            ("+e._s(e._f("currency")(t.price))+")\n          ")]):e._e()])}))]):n("div",{staticClass:"notification"},[e._t("preference-notification",[e._v("\n        This scout does not have any preferences listed for this event.\n      ")])],2)]):e._e(),e._v(" "),e.purchases.length>0?n("div",{staticClass:"registration-section"},[n("b",[e._v("Purchased Items:")]),e._v(" "),n("ul",{staticClass:"itemized-list"},e._l(e.purchases,function(t){return n("li",{key:t.id},[e._v("\n        "+e._s(t.item)+":\n        "),t.size?n("span",[e._v("\n          (Size "+e._s(e._f("upperCase")(t.size))+")\n        ")]):e._e(),e._v("\n        "+e._s(e._f("currency")(t.price))+" × "+e._s(t.quantity)+" = "+e._s(e._f("currency")(t.price*t.quantity))+"\n      ")])}))]):e._e(),e._v(" "),e.showAssignments?n("div",{staticClass:"registration-section"},[n("b",[e._v("Assignments:")]),e._v(" "),e.assignments.length<1?n("div",{staticClass:"attendance-section"},[n("div",{staticClass:"notification"},[e._t("assignment-notification",[e._v("\n          No Merit Badges have been assigned for MBU "+e._s(e.event.semester)+" "+e._s(e.event.year)+".\n        ")])],2)]):n("div",[n("ul",{staticClass:"itemized-list"},e._l(e.assignments,function(t,s){return n("li",{key:s},[e._v("\n          Period "+e._s(s+1)+":\n          "),n("span",t?[e._v("\n            "+e._s(t.badge.name)+"\n            "),"0.00"!==t.price?n("span",[e._v("\n              ("+e._s(e._f("currency")(t.price))+")\n            ")]):e._e(),e._v(" "),n("div",{staticClass:"completions"},[e._v("\n              Completions:\n              "),t.details.completions.length>0?n("span",[e._v("\n                "+e._s(e._f("commaSeparated")(e._f("numAlphaSort")(t.details.completions)))+"\n              ")]):n("span",[e._v("\n                No completions recorded yet\n              ")])])]:[e._v("Unassigned")])])}))])]):e._e()])},[],!1,null,"b7c51c2c",null);t.a=r.exports},P6sX:function(e,t,n){"use strict";t.a={API_URL:"/api/",BADGES_URL:"/api/badges/",CURRENT_EVENT_URL:"/api/events/current",EVENTS_URL:"/api/events/",FORGOT_URL:"/api/forgot/",LOGIN_URL:"/api/authenticate/",PROFILE_URL:"/api/profile/",RESET_API_URL:"/api/reset/",RESET_URL:"http://mbu.online/reset/",SCOUTS_URL:"/api/scouts/",SIGNUP_URL:"/api/signup/",USERS_URL:"/api/users/"}},PLw5:function(e,t,n){"use strict";var s=n("PTdY");n.n(s).a},PTdY:function(e,t,n){},Q2AE:function(e,t,n){"use strict";var s,i,r,a,o,c,l,u=n("oCYn"),d=n("L2JU"),f=n("4d7F"),p=n.n(f),v=n("YEIV"),h=n.n(v),m=n("vDqi"),g=n.n(m),_=n("LvDl"),b=n.n(_),E="auth/LOGIN",C=n("P6sX"),y={state:{profile:{},isAuthenticated:!1},getters:{profile:function(e){return e.profile},role:function(e){return e.profile.role},isAuthenticated:function(e){return e.isAuthenticated},isApproved:function(e){return e.profile.approved},isTeacher:function(e){return"teacher"===e.profile.role},isCoordinator:function(e){return"coordinator"===e.profile.role},isAdmin:function(e){return"admin"===e.profile.role},isTeacherOrAdmin:function(e){return"teacher"===e.profile.role||"admin"===e.profile.role},isCoordinatorOrAdmin:function(e){return"coordinator"===e.profile.role||"admin"===e.profile.role}},actions:{checkEmail:function(e,t){e.commit;return new p.a(function(e,n){g.a.get(C.a.USERS_URL+"exists/"+t).then(function(t){console.log("Got response",t.data.exists),e(t.data.exists)}).catch(function(e){console.error("Failed to check for user",e),n()})})},createAccount:function(e,t){e.commit;return new p.a(function(e,n){g.a.post(C.a.SIGNUP_URL,t).then(function(t){console.log("Successfully created user"),e(t.data.profile.id)}).catch(function(e){console.error("Failed to create user"),n(e.response.data.message)})})},deleteAccount:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.USERS_URL+t).then(function(t){console.log("Account deleted"),n("auth/LOGOUT"),e()}).catch(function(e){console.error("Failed to delete account"),s()})})},getProfile:function(e,t){var n=e.commit;return new p.a(function(e,t){var s=localStorage.getItem("token");g.a.get(C.a.PROFILE_URL,{headers:{Authorization:s}}).then(function(t){console.log("Successfully authenticated from JWT"),n("auth/SAVE_PROFILE",t.data.profile),e()}).catch(function(e){console.error("Failed to authenticate JWT"),localStorage.removeItem("token"),t()})})},login:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.LOGIN_URL,t).then(function(t){console.log("Successfully logged in user"),n(E,t.data),e()}).catch(function(e){console.error("Failed to login user"),s(e.response.data.message)})})},signup:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.SIGNUP_URL,t).then(function(t){console.log("Successfully created user"),n(E,t.data),e()}).catch(function(e){console.error("Failed to create user"),s(e.response.data.message)})})},sendResetEmail:function(e,t){e.commit;var n={email:t,url:C.a.RESET_URL};return new p.a(function(e,s){g.a.post(C.a.FORGOT_URL,n).then(function(n){console.log("Send reset email to",t),e()}).catch(function(e){console.error("Failed to send reset email"),s()})})},resetPassword:function(e,t){e.commit;return new p.a(function(e,n){g.a.post(C.a.RESET_API_URL,t).then(function(){console.log("Reset password"),e()}).catch(function(e){console.error("Failed to reset password",e.response.data),n(e.response.data.message)})})},updateProfile:function(e,t){var n=e.commit,s=e.state;return new p.a(function(e,i){g.a.put(C.a.USERS_URL+t.id,t).then(function(i){console.log("Updated profile"),s.profile.id==t.id&&(console.log("Logging in"),n(E,i.data)),e()}).catch(function(e){console.error("Failed to update profile"),i(e.response.data.message)})})},logout:function(e){var t=e.commit;console.log("Logging out"),t("auth/LOGOUT")}},mutations:(s={},h()(s,E,function(e,t){e.profile=t.profile,e.isAuthenticated=!0,t.token&&(localStorage.setItem("token",t.token),g.a.defaults.headers.common.Authorization=t.token)}),h()(s,"auth/LOGOUT",function(e){e.profile={},e.isAuthenticated=!1,localStorage.removeItem("token"),g.a.defaults.headers.common.Authorization=""}),h()(s,"auth/SAVE_PROFILE",function(e,t){e.profile=t,e.isAuthenticated=!0,g.a.defaults.headers.common.Authorization=localStorage.getItem("token")}),s)},I={state:{badges:[]},getters:{badges:function(e){return b.a.orderBy(e.badges,"name")},badgeIdsAndNames:function(e){return b.a.sortBy(b.a.map(e.badges,function(e){return{id:e.id,name:e.name}}),"name")}},actions:{addBadge:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.BADGES_URL,t).then(function(s){console.log("Created badge",s.data.badge),n("badges/ADD",s.data.badge),e(t)}).catch(function(e){console.log("Failed to create badge",e.response.data.message),s(e.response.data.message)})})},deleteBadge:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.BADGES_URL+t).then(function(){console.log("Delete badge",t),n("badges/DELETE",t),e()}).catch(function(){console.log("Failed to delete badge",t),s()})})},getBadges:function(e){var t=e.commit;return new p.a(function(e,n){g.a.get(C.a.BADGES_URL).then(function(n){console.log("Received badges",n.data),t("badges/GET",n.data),e()})})},updateBadge:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.BADGES_URL+t.id,t).then(function(s){console.log("Updated badge to",s.data.badge),n("badges/UPDATE",s.data.badge),e(t)}).catch(function(e){console.log("Failed to update badge",e.response.data.message),s(e.response.data.message)})})}},mutations:(i={},h()(i,"badges/ADD",function(e,t){e.badges.push(t)}),h()(i,"badges/DELETE",function(e,t){b.a.remove(e.badges,function(e){return e.id===t})}),h()(i,"badges/GET",function(e,t){e.badges=t}),h()(i,"badges/UPDATE",function(e,t){var n=b.a.indexOf(e.badges,{id:t.id});e.badges.splice(n,1,t)}),i)},S=n("QbLZ"),w=n.n(S),T={state:{eventClasses:{}},getters:{eventClasses:function(e){return e.eventClasses}},actions:{getClasses:function(e,t){var n=e.commit;return new p.a(function(e,s){return g.a.get(C.a.EVENTS_URL+t+"/offerings/assignees").then(function(s){console.log("Received classes",s.data),n("classes/SET",{eventId:String(t),classes:s.data}),e(s.data)}).catch(function(e){console.error("Failed to get classes for event",t,e),s()})})},getClassSizes:function(e,t){var n=e.commit,s=p.a.all(b.a.map(t.badgeIds,function(e){return g.a.get(C.a.EVENTS_URL+t.eventId+"/badges/"+e+"/limits")}));return new p.a(function(e,i){s.then(function(s){var i=b.a.map(s,function(e,n){return{badgeId:t.badgeIds[n],sizeLimits:e.data}});console.log("Received class size information",i),n("classes/SET_SIZES",{eventId:t.eventId,sizes:i}),e(i)}).catch(function(e){console.error("Failed to get class size limits",e),i()})})}},mutations:(r={},h()(r,"classes/SET",function(e,t){u.a.set(e.eventClasses,t.eventId,t.classes)}),h()(r,"classes/SET_SIZES",function(e,t){var n=e.eventClasses[t.eventId];if(void 0!=n){var s=[];b.a.forEach(n,function(e,n){var i=b.a.find(t.sizes,function(t){return e.badge.badge_id===t.badgeId});s.push(w()({},e,{sizeInfo:i&&i.sizeLimits||e.sizeInfo||{}}))}),u.a.set(e.eventClasses,t.eventId,s)}}),r)},U={state:{},getters:{},actions:{},mutations:{}},L={state:{events:[],currentEvent:{},defaultSelectedId:null},getters:{allEvents:function(e){return e.events},currentEvent:function(e){return b.a.find(e.events,function(t){return t.id===e.currentEvent.id})||{}},currentEventIndex:function(e){return b.a.findIndex(e.events,function(t){return t.id===e.currentEvent.id})},isCurrentEvent:function(e){return function(t){return e.currentEvent.id===t}},orderedEvents:function(e){return b.a.orderBy(e.events,"date","desc")},offeringsForEvent:function(e){return function(t){var n=b.a.find(e.events,{id:t});return n?n.offerings:[]}},selectedEventId:function(e){return e.defaultSelectedId}},actions:{addEvent:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.EVENTS_URL,t).then(function(t){console.log("Created event",t.data.event),n("events/ADD",t.data.event),e(t.data.event)}).catch(function(e){console.error("Failed to create event",e.response.data.message),s(e.response.data.message)})})},createOffering:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.EVENTS_URL+t.eventId+"/badges",t.details).then(function(s){console.log("Created offering",t.details,"for event",t.eventId),n("events/UPDATE",s.data.event),e()}).catch(function(e){console.error("Failed to create offering",t.details),s(e.response.data.message)})})},createPurchasable:function(e,t){var n=e.commit;return new p.a(function(e,s){console.log("posting",t),g.a.post(C.a.EVENTS_URL+t.eventId+"/purchasables",t.purchasable).then(function(s){console.log("Added purchasable",t.purchasable),n("purchasables/SET",{eventId:t.eventId,purchasables:s.data.purchasables}),e()}).catch(function(e){console.error("Failed to create purchasable",e),s()})})},deleteEvent:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.EVENTS_URL+t).then(function(){console.log("Deleted event",t),n("events/DELETE",t),e()}).catch(function(){console.error("Failed to delete event",t),s()})})},deleteOffering:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.EVENTS_URL+t.eventId+"/badges/"+t.badgeId).then(function(s){console.log("Deleted badge",t.badgeId,"from event",t.eventId),n("offerings/DELETE",t),e()}).catch(function(){console.error("Failed to delete offering",t.badgeId),s()})})},deletePurchasable:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.EVENTS_URL+t.eventId+"/purchasables/"+t.purchasableId).then(function(s){console.log("Deleted item",t.purchasableId,"from event",t.eventId),n("purchasable/DELETE",t),e()}).catch(function(){console.error("Failed to delete item",t.purchasableId),s()})})},getEvents:function(e){var t=e.commit;if(!(e.state.events.length>1))return new p.a(function(e,n){g.a.get(C.a.EVENTS_URL).then(function(n){console.log("Received events",n.data),t("events/GET",n.data),e()}).catch(function(){console.error("Failed to get events"),n()})})},getCurrentEvent:function(e){var t=e.commit,n=e.state;if(!n.currentEvent||!n.currentEvent.id)return new p.a(function(e,n){g.a.get(C.a.CURRENT_EVENT_URL).then(function(n){console.log("Received current event",n.data),t("events/SET_CURRENT",n.data),e(n.data)}).catch(function(){console.error("Failed to get current event"),n()})})},setSelectedId:function(e,t){(0,e.commit)("events/SET_SELECTED",t)},saveCurrentEvent:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.CURRENT_EVENT_URL,{id:t}).then(function(s){console.log("Updated current event to",t),n("events/SET_CURRENT",s.data.currentEvent),e(s.data.currentEvent)}).catch(function(e){console.error("Failed to save current event",e.response.data.message),s(e.response.data.message)})})},updateEvent:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.EVENTS_URL+t.id,t).then(function(t){console.log("Updated event to",t.data.event),n("events/UPDATE",t.data.event),e(t.data.event)}).catch(function(e){console.error("Failed to update event",e.response.data.message),s(e.response.data.message)})})},updateOffering:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.EVENTS_URL+t.eventId+"/badges/"+t.badgeId,t.offering).then(function(s){console.log("Updated offering for badge",t.badgeId),n("offerings/UPDATE",s.data.offering),e()}).catch(function(){console.error("Failed to update offering"),s()})})},updatePurchasable:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.EVENTS_URL+t.eventId+"/purchasables/"+t.purchasable.id,t.purchasable).then(function(s){n("purchasable/UPDATE",{eventId:t.eventId,purchasable:s.data.purchasable}),e()}).catch(function(e){console.error("Failed to update purchasable",e),s()})})}},mutations:(a={},h()(a,"events/ADD",function(e,t){e.events.push(t)}),h()(a,"events/DELETE",function(e,t){e.events=b.a.reject(e.events,function(e){return e.id===t})}),h()(a,"offerings/DELETE",function(e,t){var n=b.a.find(e.events,{id:t.eventId});n.offerings=b.a.reject(n.offerings,function(e){return e.id===t.badgeId})}),h()(a,"purchasable/DELETE",function(e,t){var n=b.a.find(e.events,{id:t.eventId});n.purchasables=b.a.reject(n.purchasables,function(e){return e.id===t.purchasableId})}),h()(a,"events/GET",function(e,t){e.events=t}),h()(a,"events/SET_CURRENT",function(e,t){e.currentEvent=t}),h()(a,"purchasables/SET",function(e,t){var n=b.a.find(e.events,{id:t.eventId});u.a.set(n,"purchasables",t.purchasables)}),h()(a,"events/SET_SELECTED",function(e,t){e.defaultSelectedId=t}),h()(a,"events/UPDATE",function(e,t){var n=b.a.findIndex(e.events,{id:t.id});e.events.splice(n,1,t)}),h()(a,"offerings/UPDATE",function(e,t){var n=b.a.find(e.events,{id:t.event_id});b.a.find(n.offerings,{id:t.badge_id}).details=t}),h()(a,"purchasable/UPDATE",function(e,t){var n=b.a.find(e.events,{id:t.eventId}),s=b.a.findIndex(n.purchasables,function(e){return e.id===t.purchasable.id});n.purchasables.splice(s,1,t.purchasable)}),a)},R={state:{registrations:{}},getters:{registrations:function(e){return e.registrations}},actions:{getRegistrations:function(e,t){var n=e.commit,s=(e.state,e.rootState),i=void 0;return i="coordinator"===s.authentication.profile.role?C.a.USERS_URL+s.authentication.profile.id+"/events/"+t+"/registrations":C.a.EVENTS_URL+t+"/registrations",new p.a(function(e,s){g.a.get(i).then(function(s){console.log("Received registrations",s.data),n("eventRegistrations/SET",{eventId:t,registrations:s.data}),e()}).catch(function(e){console.error("Failed to get registrations with",e),s()})})},saveCompletions:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/assignments/"+t.offeringId,{completions:t.completions}).then(function(s){n("eventRegistrationCompletion/SET",{eventId:t.eventId,offeringId:t.offeringId,registrationId:t.registrationId,completions:t.completions}),e(s.data)}).catch(function(e){console.log("Failed to save completions",e),s()})})},setAssignments:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/assignments",t.assignments).then(function(s){console.log("Set assignments for registration",t.registrationId,s.data.registration.assignments),n("eventRegistrationAssignments/SET",{eventId:t.eventId,registrationId:t.registrationId,assignments:s.data.registration.assignments}),e(s.data.registration.assignments)}).catch(function(e){console.error("Failed to set assignments",e),s()})})}},mutations:(o={},h()(o,"eventRegistrationCompletion/SET",function(e,t){var n=b.a.find(e.registrations[t.eventId],function(e){return e.registration_id===t.registrationId});if(n){var s=b.a.find(n.assignments,function(e){return e.offering_id===t.offeringId});u.a.set(s.details,"completions",t.completions)}}),h()(o,"eventRegistrationAssignments/SET",function(e,t){var n=b.a.find(e.registrations[t.eventId],function(e){return e.registration_id===t.registrationId});u.a.set(n,"assignments",t.assignments)}),h()(o,"eventRegistrations/SET",function(e,t){u.a.set(e.registrations,t.eventId,t.registrations)}),o)},D={state:{scouts:[]},getters:{scouts:function(e){return b.a.orderBy(e.scouts,"lastname")}},actions:{addPurchase:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/purchases/",t.purchase).then(function(s){console.log("Created purchase for scout",t.scoutId,t.purchase),n("purchases/SET",{registrationId:t.registrationId,purchases:s.data.registration.purchases}),e(s.data.registration.purchases)}).catch(function(e){console.error("Failed to purchase",t.purchase),s()})})},addRegistration:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.SCOUTS_URL+t.scoutId+"/registrations/",{event_id:t.eventId}).then(function(s){console.log("Created registration for scout",t.scoutId,"event",t.eventId),n("registrations/ADD",s.data.registration),e(s.data.registration)}).catch(function(e){console.error("Failed to register",t.scoutId,"for",t.eventId),s()})})},addScout:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.USERS_URL+t.userId+"/scouts",t.scout).then(function(s){console.log("Added scout",s.data.scout,"for user",t.userId),n("scouts/ADD",s.data.scout),e(s.data.scout)}).catch(function(e){console.error("Failed to create scout with error",e.response.data.message),s(e.response.data.message)})})},deletePurchase:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/purchases/"+t.purchasableId).then(function(s){console.log("Removed item",t.purchasableId),n("purchase/DELETE",t),e()}).catch(function(e){console.error("Failed to delete purchasable",e),s()})})},deleteRegistration:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.eventId).then(function(s){console.log("Deleted registration for event",t.eventId),n("registration/DELETE",t),e()}).catch(function(e){console.error("Failed to delete registration",e),s()})})},deleteScout:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.USERS_URL+t.userId+"/scouts/"+t.scoutId).then(function(s){console.log("Deleted scout",t.scoutId,"for user",t.userId),n("scouts/DELETE",t.scoutId),e()}).catch(function(e){console.errpr("Failed to delete scout with error",e),s()})})},getPurchases:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.get(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/purchases").then(function(s){console.log("Received purchases",s.data),n("purchases/SET",{scoutId:t.scoutId,registrationId:t.registrationId,purchases:s.data}),e()}).catch(function(e){console.error("Failed to fetch purchases with",e),s()})})},getPreferences:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.get(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/preferences").then(function(s){console.log("Received preferences",s.data),n("preferences/SET",{scoutId:t.scoutId,registrationId:t.registrationId,preferences:s.data}),e()}).catch(function(e){console.error("Failed to fetch preferences with",e),s()})})},getScouts:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.get(C.a.USERS_URL+t+"/scouts/registrations").then(function(s){console.log("Got scouts for user",t,s.data),n("scouts/SET",s.data),e(s.data)}).catch(function(e){console.error("Failed to get scouts",e),s()})})},setPreferences:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.post(C.a.SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/preferences",t.preferences).then(function(s){console.log("Set preferences for registration",t.registrationId,s.data.registration.preferences),n("preferences/SET",{scoutId:t.scoutId,registrationId:t.registrationId,preferences:s.data.registration.preferences}),e(s.data.registration.preferences)}).catch(function(e){console.error("Failed to set preferences",e),s()})})},updateScout:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.USERS_URL+t.userId+"/scouts/"+t.scout.id,t.scout).then(function(s){console.log("Updated scout",t.scout.id),n("scouts/UPDATE",s.data.scout),e()}).catch(function(e){console.error("Failed to update scout",e),s()})})}},mutations:(c={},h()(c,"registrations/ADD",function(e,t){b.a.find(e.scouts,{id:t.scout_id}).registrations.push({preferences:[],purchases:[],event_id:t.event_id,details:t})}),h()(c,"scouts/ADD",function(e,t){e.scouts.push(t)}),h()(c,"purchase/DELETE",function(e,t){var n=b.a.flatten(b.a.map(e.scouts,"registrations")),s=b.a.find(n,function(e){return e.details.id===t.registrationId});s.purchases=b.a.reject(s.purchases,function(e){return e.id===t.purchasableId})}),h()(c,"registration/DELETE",function(e,t){var n=b.a.find(e.scouts,{id:t.scoutId});n.registrations=b.a.reject(n.registrations,function(e){return e.event_id===t.eventId})}),h()(c,"scouts/DELETE",function(e,t){e.scouts=b.a.reject(e.scouts,function(e){return e.id===t})}),h()(c,"purchases/SET",function(e,t){var n=b.a.flatten(b.a.map(e.scouts,"registrations")),s=b.a.find(n,function(e){return e.details.id===t.registrationId});u.a.set(s,"purchases",t.purchases)}),h()(c,"preferences/SET",function(e,t){var n=b.a.find(e.scouts,{id:t.scoutId}),s=b.a.find(n.registrations,function(e){return e.details.id===t.registrationId});u.a.set(s,"preferences",b.a.sortBy(t.preferences,["details.rank"]))}),h()(c,"scouts/SET",function(e,t){e.scouts=t}),h()(c,"scouts/UPDATE",function(e,t){if(!(e.scouts.length<1)){var n=b.a.find(e.scouts,{id:t.id});e.scouts=b.a.reject(e.scouts,function(e){return e.id===t.id}),t.registrations=n.registrations,e.scouts.push(t)}}),c)},P={state:{users:[]},getters:{admins:function(e){return b.a.filter(e.users,function(e){return"admin"===e.role})},users:function(e){return e.users},unapprovedUsers:function(e){return b.a.filter(e.users,function(e){return!e.approved})}},actions:{approveUser:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.put(C.a.USERS_URL+t,{approved:!0}).then(function(s){console.log("Approved user",t),n("users/APPROVE",t),e()}).catch(function(e){console.error("Failed to approve user",e),s()})})},deleteUser:function(e,t){var n=e.commit;return new p.a(function(e,s){g.a.delete(C.a.USERS_URL+t).then(function(s){console.log("Deleted user",t),n("users/DELETE",t),e()}).catch(function(e){console.error("Failed to delete user",e),s()})})},getUsers:function(e){var t=e.commit;return new p.a(function(e,n){g.a.get(C.a.USERS_URL).then(function(n){console.log("Received users",n.data),t("users/GET_USERS",n.data),e()}).catch(function(e){console.error("Error retrieving users",e.data),n()})})}},mutations:(l={},h()(l,"users/APPROVE",function(e,t){b.a.find(e.users,function(e){return e.id===t}).approved=!0}),h()(l,"users/DELETE",function(e,t){e.users=b.a.filter(e.users,function(e){return e.id!==t})}),h()(l,"users/GET_USERS",function(e,t){e.users=t}),l)};u.a.use(d.a);t.a=new d.a.Store({modules:{authentication:y,badges:I,coordinator:U,classes:T,event:L,registration:R,scouts:D,users:P}})},"RC/P":function(e,t,n){},Sy8b:function(e,t,n){"use strict";n.r(t);var s=n("ta7f"),i={data:function(){return{credentials:{email:"",password:""},error:!1,loading:!1}},methods:{dismissError:function(){this.$v.$reset(),this.error=""},submit:function(){var e=this,t={email:this.credentials.email,password:this.credentials.password};this.loading=!0,this.$store.dispatch("login",t).then(function(){e.error=!1,e.$router.push("/")}).catch(function(t){e.error=!0}).then(function(){e.loading=!1})},signup:function(){this.$emit("close"),this.$router.push("/signup")},reset:function(){this.$emit("close"),this.$router.push("/reset")}},validations:{credentials:{email:{required:s.required,email:s.email},password:{required:s.required}}}},r=(n("Ij+b"),n("KHd+")),a=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"column is-three-quarters is-offset-2"},[n("h1",{staticClass:"title"},[e._v("Login")]),e._v(" "),n("h3",{staticClass:"subtitle"},[e._v("Welcome back to MBU Online!")]),e._v(" "),e.error?n("div",{staticClass:"notification is-warning"},[n("button",{staticClass:"delete",on:{click:function(t){t.preventDefault(),e.dismissError()}}}),e._v(" "),n("p",[e._v("Invalid email/password combination")])]):e._e(),e._v(" "),"resetSuccess"===e.$route.query.from?n("div",{staticClass:"notification is-success"},[n("p",[e._v("\n        Successfully reset your password! Please login to your account with using new password.\n      ")])]):e._e(),e._v(" "),n("form",[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:"login-email"}},[e._v("Email")]),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],staticClass:"input is-expanded",class:{"is-danger":e.$v.credentials.email.$error},attrs:{type:"email",id:"login-email",placeholder:"Enter your email"},domProps:{value:e.credentials.email},on:{blur:e.$v.credentials.email.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}})]),e._v(" "),e.$v.credentials.email.$error?n("span",[e.$v.credentials.email.email?e._e():n("span",{staticClass:"help is-danger"},[e._v("\n            Email address is invalid\n          ")]),e._v(" "),e.$v.credentials.email.required?e._e():n("span",{staticClass:"help is-danger"},[e._v("\n            Email is required\n          ")])]):e._e()]),e._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:"login-password"}},[e._v("Password")]),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],staticClass:"input is-expanded",class:{"is-danger":e.$v.credentials.password.$error},attrs:{type:"password",id:"login-password",placeholder:"Password"},domProps:{value:e.credentials.password},on:{blur:e.$v.credentials.password.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})]),e._v(" "),!e.$v.credentials.password.required&&e.$v.credentials.password.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Password is required\n        ")]):e._e()]),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",class:{"is-loading":e.loading},attrs:{disabled:e.$v.credentials.$invalid||e.loading},on:{click:function(t){t.preventDefault(),e.submit()}}},[e._v("Login")])]),e._v(" "),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-info is-outlined",attrs:{disabled:e.loading},on:{click:function(t){t.preventDefault(),e.signup()}}},[e._v("Create an Account")])]),e._v(" "),n("div",{staticClass:"control"},[n("router-link",{staticClass:"button is-text is-pulled-right",attrs:{disabled:e.loading,to:"/reset"}},[e._v("Forgot your password?")])],1)]),e._v(" "),n("br")])])])},[],!1,null,"5b4651c5",null);t.default=a.exports},"Ty+V":function(e,t,n){},UcOD:function(e,t,n){"use strict";var s=n("Ty+V");n.n(s).a},Um8M:function(e,t,n){},UtkW:function(e,t,n){},Vtdi:function(e,t,n){"use strict";n.r(t);var s=n("oCYn"),i=n("jE9Z"),r=n("Hc5T"),a=n.n(r),o=n("uv9J"),c=n.n(o),l=n("433b"),u=n("QbLZ"),d=n.n(u),f=(n("Iwkk"),n("KHd+")),p=Object(f.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("div",{staticClass:"content has-text-centered"},[e._m(0),e._v(" "),e._m(1),e._v(" "),n("p",[n("router-link",{attrs:{to:"/privacy"}},[e._v("Privacy Policy")]),e._v("\n       | \n      "),n("a",{attrs:{href:"mailto:support@mbu.online"}},[e._v("Technical Problems?")]),e._v("\n       | \n      "),n("a",{attrs:{href:"https://github.com/dmurtari/mbu-frontend"}},[e._v("Contribute")])],1)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("MBU Online")]),this._v(" by Domenic Murtari\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("\n      Source code licensed\n      "),t("a",{attrs:{href:"https://opensource.org/licenses/MIT"}},[this._v("MIT")]),this._v(", website licensed\n      "),t("a",{attrs:{href:"https://creativecommons.org/licenses/by/4.0/"}},[this._v("Creative Commons Version 4")])])}],!1,null,"77244a68",null).exports,v=n("L2JU"),h=n("Sy8b"),m={data:function(){return{dropdownActive:!1}},computed:d()({},Object(v.b)(["profile","isAdmin","isAuthenticated","isApproved","isCoordinator","isTeacher"])),methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")},toggleDropdown:function(){this.dropdownActive=!this.dropdownActive}},components:{login:h.default}},g=(n("PLw5"),{data:function(){return{loading:!1}},components:{Navbar:Object(f.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar has-shadow"},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/","active-class":"brand-active"}},[n("h5",{staticClass:"title is-5"},[e._v("\n          MBU Home\n        ")])]),e._v(" "),n("span",{staticClass:"navbar-burger",class:{"is-active":e.dropdownActive},on:{click:function(t){t.preventDefault(),e.toggleDropdown()}}},[n("span"),e._v(" "),n("span"),e._v(" "),n("span")])],1),e._v(" "),n("div",{staticClass:"navbar-menu",class:{"is-active":e.dropdownActive}},[n("div",{staticClass:"navbar-start"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/badges"}},[e._v("Badges")]),e._v(" "),n("router-link",{staticClass:"navbar-item",attrs:{to:"/events"}},[e._v("Events")]),e._v(" "),e.isCoordinator&&e.isApproved?n("router-link",{staticClass:"navbar-item",attrs:{to:"/coordinator"}},[e._v("Manage Troop")]):e._e(),e._v(" "),e.isTeacher&&e.isApproved?n("router-link",{staticClass:"navbar-item",attrs:{to:"/teacher"}},[e._v("Instructor Tasks")]):e._e(),e._v(" "),e.isAdmin?n("router-link",{staticClass:"navbar-item",attrs:{to:"/administration"}},[e._v("Administration")]):e._e()],1),e._v(" "),n("div",{staticClass:"navbar-end"},[e.isAuthenticated?e._e():n("span",{staticClass:"navbar-item"},[n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("router-link",{staticClass:"button is-primary",attrs:{to:"/login"}},[e._v("Login")])],1),e._v(" "),n("div",{staticClass:"control"},[n("router-link",{staticClass:"button is-info is-outlined",attrs:{to:"/signup"}},[e._v("Sign Up")])],1)])]),e._v(" "),e.isAuthenticated?n("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[e._v("\n          Profile\n        ")]):e._e(),e._v(" "),e.isAuthenticated?n("span",{staticClass:"navbar-item"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.logout()}}},[e._v("Logout")])]):e._e()],1)])])])},[],!1,null,"65751e30",null).exports,"mbu-footer":p},computed:d()({},Object(v.b)(["isApproved","isCoordinator","isTeacher","isAdmin"])),created:function(){var e=this;this.loading=!0,this.$store.dispatch("getProfile").then(function(){e.loading=!1}).catch(function(t){e.loading=!1})}}),b=(n("/R9I"),Object(f.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.loading?n("spinner-page"):n("div",{staticClass:"site-wrapper"},[n("navbar"),e._v(" "),n("section",{staticClass:"section site-content"},[e.isApproved||null==e.isApproved?e._e():n("div",{staticClass:"container"},[n("div",{staticClass:"notification is-warning"},[e._v("\n          Your account has not yet been approved by an administrator. You can view Merit Badge and Event information,\n          "),e.isCoordinator?n("span",[e._v("\n            but you will not be able to add scouts to your troop or register your troop for an event until your account\n            is approved.\n          ")]):e.isTeacher?n("span",[e._v("\n            but you will not be able to edit requirements or class information until your account is approved.\n          ")]):e.isAdmin?n("span",[e._v("\n            but you will not be able to perform administrative tasks until your account is approved.\n          ")]):n("span",[e._v("\n            but you will not be able to perform other tasks until your account is approved.\n          ")])])]),e._v(" "),n("div",{staticClass:"container"},[n("router-view")],1)]),e._v(" "),n("mbu-footer")],1)],1)},[],!1,null,"dd7c29ec",null).exports),E=n("Q2AE"),C=function(){return n.e(20).then(n.bind(null,"o3D/"))},y=function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"lbWM"))},I=function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"/w1Y"))},S=function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"BeT/"))},w=function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"9Kmz"))},T=function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"VsRh"))},U=function(){return n.e(3).then(n.bind(null,"Yi27"))},L=[{path:"/",name:"home",component:function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,"JhTm"))},meta:{title:"Home"}},{path:"/about",component:function(){return n.e(24).then(n.bind(null,"hLpk"))},meta:{title:"About"}},{path:"/privacy",component:function(){return n.e(21).then(n.bind(null,"ZU7D"))},meta:{title:"Privacy Policy"}},{path:"/administration",component:function(){return n.e(14).then(n.bind(null,"3Cgp"))},beforeEnter:R("admin"),redirect:"administration/home",children:[{path:"home",component:function(){return n.e(14).then(n.bind(null,"ZUc4"))},meta:{title:"Administration"}},{path:"users",component:{render:function(e){return e("router-view")}},children:[{path:"current",component:function(){return n.e(12).then(n.bind(null,"lsz+"))},redirect:"current/all",children:[{path:"all",component:function(){return n.e(12).then(n.bind(null,"oo/2"))},meta:{title:"Current Users"}},{path:":id",component:function(){return n.e(6).then(n.bind(null,"CZ8T"))},meta:{title:"User Detail"},props:!0}]},{path:"approval",component:function(){return n.e(11).then(n.bind(null,"2Z8i"))},meta:{title:"Users Needing Approval"}},{path:"admins",component:function(){return Promise.all([n.e(2),n.e(7)]).then(n.bind(null,"/j2m"))},meta:{title:"Administrative Users"}}]},{path:"scouts",component:{render:function(e){return e("router-view")}},children:[{path:"list",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"79gW"))},redirect:"list/all",children:[{path:"all",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"AG4V"))},meta:{title:"All Scouts"}},{path:":id",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"2U8y"))},meta:{title:"Scout Detail"},props:!0}]},{path:"assignments",component:T,meta:{title:"Assignments"},redirect:"assignments/list",children:[{path:"list",component:U},{path:"detail",component:w}]}]},{path:"events",component:{render:function(e){return e("router-view")}},children:[{path:"all",component:function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,"+wfM"))},meta:{title:"All Events"}},{path:"purchasables",component:function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,"sIQi"))},meta:{title:"Items for Purchase"}},{path:"offerings",component:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"GY5E"))},meta:{title:"Class Offerings"}},{path:"badges",component:C,meta:{title:"Available Badges"}}]},{path:"classes",component:S,redirect:"classes/all",children:[{path:"all",name:"adminClassList",component:y,meta:{title:"All Classes"}},{path:":eventId/:id",name:"adminClassDetail",component:I,meta:{title:"Class Detail"},props:function(e){return{offeringId:Number(e.params.id),eventId:Number(e.params.eventId)}}}]}]},{path:"/coordinator",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"JvQ7"))},beforeEnter:R("coordinator"),redirect:"coordinator/home",children:[{path:"home",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"AcUF"))},meta:{title:"Coordinator Home"}},{path:"scouts",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"FbEh"))},meta:{title:"Your Scouts"}},{path:"registrations",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"HvQT"))},meta:{title:"Registrations"}},{path:"attendance",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"BrCZ"))},redirect:"attendance/list",children:[{path:"detail",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"v+k9"))},meta:{title:"Attendance Details"}},{path:"list",component:U,meta:{title:"Attendance"}}]}]},{path:"/teacher",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"f6CV"))},beforeEnter:R("teacher"),redirect:"/teacher/home",children:[{path:"home",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"jZuF"))},meta:{title:"Instructor Home"}},{path:"assignments",component:T,meta:{title:"Statistics"},redirect:"assignments/list",children:[{path:"detail",component:w},{path:"list",component:U}]},{path:"classes",component:S,redirect:"classes/all",children:[{path:"all",component:y,meta:{title:"All Classes"}},{path:":eventId/:id",component:I,meta:{title:"Class Detail"},props:function(e){return{offeringId:Number(e.params.id),eventId:Number(e.params.eventId)}}}]},{path:"assignments",component:w,meta:{title:"Assignments"}}]},{path:"/events",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"zruM"))},meta:{title:"Events"}},{path:"/badges",component:C,meta:{title:"Badges"}},{path:"/signup",component:function(){return n.e(17).then(n.bind(null,"QUc/"))},meta:{title:"Sign Up"}},{path:"/login",component:function(){return Promise.resolve().then(n.bind(null,"Sy8b"))},meta:{title:"Log In"}},{path:"/reset",component:function(){return n.e(18).then(n.bind(null,"RybT"))},meta:{title:"Reset Your Password"},children:[{path:"",component:function(){return n.e(18).then(n.bind(null,"f2wI"))}},{path:":resetToken",component:function(){return n.e(18).then(n.bind(null,"WnGg"))}}]},{path:"/profile",component:function(){return n.e(19).then(n.bind(null,"isEk"))},redirect:"profile/general",children:[{path:"general",meta:{title:"Your Profile"},component:function(){return n.e(19).then(n.bind(null,"4dtP"))}},{path:"edit",component:function(){return n.e(19).then(n.bind(null,"yxXM"))},meta:{title:"Edit Profile"}},{path:"password",component:function(){return n.e(19).then(n.bind(null,"Cd2t"))},meta:{title:"Change Password"}},{path:"delete",component:function(){return n.e(19).then(n.bind(null,"EdOp"))},meta:{title:"Delete My Account"}}]},{path:"*",component:function(){return n.e(22).then(n.bind(null,"vk3o"))}}];function R(e){return function(t,n,s){void 0===E.a.getters.role?E.a.dispatch("getProfile").then(function(){(E.a.getters.role===e||E.a.getters.isAdmin)&&E.a.getters.isApproved?s():(console.warn("Role is not allowed access to this resource"),s("/"))}).catch(function(){s("/")}):(E.a.getters.role===e||E.a.getters.isAdmin)&&E.a.getters.isApproved?s():(console.warn("Role is not allowed access to this resource"),s("/"))}}var D,P=n("q5kH"),A={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},O=(n("IooY"),Object(f.a)(A,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-pulse v-pulse1",style:[this.spinnerStyle,this.spinnerDelay1]}),t("div",{staticClass:"v-pulse v-pulse2",style:[this.spinnerStyle,this.spinnerDelay2]}),t("div",{staticClass:"v-pulse v-pulse3",style:[this.spinnerStyle,this.spinnerDelay3]})])},[],!1,null,null,null).exports),x={name:"MoonLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{height:this.size,width:this.size,borderRadius:this.radius}}},computed:{moonSize(){return parseFloat(this.size)/7},spinnerMoonStyle(){return{height:this.moonSize+"px",width:this.moonSize+"px",borderRadius:this.radius}},animationStyle2(){return{top:parseFloat(this.size)/2-this.moonSize/2+"px",backgroundColor:this.color}},animationStyle3(){return{border:this.moonSize+"px solid "+this.color}}}},k=(n("8u77"),Object(f.a)(x,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.loading,expression:"loading"}],staticClass:"v-spinner"},[t("div",{staticClass:"v-moon v-moon1",style:this.spinnerStyle},[t("div",{staticClass:"v-moon v-moon2",style:[this.spinnerMoonStyle,this.animationStyle2]}),t("div",{staticClass:"v-moon v-moon3",style:[this.spinnerStyle,this.animationStyle3]})])])},[],!1,null,null,null).exports),F={components:{MoonLoader:k}},N=(n("0K+O"),Object(f.a)(F,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loader-container"},[t("moon-loader",{staticClass:"moon-spinner",attrs:{color:"lightgray"}})],1)},[],!1,null,"25fe7ba0",null).exports),$=n("FyE/"),j={props:{matchText:{type:String,required:!0},placeholder:String,cancelText:{type:String,default:"Don't Delete"},confirmText:{type:String,default:"Confirm Deletion"}},data:function(){return{enteredText:"",error:""}},methods:{confirmDelete:function(){this.enteredText===this.matchText?(this.error="",this.$emit("deleteSuccess")):this.error="The text you entered doesn't match the required text."},cancel:function(){this.error="",this.$emit("close")}}},z=(n("j6d9"),Object(f.a)(j,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:"delete-confirm"}},[e._t("header")],2),e._v(" "),e.error?n("div",{staticClass:"notification is-danger"},[n("p",[e._v(e._s(e.error))])]):e._e(),e._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredText,expression:"enteredText"}],staticClass:"input",attrs:{type:"text",placeholder:e.placeholder,id:"delete-confirm"},domProps:{value:e.enteredText},on:{input:function(t){t.target.composing||(e.enteredText=t.target.value)}}})]),e._v(" "),n("span",{staticClass:"help"},[e._t("help-text")],2)]),e._v(" "),n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button",on:{click:function(t){t.preventDefault(),e.cancel()}}},[e._v(e._s(e.cancelText))])]),e._v(" "),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-danger",attrs:{disabled:e.enteredText!=e.matchText},on:{click:function(t){t.preventDefault(),e.confirmDelete()}}},[e._v(e._s(e.confirmText))])])])])},[],!1,null,"4d533f24",null).exports),B={props:{showAll:{type:Boolean,default:!1}},data:function(){return{loading:!0,selectedEvent:""}},computed:d()({},Object(v.b)(["orderedEvents","currentEvent","selectedEventId"]),{readableEvents:function(){return _.map(this.orderedEvents,function(e){return{id:e.id,event:e.semester+" "+e.year}})}}),methods:{emitEvent:function(){this.$store.dispatch("setSelectedId",this.selectedEvent),this.$emit("select",this.selectedEvent)}},mounted:function(){this.orderedEvents.length<1||(this.$route.query.eventId?this.selectedEvent=Number(this.$route.query.eventId):this.showAll?this.selectedEvent=null:this.selectedEventId?this.selectedEvent=this.selectedEventId:this.currentEvent.length>0?this.selectedEvent=this.currentEvent.id:this.selectedEvent=this.orderedEvents[0].id,this.emitEvent())}},M=Object(f.a)(B,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEvent,expression:"selectedEvent"}],attrs:{id:"event-offering-select",disabled:e.orderedEvents.length<1},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedEvent=t.target.multiple?n:n[0]},function(t){e.emitEvent()}]}},[e.showAll?n("option",{domProps:{value:null}},[e._v("All Events")]):e._e(),e._v(" "),e._l(e.readableEvents,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n      "+e._s(t.event)+"\n    ")])})],2)])},[],!1,null,null,null).exports,q={props:{text:{type:String,required:!0},length:{type:String,default:"large"}}},Y=(n("aUQy"),Object(f.a)(q,function(){var e=this.$createElement,t=this._self._c||e;return t("span",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:this.text,expression:"text",modifiers:{top:!0}}],staticClass:"icon question-icon"},[t("span",{staticClass:"fa fa-question-circle"})])},[],!1,null,"26821fb7",null).exports),V={props:{objects:{type:Array,required:!0},initial:Object,displayKey:{type:String,required:!0}},data:function(){return{title:""}},methods:{selected:function(e){this.title=e,this.$emit("select",e.id)}},mounted:function(){this.title=this.initial||this.objects[0]}},G=Object(f.a)(V,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"dropdown"},[n("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n    "+e._s(e.title[e.displayKey])+"\n    "),n("span",{staticClass:"caret"})]),e._v(" "),n("ul",{staticClass:"dropdown-menu"},e._l(e.objects,function(t){return n("li",{key:t},[n("a",{attrs:{href:"#"},on:{click:function(n){e.selected(t)}}},[e._v(e._s(t[e.displayKey]))])])}))])},[],!1,null,null,null).exports,Q=n("LvDl"),Z=n.n(Q),H={props:{target:{type:String,required:!0},contents:{type:Array,required:!0},limit:{type:Number,default:5},per:{type:Number,default:20},showLinks:{type:Boolean,default:!1},table:{type:Boolean,default:!1}},data:function(){return{paginate:[this.target]}},methods:{pageChanged:function(e){var t=Z.a.clone(this.$route.query);t.page=e,this.$router.replace({query:t})}},mounted:function(){this.$route.query.page&&this.$refs.paginator.goToPage(this.$route.query.page)}},K=(n("aTsX"),Object(f.a)(H,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"pagination is-centered"},[n("paginate-links",{staticClass:"pagination-list",attrs:{for:e.target,limit:e.limit,"show-step-links":e.showLinks,"step-links":{next:"Next",prev:"Previous"},classes:{"li.number > a, li.ellipses > a":"pagination-link","li.left-arrow":"pagination-previous","li.right-arrow":"pagination-next"}},on:{change:e.pageChanged}})],1),e._v(" "),e._t("pagination-contents",[n("paginate",{ref:"paginator",class:e.table?"table is-striped paginated-table is-fullwidth":void 0,attrs:{name:e.target,list:e.contents,per:e.per,tag:e.table?"table":void 0}},[e._t("heading"),e._v(" "),e.table?[n("tbody",[e._l(e.paginated(e.target),function(t,n){return e._t("row",null,{item:t})})],2)]:[e._l(e.paginated(e.target),function(t,n){return e._t("row",null,{item:t})})]],2)]),e._v(" "),n("nav",{staticClass:"pagination is-centered pagination-footer"},[n("paginate-links",{staticClass:"pagination-list",attrs:{for:e.target,limit:e.limit,"show-step-links":e.showLinks,"step-links":{next:"Next",prev:"Previous"},classes:{"li.number > a, li.ellipses > a":"pagination-link","li.left-arrow":"pagination-previous","li.right-arrow":"pagination-next"}},on:{change:e.pageChanged}})],1)],2)},[],!1,null,null,null).exports),J={components:{MoonLoader:k}},W=(n("UcOD"),Object(f.a)(J,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"loader-container"},[t("centered-spinner")],1)},[],!1,null,"0f1043e6",null).exports),X=n("wd/R"),ee=n.n(X),te=n("ZhIB"),ne=n.n(te);n("kpl1");n.d(t,"router",function(){return se}),s.a.use(i.a),s.a.use(a.a),s.a.use(c.a),s.a.use(l.a),(D=s.a).component("centered-spinner",N),D.component("closable-error",$.a),D.component("confirm-delete",z),D.component("events-dropdown",M),D.component("help-tag",Y),D.component("inline-dropdown",G),D.component("loader",O),D.component("masked-input",P.a),D.component("paginated-items",K),D.component("spinner-page",W),function(e){e.filter("longDate",function(e){return ee()(e).format("dddd, MMMM Do, YYYY")}),e.filter("shortDate",function(e){return ee()(e).format("MM/DD/YYYY")}),e.filter("capitalize",function(e){return Z.a.capitalize(e)}),e.filter("titleCase",function(e){return Z.a.startCase(Z.a.toLower(e))}),e.filter("upperCase",function(e){return Z.a.upperCase(e)}),e.filter("ordinalSuffix",function(e){return ne()(e).format("Oo")}),e.filter("currency",function(e){return ne()(e).format("$0,0.00")}),e.filter("commaSeparated",function(e){return Z.a.join(e,", ")}),e.filter("ordered",function(e){return Z.a.orderBy(e)}),e.filter("numAlphaSort",function(e){return function(e){return Z.a.cloneDeep(Z.a.without(e,null,void 0)).sort(function(e,t){var n=e.split(/(?=\D)/),s=t.split(/(?=\D)/);return n[0]-s[0]||(n[1]||"").localeCompare(s[1]||"")})}(e)})}(s.a);var se=new i.a({mode:"history",routes:L,linkActiveClass:"is-active"});se.beforeEach(function(e,t,n){return localStorage.getItem("token")?(e.meta.title?document.title="MBU Online | "+e.meta.title:document.title="MBU Online",n()):n()}),new s.a({router:se,store:E.a,el:"#app",components:{App:b}})},aTsX:function(e,t,n){"use strict";var s=n("nXTZ");n.n(s).a},aUQy:function(e,t,n){"use strict";var s=n("KrLZ");n.n(s).a},d8BS:function(e,t,n){"use strict";var s=n("QbLZ"),i=n.n(s),r=n("LvDl"),a=n.n(r),o=n("L2JU"),c={props:{event:{type:Object,required:!0}},computed:i()({},Object(o.b)(["isAdmin"]),{orderedOfferings:function(){return a.a.orderBy(this.event.offerings,"name")}}),methods:{ageText:function(e,t){return e&&t?"ages "+e+" to "+t:e?"ages greater than "+e:"ages less than "+t}}},l=(n("wOYW"),n("KHd+")),u=Object(l.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("p",[n("strong",[e._v("Date:")]),e._v(" "+e._s(e._f("longDate")(e.event.date)))]),e._v(" "),n("p",[n("strong",[e._v("Registration Fee:")]),e._v(" $"+e._s(e.event.price))]),e._v(" "),n("p",[n("strong",[e._v("Registration Open:")]),e._v(" "+e._s(e._f("longDate")(e.event.registration_open)))]),e._v(" "),n("p",[n("strong",[e._v("Registration Close:")]),e._v(" "+e._s(e._f("longDate")(e.event.registration_close)))])]),e._v(" "),n("br"),e._v(" "),n("h5",{staticClass:"title is-5"},[e._v("Merit Badges offered at this event:")]),e._v(" "),e.orderedOfferings.length>0?n("div",{staticClass:"offering-list"},e._l(e.orderedOfferings,function(t){return n("div",{key:t.id},[e._v("\n      "+e._s(t.name)+"\n      "),"0.00"!==t.details.price?n("span",[e._v("\n        ("+e._s(e._f("currency")(t.details.price))+")\n      ")]):e._e()])})):n("div",[e._v("\n    No badges are listed as available at this event.\n    "),e.isAdmin?n("span",[e._v("\n      Offer badges for this event at the\n      "),n("router-link",{attrs:{to:"/administration/events/offerings"}},[e._v("offerings page")]),e._v(".\n    ")],1):e._e(),e._v(" "),e.isAdmin?e._e():n("span",[e._v("\n      Please check with the event coordinators if you feel this is not correct.\n    ")])]),e._v(" "),n("br"),e._v(" "),n("h5",{staticClass:"title is-5"},[e._v("Items available for purchase:")]),e._v(" "),e.event.purchasables&&e.event.purchasables.length>0?n("div",e._l(e.event.purchasables,function(t){return n("div",{key:t.id,staticClass:"purchasable-item",class:t.id},[n("b",[e._v(e._s(t.item))]),e._v(" ("+e._s(e._f("currency")(t.price))+")\n      "),t.description?n("span",[e._v(e._s(t.description))]):e._e(),e._v(" "),t.minimum_age||t.maximum_age?n("span",[n("br"),e._v(" "),n("i",[e._v("\n          This item is restricted to "+e._s(e.ageText(t.minimum_age,t.maximum_age))+"\n        ")])]):e._e()])})):n("div",[e._v("\n    No items are available for purchase at this event.\n    "),e.isAdmin?n("span",[e._v("\n      Add items for purchase at the\n      "),n("router-link",{attrs:{to:"/administration/events/purchasables"}},[e._v("purchasables page")]),e._v(".\n    ")],1):e._e()])])},[],!1,null,"23d25512",null);t.a=u.exports},fBmq:function(e,t,n){"use strict";var s=n("4d7F"),i=n.n(s);t.a={data:function(){return{eventLoading:!1,eventLoadError:""}},created:function(){var e=this;this.eventLoading=!0,i.a.all([this.$store.dispatch("getEvents"),this.$store.dispatch("getCurrentEvent")]).then(function(){e.eventLoadError=""}).catch(function(){e.eventLoadError="Failed to fetch event data. Please refresh to try again."}).then(function(){e.eventLoading=!1})}}},j6d9:function(e,t,n){"use strict";var s=n("Um8M");n.n(s).a},kpl1:function(e,t,n){},m7lp:function(e,t,n){},m8wC:function(e,t,n){},mayP:function(e,t,n){"use strict";var s=n("m8wC");n.n(s).a},nXTZ:function(e,t,n){},ofKJ:function(e,t,n){"use strict";var s=n("LvDl"),i=n.n(s),r=n("KHd+"),a=Object(r.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"field is-horizontal"},[t("div",{staticClass:"field-label is-normal"},[t("label",{staticClass:"label"},[this._t("field-label")],2)]),this._v(" "),t("div",{staticClass:"field-body"},[t("div",{staticClass:"field"},[t("div",{staticClass:"control"},[this._t("field-contents")],2)])])])},[],!1,null,null,null).exports,o={props:{eventId:Number,troop:Number,search:String,troops:Array},data:function(){return{eventIdProp:this.eventId,troopProp:this.troop,searchProp:this.search}},methods:{reset:function(){this.troopProp=null,this.searchProp=null,this.updateQuery("troop",null),this.updateQuery("search","")},sendUpdate:function(e,t){this.$emit("update:"+e,t)},updateQuery:function(e,t){var n=i.a.clone(this.$route.query);null===t?delete n[e]:n[e]=t,this.$router.replace({query:n}),this.sendUpdate(e,t)}},watch:{troopProp:function(e,t){void 0===e&&(this.troopProp=t)},troops:function(){i.a.includes(this.troops,this.troopProp)||(this.troopProp=null,this.updateQuery("troop",null))}},mounted:function(){var e=this.$route.query;e.troop&&(this.troopProp=e.troop,this.sendUpdate("troop",Number(e.troop))),e.eventId&&(this.eventIdProp=e.eventId,this.sendUpdate("eventId",Number(e.eventId))),e.search&&(this.searchProp=e.search,this.sendUpdate("search",e.search))},components:{HorizontalField:a}},c=Object(r.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box filters"},[n("div",{staticClass:"columns is-multiline"},[n("div",{staticClass:"column is-6"},[n("horizontal-field",[n("span",{attrs:{slot:"field-label"},slot:"field-label"},[e._v("Registered:")]),e._v(" "),n("events-dropdown",{attrs:{slot:"field-contents"},on:{select:function(t){e.updateQuery("eventId",Number(t))}},slot:"field-contents"})],1)],1),e._v(" "),n("div",{staticClass:"column is-6"},[n("horizontal-field",[n("span",{attrs:{slot:"field-label"},slot:"field-label"},[e._v("Troop:")]),e._v(" "),n("span",{staticClass:"input-group select",attrs:{slot:"field-contents"},slot:"field-contents"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.troopProp,expression:"troopProp"}],staticClass:"input",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.troopProp=t.target.multiple?n:n[0]},function(t){e.updateQuery("troop",t.target.value?Number(t.target.value):null)}]}},[n("option",{domProps:{value:null}},[e._v("All Troops")]),e._v(" "),e._l(e.troops,function(t){return n("option",{key:t,domProps:{value:t}},[e._v("\n              "+e._s(t)+"\n            ")])})],2)])])],1),e._v(" "),n("div",{staticClass:"column is-6"},[n("horizontal-field",[n("span",{attrs:{slot:"field-label"},slot:"field-label"},[e._v("Name:")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchProp,expression:"searchProp"}],staticClass:"input is-expanded",attrs:{slot:"field-contents",id:"scout-list-find"},domProps:{value:e.searchProp},on:{input:[function(t){t.target.composing||(e.searchProp=t.target.value)},function(t){e.updateQuery("search",t.target.value)}]},slot:"field-contents"})])],1),e._v(" "),n("div",{staticClass:"column is-6"},[n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control is-pulled-right"},[n("button",{staticClass:"button is-pulled-right",on:{click:function(t){t.preventDefault(),e.reset()}}},[e._v("Reset Filters")])])])])])])},[],!1,null,null,null);t.a=c.exports},ul9Z:function(e,t,n){"use strict";var s=n("vQOW");n.n(s).a},v8uP:function(e,t,n){"use strict";var s=n("wd/R"),i=n.n(s),r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";return function(n,s){var r="function"==typeof e?e.call(void 0,s):s[e],a=i()(r,t),o=i()(n,t);return!!o.isValid()&&(!a.isValid()||o.isAfter(i()(r,t)))}},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";return function(n,s){var r="function"==typeof e?e.call(void 0,s):s[e],a=i()(r,t),o=i()(n,t);return!a.isValid()||!!o.isValid()&&o.isBefore(i()(r,t))}},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MM/DD/YYYY";return function(s,r){var a="function"==typeof e?e.call(void 0,r):r[e],o="function"==typeof t?t.call(void 0,r):r[t],c=i()(a,n),l=i()(o,n),u=i()(s,n);return!c.isValid()||!l.isValid()||!!u.isValid()&&(u.isBetween(c,l)||u.isBetween(l,c))}},c=n("LvDl"),l=n.n(c),u=function(e){if(void 0===e||null===e||""===l.a.trim(e))return!0;var t=l.a.split(e,","),n=/^[0-9A-Za-z]*$/;return l.a.reduce(t,function(e,t){return e&&n.test(l.a.trim(t))},!0)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MM/DD/YYYY";return function(t){return i()(t,e,!0).isValid()}},f=function(e){return function(t,n){if(void 0===t||null===t||""===t)return!0;var s="function"==typeof e?e.call(void 0,n):n[e];return!s||t>=s}},p=function(e){return function(t,n){if(void 0===t||null===t||""===t)return!0;var s="function"==typeof e?e.call(void 0,n):n[e];return!s||t<=s}},v=function(e){return void 0===e||null===e||""===e||/^[0-9]*$/.test(e)},h=function(e){return/\(\d{3}\) ?\d{3}-\d{4}/.test(e)};n.d(t,!1,function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return p}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return h})},vQOW:function(e,t,n){},wOYW:function(e,t,n){"use strict";var s=n("m7lp");n.n(s).a},wtMJ:function(e,t,n){"use strict";var s=n("MNKV");n.n(s).a}}]);
//# sourceMappingURL=app.66aa5c7e108ba3b74e8e.js.map