{"version":3,"sources":["webpack:///./src/components/administration/offerings/OfferingList.vue?79fe","webpack:///./src/components/administration/offerings/OfferingEdit.vue?c560","webpack:///src/components/administration/offerings/OfferingEdit.vue","webpack:///./src/components/administration/offerings/OfferingEdit.vue","webpack:///./src/components/administration/offerings/OfferingEdit.vue?ca8b","webpack:///./src/components/administration/offerings/OfferingRow.vue?f23c","webpack:///src/components/administration/offerings/OfferingRow.vue","webpack:///./src/components/administration/offerings/OfferingRow.vue","webpack:///./src/components/administration/offerings/OfferingRow.vue?5087","webpack:///./src/components/administration/offerings/OfferingList.vue?02ab","webpack:///src/components/administration/offerings/OfferingList.vue","webpack:///./src/components/administration/offerings/OfferingList.vue","webpack:///./src/components/administration/offerings/OfferingEdit.vue?bf99","webpack:///./src/components/administration/offerings/OfferingRow.vue?7a98","webpack:///./src/components/administration/offerings/OfferingList.vue?89a8"],"names":["offerings_OfferingEditvue_type_script_lang_js","Object","Boolean","without","_","map","split","newPeriods","period","number","newRequirements","requirement","periods","_this","this","$store","dispatch","eventId","badge_id","then","toggleEdit","catch","error","removing","_this2","sort","offering","response","err","required","validators","alphaNum","numeric","OfferingEdit","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","badge","name","_e","invalidPeriodsError","attrs","for","directives","rawName","value","expression","modifiers","lazy","class","is-danger","$v","$error","type","id","placeholder","domProps","on","blur","$touch","change","$event","editablePeriods","target","$each","duration","$$selectedVal","Array","prototype","filter","call","options","o","selected","_value","$set","multiple","text","price","input","composing","size_limit","requirements","editableRequirements","is-loading","saving","disabled","$invalid","click","preventDefault","saveOffering","creating","toggleRemove","match-text","deleteSuccess","deleteOffering","close","slot","offerings_OfferingRowvue_type_script_lang_js","computed","extends_default","vuex_esm","editing","OfferingRow","cancel","cancelEdit","shouldShowEdit","isAdmin","offered","aria-label","durationLabel","_f","createOffering","offerings_OfferingListvue_type_script_lang_js","offeringList","EventsUpdate","OfferingList_component","eventLoadError","loading","eventLoading","select","pickEvent","offeredFilter","_l","option","key","to","__webpack_exports__"],"mappings":"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","file":"static/js/offerings.97a0100c82d806a1f676.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"title is-4\"},[_vm._v(\"\\n    Manage Merit Badge Offerings\\n  \")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n    Use this page to create, edit, and remove badge offerings for different events. These badges are what\\n    Scoutmasters will see as being offered for an event. Add badges and edit details such which periods\\n    each badge will be offered, how many class periods each badge will take to teach, and how much scouts\\n    need to pay to attend class for a badge.\\n  \")]),_vm._v(\" \"),(_vm.error || _vm.eventLoadError)?_c('closable-error'):_vm._e(),_vm._v(\" \"),(_vm.loading || _vm.eventLoading)?_c('spinner-page'):_c('div',[_c('div',{staticClass:\"box offering-list-filters\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column is-6\"},[_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"For Event:\")])]),_vm._v(\" \"),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('events-dropdown',{on:{\"select\":function($event){_vm.pickEvent($event)}}})],1)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"column is-6\"},[_c('div',{staticClass:\"field is-horizontal\"},[_c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"offering-list-offered-filter\"}},[_vm._v(\"Filter by:\")])]),_vm._v(\" \"),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('span',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.offeredFilter),expression:\"offeredFilter\"}],staticClass:\"form-control\",attrs:{\"id\":\"offering-list-offered-filter\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.offeredFilter=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.offeredFilters),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(\"\\n                        \"+_vm._s(option.text)+\"\\n                      \")])}))])])])])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"offering-list\"},[(_vm.eventId === '')?_c('div',{staticClass:\"notification\"},[_vm._v(\"\\n        Please pick an event to add offerings to. You can also\\n        \"),_c('router-link',{attrs:{\"to\":\"/administration/events/all\"}},[_vm._v(\"add an event\")]),_vm._v(\"\\n        if you haven't added any events already.\\n      \")],1):_c('div',_vm._l((_vm.filteredOfferings),function(badge){return _c('offering-row',{key:badge.id,attrs:{\"eventId\":_vm.eventId,\"badge\":badge}})}))])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingEdit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingEdit.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <h5 class=\"title is-5\"\n        v-if=\"creating\">Create Offering for {{ badge.name }}</h5>\n    <h5 class=\"title is-5\"\n        v-else>Editing {{ badge.name }}</h5>\n    <div class=\"notification is-danger\"\n         v-if=\"error\">\n      <p>\n        {{ error }}\n      </p>\n    </div>\n    <div class=\"notification is-danger\"\n         v-if=\"invalidPeriodsError\">\n      <p>\n        {{ invalidPeriodsError }}\n      </p>\n    </div>\n    <form class=\"form\"\n          v-if=\"!removing\">\n      <div class=\"columns is-multiline\">\n        <div class=\"field column is-4\">\n          <label class=\"label\"\n                 for=\"offering-periods\">Offered Periods:</label>\n          <div class=\"control\">\n            <input type=\"text\"\n                   class=\"input\"\n                   id=\"offering-periods\"\n                   v-model.lazy=\"editablePeriods\"\n                   :class=\"{ 'is-danger': $v.offering.periods.$error }\"\n                   @blur=\"$v.offering.periods.$touch\"\n                   placeholder=\"Periods\">\n          </div>\n          <span v-if=\"$v.offering.periods.$error\"\n                class=\"help is-danger\">\n            <span v-if=\"!$v.offering.periods.required\">\n              Enter the periods this badge will be offered (separated by commas)\n            </span>\n            <span v-if=\"$v.offering.periods.$each.$error\">\n              Periods must be 1, 2, or 3\n            </span>\n          </span>\n        </div>\n        <div class=\"field column is-4\">\n          <label class=\"label\"\n                 for=\"offering-duration\">Duration of Class:</label>\n          <div class=\"control\">\n            <span class=\"input-group select duration-select\">\n              <select class=\"input\"\n                      id=\"offering-duration\"\n                      :class=\"{ 'is-danger': $v.offering.duration.$error }\"\n                      @blur=\"$v.offering.duration.$touch\"\n                      v-model=\"offering.duration\">\n                <option value=\"1\">1 period</option>\n                <option value=\"2\">2 periods</option>\n                <option value=\"3\">3 periods</option>\n              </select>\n            </span>\n          </div>\n          <span class=\"help is-danger\"\n                v-if=\"$v.offering.duration.$error\">\n            Pick the duration of this class\n          </span>\n        </div>\n        <div class=\"field column is-4\">\n          <label class=\"label\"\n                 for=\"offering-price\">\n            Price:\n            <help-tag text=\"Any additional cost that the scout will need to pay\n                                  to attend this class, in addition to the event fee\">\n            </help-tag>\n          </label>\n          <div class=\"control\">\n            <input type=\"number\"\n                   class=\"input\"\n                   id=\"offering-price\"\n                   v-model=\"offering.price\"\n                   :class=\"{ 'is-danger': $v.offering.price.$error }\"\n                   @blur=\"$v.offering.price.$touch\"\n                   placeholder=\"Price\">\n          </div>\n          <span class=\"help is-danger\"\n                v-if=\"$v.offering.price.$error\">\n            Enter the price of this class\n          </span>\n        </div>\n        <div class=\"field column is-4\">\n          <label class=\"label\"\n                 for=\"offering-size-limit\">\n            Size Limit:\n            <help-tag text=\"The limit to the amount of scouts that can attend a single period\"></help-tag>\n          </label>\n          <div class=\"control\">\n            <input type=\"number\"\n                   class=\"input\"\n                   id=\"offering-size-limit\"\n                   v-model=\"offering.size_limit\"\n                   :class=\"{ 'is-danger': $v.offering.size_limit.$error }\"\n                   @blur=\"$v.offering.size_limit.$touch\"\n                   placeholder=\"Size Limit\">\n          </div>\n          <span class=\"help is-danger\"\n                v-if=\"$v.offering.size_limit.$error\">\n            Enter the size limit for this class\n          </span>\n        </div>\n        <div class=\"field column is-8\">\n          <label class=\"label\"\n                 for=\"offering-requirements\">\n            Requirements:\n            <help-tag text=\"A list of requirements that will be covered during\n                                  class.\"></help-tag>\n          </label>\n          <div class=\"control\">\n            <input type=\"text\"\n                   class=\"input\"\n                   id=\"offering-requirements\"\n                   v-model.lazy=\"editableRequirements\"\n                   :class=\" { 'is-danger': $v.offering.requirements.$error }\"\n                   @blur=\"$v.offering.requirements.$touch\"\n                   placeholder=\"1, 2, 3a, 4\">\n          </div>\n          <span class=\"help is-danger\"\n                v-if=\"$v.offering.requirements.$error\">\n            <span v-if=\"!$v.offering.requirements.required\">\n              Please specify the requirements that will be covered\n            </span>\n            <span v-if=\"$v.offering.requirements.$each.$error\">\n              Requirements can be a combination of numbers and letters, and must be separated by commas (e.g. 1, 2a,\n              3b, 4).\n            </span>\n          </span>\n        </div>\n      </div>\n      <div class=\"field is-grouped\">\n        <div class=\"control\">\n          <button class=\"button is-primary\"\n                  :disabled=\"$v.$invalid || saving\"\n                  :class=\"{ 'is-loading': saving }\"\n                  @click.prevent=\"saveOffering()\">\n            Save Offering\n          </button>\n        </div>\n        <div class=\"control\">\n          <button class=\"button is-light\"\n                  :disabled=\"saving\"\n                  @click.prevent=\"toggleEdit()\">\n            Cancel Changes\n          </button>\n        </div>\n        <div class=\"control is-pulled-right\"\n             v-if=\"!creating\">\n          <button class=\"button is-danger\"\n                  :disabled=\"saving\"\n                  @click.prevent=\"toggleRemove()\">\n            Remove\n          </button>\n        </div>\n      </div>\n    </form>\n    <confirm-delete v-if=\"removing\"\n                    :match-text=\"this.badge.name\"\n                    :placeholder=\"'Badge Name'\"\n                    @deleteSuccess=\"deleteOffering()\"\n                    @close=\"toggleRemove()\">\n      <span slot=\"header\">\n        Do you really want to remove this offering? This cannot be undone, and will likely break existing registration\n        records!\n      </span>\n      <span slot=\"help-text\">\n        Enter the full name of this badge with correct capitalization to confirm that you wish to remove this\n        offering.\n        <b>This action cannot be undone, and will delete all associated completion records and badge requests!\n          Adding this badge as an offering again will not restore previous records and requests!\n        </b>\n      </span>\n    </confirm-delete>\n  </div>\n</template>\n\n<script>\nimport { required, between, alphaNum, numeric } from 'vuelidate/lib/validators';\n\nexport default {\n  props: {\n    badge: {\n      type: Object,\n      required: true\n    },\n    eventId: {\n      required: true\n    },\n    creating: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      offering: {\n        periods: this.badge.periods || [],\n        duration: this.badge.duration || 1,\n        price: this.badge.price || '0.00',\n        size_limit: this.badge.size_limit || 20,\n        requirements: this.badge.requirements || []\n      },\n      invalidPeriodsError: '',\n      removing: false,\n      saving: false,\n      error: ''\n    };\n  },\n  computed: {\n    editablePeriods: {\n      get() {\n        return _.join(_.sortBy(this.offering.periods), ', ');\n      },\n      set(newPeriods) {\n        this.offering.periods = _.without(\n          _.map(_.split(newPeriods, ',', 3), period => {\n            let number = Number(_.trim(period));\n            if (isNaN(number)) {\n              return null;\n            } else {\n              return number;\n            }\n          }),\n          null,\n          0\n        );\n      }\n    },\n    editableRequirements: {\n      get() {\n        return _.join(_.sortBy(this.offering.requirements), ', ');\n      },\n      set(newRequirements) {\n        this.offering.requirements = _.without(\n          _.map(_.split(newRequirements, ','), requirement => {\n            return String(_.trim(requirement));\n          }),\n          null,\n          0\n        );\n      }\n    },\n    offered() {\n      return !_.isEmpty(this.badge.periods);\n    }\n  },\n  methods: {\n    deleteOffering() {\n      this.$store\n        .dispatch('deleteOffering', {\n          eventId: this.eventId,\n          badgeId: this.badge.badge_id\n        })\n        .then(() => {\n          this.toggleEdit();\n          this.error = '';\n        })\n        .catch(() => {\n          this.error =\n            'Failed to remove badge from this event. Please try again';\n        });\n    },\n    toggleRemove() {\n      this.removing = !this.removing;\n    },\n    toggleEdit() {\n      this.$emit('cancel');\n    },\n    saveOffering() {\n      _.pull(this.offering.periods, null);\n      let sortedPeriods = this.offering.periods.sort();\n\n      if (this.offering.duration == 2 && !_.isEqual(sortedPeriods, [2, 3])) {\n        this.error =\n          'Offerings that last 2 periods must be assigned periods 2 and 3';\n        return;\n      }\n\n      if (this.offering.duration == 3 && !_.isEqual(sortedPeriods, [1, 2, 3])) {\n        this.error =\n          'For offerings that last 3 periods, periods must be 1, 2, and 3';\n        return;\n      }\n\n      this.saving = true;\n      if (this.creating) {\n        let offering = {\n          badge_id: this.badge.badge_id,\n          offering: this.offering\n        };\n\n        this.$store\n          .dispatch('createOffering', {\n            eventId: this.eventId,\n            details: offering\n          })\n          .then(response => {\n            this.error = '';\n            this.toggleEdit();\n          })\n          .catch(err => {\n            this.error =\n              \"Couldn't create offering. Please refresh and try again\";\n          })\n          .then(() => {\n            this.saving = false;\n          });\n      } else {\n        this.$store\n          .dispatch('updateOffering', {\n            eventId: this.eventId,\n            badgeId: this.badge.badge_id,\n            offering: this.offering\n          })\n          .then(() => {\n            this.error = '';\n            this.toggleEdit();\n          })\n          .catch(() => {\n            this.error = 'Failed to save badge. Please try again.';\n          })\n          .then(() => {\n            this.saving = false;\n          });\n      }\n    }\n  },\n  validations: {\n    offering: {\n      periods: { required, $each: { numeric, between: between(1, 3) } },\n      duration: { required },\n      price: { required },\n      requirements: { required, $each: { alphaNum } },\n      size_limit: { required, numeric }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.submit-group {\n  margin-top: 25px;\n}\n\n.duration-select {\n  width: 100%;\n\n  select {\n    width: 100%;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./OfferingEdit.vue?vue&type=template&id=17ae41f6&scoped=true\"\nimport script from \"./OfferingEdit.vue?vue&type=script&lang=js\"\nexport * from \"./OfferingEdit.vue?vue&type=script&lang=js\"\nimport style0 from \"./OfferingEdit.vue?vue&type=style&index=0&id=17ae41f6&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17ae41f6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.creating)?_c('h5',{staticClass:\"title is-5\"},[_vm._v(\"Create Offering for \"+_vm._s(_vm.badge.name))]):_c('h5',{staticClass:\"title is-5\"},[_vm._v(\"Editing \"+_vm._s(_vm.badge.name))]),_vm._v(\" \"),(_vm.error)?_c('div',{staticClass:\"notification is-danger\"},[_c('p',[_vm._v(\"\\n      \"+_vm._s(_vm.error)+\"\\n    \")])]):_vm._e(),_vm._v(\" \"),(_vm.invalidPeriodsError)?_c('div',{staticClass:\"notification is-danger\"},[_c('p',[_vm._v(\"\\n      \"+_vm._s(_vm.invalidPeriodsError)+\"\\n    \")])]):_vm._e(),_vm._v(\" \"),(!_vm.removing)?_c('form',{staticClass:\"form\"},[_c('div',{staticClass:\"columns is-multiline\"},[_c('div',{staticClass:\"field column is-4\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"offering-periods\"}},[_vm._v(\"Offered Periods:\")]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.editablePeriods),expression:\"editablePeriods\",modifiers:{\"lazy\":true}}],staticClass:\"input\",class:{ 'is-danger': _vm.$v.offering.periods.$error },attrs:{\"type\":\"text\",\"id\":\"offering-periods\",\"placeholder\":\"Periods\"},domProps:{\"value\":(_vm.editablePeriods)},on:{\"blur\":_vm.$v.offering.periods.$touch,\"change\":function($event){_vm.editablePeriods=$event.target.value}}})]),_vm._v(\" \"),(_vm.$v.offering.periods.$error)?_c('span',{staticClass:\"help is-danger\"},[(!_vm.$v.offering.periods.required)?_c('span',[_vm._v(\"\\n            Enter the periods this badge will be offered (separated by commas)\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.$v.offering.periods.$each.$error)?_c('span',[_vm._v(\"\\n            Periods must be 1, 2, or 3\\n          \")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field column is-4\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"offering-duration\"}},[_vm._v(\"Duration of Class:\")]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('span',{staticClass:\"input-group select duration-select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.offering.duration),expression:\"offering.duration\"}],staticClass:\"input\",class:{ 'is-danger': _vm.$v.offering.duration.$error },attrs:{\"id\":\"offering-duration\"},on:{\"blur\":_vm.$v.offering.duration.$touch,\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.offering, \"duration\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"1 period\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"2 periods\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"3 periods\")])])])]),_vm._v(\" \"),(_vm.$v.offering.duration.$error)?_c('span',{staticClass:\"help is-danger\"},[_vm._v(\"\\n          Pick the duration of this class\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field column is-4\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"offering-price\"}},[_vm._v(\"\\n          Price:\\n          \"),_c('help-tag',{attrs:{\"text\":\"Any additional cost that the scout will need to pay\\n                                to attend this class, in addition to the event fee\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.offering.price),expression:\"offering.price\"}],staticClass:\"input\",class:{ 'is-danger': _vm.$v.offering.price.$error },attrs:{\"type\":\"number\",\"id\":\"offering-price\",\"placeholder\":\"Price\"},domProps:{\"value\":(_vm.offering.price)},on:{\"blur\":_vm.$v.offering.price.$touch,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.offering, \"price\", $event.target.value)}}})]),_vm._v(\" \"),(_vm.$v.offering.price.$error)?_c('span',{staticClass:\"help is-danger\"},[_vm._v(\"\\n          Enter the price of this class\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field column is-4\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"offering-size-limit\"}},[_vm._v(\"\\n          Size Limit:\\n          \"),_c('help-tag',{attrs:{\"text\":\"The limit to the amount of scouts that can attend a single period\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.offering.size_limit),expression:\"offering.size_limit\"}],staticClass:\"input\",class:{ 'is-danger': _vm.$v.offering.size_limit.$error },attrs:{\"type\":\"number\",\"id\":\"offering-size-limit\",\"placeholder\":\"Size Limit\"},domProps:{\"value\":(_vm.offering.size_limit)},on:{\"blur\":_vm.$v.offering.size_limit.$touch,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.offering, \"size_limit\", $event.target.value)}}})]),_vm._v(\" \"),(_vm.$v.offering.size_limit.$error)?_c('span',{staticClass:\"help is-danger\"},[_vm._v(\"\\n          Enter the size limit for this class\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"field column is-8\"},[_c('label',{staticClass:\"label\",attrs:{\"for\":\"offering-requirements\"}},[_vm._v(\"\\n          Requirements:\\n          \"),_c('help-tag',{attrs:{\"text\":\"A list of requirements that will be covered during\\n                                class.\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.editableRequirements),expression:\"editableRequirements\",modifiers:{\"lazy\":true}}],staticClass:\"input\",class:{ 'is-danger': _vm.$v.offering.requirements.$error },attrs:{\"type\":\"text\",\"id\":\"offering-requirements\",\"placeholder\":\"1, 2, 3a, 4\"},domProps:{\"value\":(_vm.editableRequirements)},on:{\"blur\":_vm.$v.offering.requirements.$touch,\"change\":function($event){_vm.editableRequirements=$event.target.value}}})]),_vm._v(\" \"),(_vm.$v.offering.requirements.$error)?_c('span',{staticClass:\"help is-danger\"},[(!_vm.$v.offering.requirements.required)?_c('span',[_vm._v(\"\\n            Please specify the requirements that will be covered\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.$v.offering.requirements.$each.$error)?_c('span',[_vm._v(\"\\n            Requirements can be a combination of numbers and letters, and must be separated by commas (e.g. 1, 2a,\\n            3b, 4).\\n          \")]):_vm._e()]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field is-grouped\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-primary\",class:{ 'is-loading': _vm.saving },attrs:{\"disabled\":_vm.$v.$invalid || _vm.saving},on:{\"click\":function($event){$event.preventDefault();_vm.saveOffering()}}},[_vm._v(\"\\n          Save Offering\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-light\",attrs:{\"disabled\":_vm.saving},on:{\"click\":function($event){$event.preventDefault();_vm.toggleEdit()}}},[_vm._v(\"\\n          Cancel Changes\\n        \")])]),_vm._v(\" \"),(!_vm.creating)?_c('div',{staticClass:\"control is-pulled-right\"},[_c('button',{staticClass:\"button is-danger\",attrs:{\"disabled\":_vm.saving},on:{\"click\":function($event){$event.preventDefault();_vm.toggleRemove()}}},[_vm._v(\"\\n          Remove\\n        \")])]):_vm._e()])]):_vm._e(),_vm._v(\" \"),(_vm.removing)?_c('confirm-delete',{attrs:{\"match-text\":this.badge.name,\"placeholder\":'Badge Name'},on:{\"deleteSuccess\":function($event){_vm.deleteOffering()},\"close\":function($event){_vm.toggleRemove()}}},[_c('span',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"\\n      Do you really want to remove this offering? This cannot be undone, and will likely break existing registration\\n      records!\\n    \")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"help-text\"},slot:\"help-text\"},[_vm._v(\"\\n      Enter the full name of this badge with correct capitalization to confirm that you wish to remove this\\n      offering.\\n      \"),_c('b',[_vm._v(\"This action cannot be undone, and will delete all associated completion records and badge requests!\\n        Adding this badge as an offering again will not restore previous records and requests!\\n      \")])])]):_vm._e()],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingRow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingRow.vue?vue&type=script&lang=js\"","<template>\n  <div class=\"badge-row is-flex-tablet columns is-multiline\">\n    <template v-if=\"shouldShowEdit\">\n      <offering-edit class=\"column auto\"\n                     :badge=\"badge\"\n                     :eventId=\"eventId\"\n                     :creating=\"creating\"\n                     @cancel=\"cancelEdit()\"></offering-edit>\n    </template>\n    <template v-if=\"!shouldShowEdit\">\n      <div class=\"column is-11\">\n        <h5 class=\"title is-5\">{{ badge.name }}</h5>\n      </div>\n      <div class=\"column is-1\"\n           v-if=\"isAdmin && offered\">\n        <button class=\"button is-white offering-detail is-hidden-mobile\"\n                @click=\"toggleEdit()\"\n                id=\"edit-button\">\n          <span class=\"fa fa-edit\"\n                aria-label=\"Edit\"></span>\n        </button>\n        <button class=\"button offering-detail is-hidden-tablet\"\n                @click=\"toggleEdit()\">\n          Edit Offering\n        </button>\n      </div>\n      <template v-if=\"offered\">\n        <div class=\"column is-4 offering-detail\">\n          <b>Periods offered: </b>{{ periods }}\n        </div>\n        <div class=\"column is-4 offering-detail\">\n          <b>Duration: </b>{{ badge.duration + ' ' + durationLabel }}\n        </div>\n        <div class=\"column is-4 offering-detail\">\n          <b>Price: </b>{{ badge.price | currency }}\n        </div>\n        <div class=\"column is-4 offering-detail\">\n          <b>Size Limit: </b>{{ badge.size_limit }}\n        </div>\n        <div class=\"column is-8 offering-detail\">\n          <b>Requirements: </b>{{ requirements }}\n        </div>\n      </template>\n      <div class=\"field\"\n           v-if=\"!offered && isAdmin\">\n        <div class=\"control\">\n          <button class=\"button is-success create-button\"\n                  :class=\"{ 'is-loading': creating }\"\n                  :disabled=\"creating\"\n                  @click=\"createOffering()\"\n                  id=\"offer-button\">\n            Offer this Badge\n          </button>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nimport OfferingEdit from './OfferingEdit.vue';\n\nexport default {\n  props: {\n    badge: {\n      type: Object,\n      required: true\n    },\n    eventId: {\n      required: true\n    }\n  },\n  data () {\n    return {\n      creating: false,\n      editing: false,\n      error: ''\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'isAdmin'\n    ]),\n    durationLabel () {\n      return Number(this.badge.duration) == 1 ? 'period ' : 'periods';\n    },\n    offered () {\n      return !_.isEmpty(this.badge.periods);\n    },\n    periods () {\n      return _.join(_.sortBy(this.badge.periods), ', ');\n    },\n    requirements () {\n      if (this.badge.requirements.length < 1) {\n        return 'None listed';\n      } else {\n        return _.join(_.sortBy(this.badge.requirements), ', ');\n      }\n    },\n    shouldShowEdit () {\n      return this.editing || this.creating;\n    }\n  },\n  watch: {\n    badge () {\n      this.editing = false;\n    }\n  },\n  methods: {\n    createOffering () {\n      this.creating = true;\n    },\n    cancelEdit () {\n      this.creating = false;\n      this.editing = false;\n    },\n    toggleEdit () {\n      this.editing = !this.editing;\n    }\n  },\n  components: {\n    OfferingEdit\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.badge-row {\n  padding-top: 1em;\n  padding-bottom: 1em;\n  border-bottom: 1px lightgray solid;\n  align-items: center;\n}\n\n.offering-detail {\n  padding-top: .5em;\n  padding-bottom: .5em;\n  white-space: nowrap;\n}\n\n.create-button {\n  margin-left: 1rem;\n  margin-top: 1rem;\n}\n</style>\n","import { render, staticRenderFns } from \"./OfferingRow.vue?vue&type=template&id=701c8df3&scoped=true\"\nimport script from \"./OfferingRow.vue?vue&type=script&lang=js\"\nexport * from \"./OfferingRow.vue?vue&type=script&lang=js\"\nimport style0 from \"./OfferingRow.vue?vue&type=style&index=0&id=701c8df3&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"701c8df3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"badge-row is-flex-tablet columns is-multiline\"},[(_vm.shouldShowEdit)?[_c('offering-edit',{staticClass:\"column auto\",attrs:{\"badge\":_vm.badge,\"eventId\":_vm.eventId,\"creating\":_vm.creating},on:{\"cancel\":function($event){_vm.cancelEdit()}}})]:_vm._e(),_vm._v(\" \"),(!_vm.shouldShowEdit)?[_c('div',{staticClass:\"column is-11\"},[_c('h5',{staticClass:\"title is-5\"},[_vm._v(_vm._s(_vm.badge.name))])]),_vm._v(\" \"),(_vm.isAdmin && _vm.offered)?_c('div',{staticClass:\"column is-1\"},[_c('button',{staticClass:\"button is-white offering-detail is-hidden-mobile\",attrs:{\"id\":\"edit-button\"},on:{\"click\":function($event){_vm.toggleEdit()}}},[_c('span',{staticClass:\"fa fa-edit\",attrs:{\"aria-label\":\"Edit\"}})]),_vm._v(\" \"),_c('button',{staticClass:\"button offering-detail is-hidden-tablet\",on:{\"click\":function($event){_vm.toggleEdit()}}},[_vm._v(\"\\n        Edit Offering\\n      \")])]):_vm._e(),_vm._v(\" \"),(_vm.offered)?[_c('div',{staticClass:\"column is-4 offering-detail\"},[_c('b',[_vm._v(\"Periods offered: \")]),_vm._v(_vm._s(_vm.periods)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"column is-4 offering-detail\"},[_c('b',[_vm._v(\"Duration: \")]),_vm._v(_vm._s(_vm.badge.duration + ' ' + _vm.durationLabel)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"column is-4 offering-detail\"},[_c('b',[_vm._v(\"Price: \")]),_vm._v(_vm._s(_vm._f(\"currency\")(_vm.badge.price))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"column is-4 offering-detail\"},[_c('b',[_vm._v(\"Size Limit: \")]),_vm._v(_vm._s(_vm.badge.size_limit)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"column is-8 offering-detail\"},[_c('b',[_vm._v(\"Requirements: \")]),_vm._v(_vm._s(_vm.requirements)+\"\\n      \")])]:_vm._e(),_vm._v(\" \"),(!_vm.offered && _vm.isAdmin)?_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('button',{staticClass:\"button is-success create-button\",class:{ 'is-loading': _vm.creating },attrs:{\"disabled\":_vm.creating,\"id\":\"offer-button\"},on:{\"click\":function($event){_vm.createOffering()}}},[_vm._v(\"\\n          Offer this Badge\\n        \")])])]):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingList.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <h4 class=\"title is-4\">\n      Manage Merit Badge Offerings\n    </h4>\n    <p>\n      Use this page to create, edit, and remove badge offerings for different events. These badges are what\n      Scoutmasters will see as being offered for an event. Add badges and edit details such which periods\n      each badge will be offered, how many class periods each badge will take to teach, and how much scouts\n      need to pay to attend class for a badge.\n    </p>\n    <closable-error v-if=\"error || eventLoadError\"></closable-error>\n    <spinner-page v-if=\"loading || eventLoading\"></spinner-page>\n    <div v-else>\n      <div class=\"box offering-list-filters\">\n        <div class=\"columns\">\n          <div class=\"column is-6\">\n            <div class=\"field is-horizontal\">\n              <div class=\"field-label is-normal\">\n                <label class=\"label\">For&nbsp;Event:</label>\n              </div>\n              <div class=\"field-body\">\n                <div class=\"field\">\n                  <div class=\"control\">\n                    <events-dropdown @select=\"pickEvent($event)\"></events-dropdown>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"column is-6\">\n            <div class=\"field is-horizontal\">\n              <div class=\"field-label is-normal\">\n                <label class=\"label\"\n                       for=\"offering-list-offered-filter\">Filter&nbsp;by:</label>\n              </div>\n              <div class=\"field-body\">\n                <div class=\"field\">\n                  <div class=\"control\">\n                    <span class=\"select\">\n                      <select class=\"form-control\"\n                              id=\"offering-list-offered-filter\"\n                              v-model=\"offeredFilter\">\n                        <option v-for=\"option in offeredFilters\"\n                                :key=\"option.value\"\n                                :value=\"option.value\">\n                          {{ option.text }}\n                        </option>\n                      </select>\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"offering-list\">\n        <div class=\"notification\"\n             v-if=\"eventId === ''\">\n          Please pick an event to add offerings to. You can also\n          <router-link to=\"/administration/events/all\">add an event</router-link>\n          if you haven't added any events already.\n        </div>\n        <div v-else>\n          <offering-row v-for=\"badge in filteredOfferings\"\n                        :key=\"badge.id\"\n                        :eventId=\"eventId\"\n                        :badge=\"badge\"></offering-row>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nimport OfferingRow from './OfferingRow.vue';\nimport EventsUpdate from 'mixins/EventsUpdate';\n\nexport default {\n  data () {\n    return {\n      eventId: '',\n      offeredFilter: 'all',\n      offeredFilters: [\n        { text: 'All', value: 'all' },\n        { text: 'Offered badges', value: 'offered' },\n        { text: 'Unoffered badges', value: 'unoffered' }\n      ],\n      error: '',\n      loading: false\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'badgeIdsAndNames'\n    ]),\n    filteredOfferings () {\n      if (this.offeredFilter === 'offered') {\n        return _.filter(this.offeringList, (offering) => {\n          return !_.isEmpty(offering.periods);\n        });\n      } else if (this.offeredFilter === 'unoffered') {\n        return _.filter(this.offeringList, (offering) => {\n          return _.isEmpty(offering.periods);\n        });\n      } else {\n        return this.offeringList;\n      }\n    },\n    offeringList () {\n      // Combines offerings for an event with other badges not offered at that event\n      let offerings = _.map(this.$store.getters.offeringsForEvent(this.eventId), 'details');\n      return _.map(this.badgeIdsAndNames, (badge) => {\n        let offering = _.find(offerings, { 'badge_id': badge.id }) || {};\n        return {\n          badge_id: badge.id,\n          name: badge.name,\n          periods: offering.periods,\n          duration: offering.duration,\n          price: offering.price,\n          requirements: offering.requirements,\n          size_limit: offering.size_limit\n        };\n      });\n    }\n  },\n  methods: {\n    pickEvent (eventId) {\n      this.eventId = eventId;\n    }\n  },\n  created () {\n    this.loading = true;\n    this.$store.dispatch('getBadges')\n      .then(() => {\n        this.error = '';\n      })\n      .catch(() => {\n        this.error = 'Couldn\\'t load badges. Please try again'\n      })\n      .then(() => {\n        this.loading = false;\n      });\n  },\n  components: {\n    OfferingRow\n  },\n  mixins: [\n    EventsUpdate\n  ]\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.offering-list-filters {\n  margin-top: 2em;\n}\n\n.offering-loading {\n  margin-top: 5em;\n  width: 5em;\n  display: block;\n  margin: auto;\n}\n</style>\n","import { render, staticRenderFns } from \"./OfferingList.vue?vue&type=template&id=5385aad0&scoped=true\"\nimport script from \"./OfferingList.vue?vue&type=script&lang=js\"\nexport * from \"./OfferingList.vue?vue&type=script&lang=js\"\nimport style0 from \"./OfferingList.vue?vue&type=style&index=0&id=5385aad0&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5385aad0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingEdit.vue?vue&type=style&index=0&id=17ae41f6&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingEdit.vue?vue&type=style&index=0&id=17ae41f6&lang=scss&scoped=true\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingRow.vue?vue&type=style&index=0&id=701c8df3&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingRow.vue?vue&type=style&index=0&id=701c8df3&lang=scss&scoped=true\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingList.vue?vue&type=style&index=0&id=5385aad0&lang=scss&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--11-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../../node_modules/sass-loader/lib/loader.js??ref--13-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OfferingList.vue?vue&type=style&index=0&id=5385aad0&lang=scss&scoped=true\""],"sourceRoot":""}