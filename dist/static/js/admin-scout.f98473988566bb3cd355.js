(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"1U+d":function(t,s,e){},AG4V:function(t,s,e){"use strict";e.r(s);var r=e("vDqi"),o=e.n(r),n=e("LvDl"),a=e.n(n),i=e("P6sX"),c={props:{id:{type:Number,required:!0},firstname:{type:String,required:!0},lastname:{type:String,required:!0},troop:{type:Number,required:!0},registrations:{type:Array,default:function(){return[]}},user:{type:Object,required:!0}}},l=e("KHd+"),u=Object(l.a)(c,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("td",[t._v(t._s(t.firstname))]),t._v(" "),e("td",[t._v(t._s(t.lastname))]),t._v(" "),e("td",[t._v(t._s(t.troop))]),t._v(" "),e("td",[t._v(t._s(t.user.fullname))]),t._v(" "),e("td",[e("span",{staticClass:"is-pulled-right"},[e("router-link",{attrs:{to:"/administration/scouts/list/"+t.id}},[t._v("Details")])],1)])])},[],!1,null,null,null).exports,d={props:{scouts:{type:Array,required:!0}},data:function(){return{order:"troop",sortAscending:!0}},computed:{orderedScouts:function(){var t=this.sortAscending?"asc":"desc";return a.a.orderBy(this.scouts,this.order,t)}},methods:{sort:function(t){t===this.order?this.sortAscending=!this.sortAscending:(this.order=t,this.sortAscending=!0)}},components:{ScoutRow:u}},f=(e("WaPA"),Object(l.a)(d,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("paginated-items",{attrs:{target:"scouts",contents:t.orderedScouts,showLinks:!0,table:!0},scopedSlots:t._u([{key:"row",fn:function(t){return[e("scout-row",{attrs:{id:t.item.scout_id,firstname:t.item.firstname,lastname:t.item.lastname,troop:t.item.troop,registration:t.item.registrations,user:t.item.user}})]}}])},[e("thead",{attrs:{slot:"heading"},slot:"heading"},[e("tr",[e("th",{staticClass:"sortable",class:{"sorted-column":"firstname"===t.order},on:{click:function(s){t.sort("firstname")}}},[t._v("\n        First Name\n        "),"firstname"===t.order?e("span",{staticClass:"icon is-small"},[t.sortAscending?e("span",{staticClass:"fa fa-sort-alpha-asc"}):e("span",{staticClass:"fa fa-sort-alpha-desc"})]):t._e()]),t._v(" "),e("th",{staticClass:"sortable",class:{"sorted-column":"lastname"===t.order},on:{click:function(s){t.sort("lastname")}}},[t._v("\n        Last Name\n        "),"lastname"===t.order?e("span",{staticClass:"icon is-small"},[t.sortAscending?e("span",{staticClass:"fa fa-sort-alpha-asc"}):e("span",{staticClass:"fa fa-sort-alpha-desc"})]):t._e()]),t._v(" "),e("th",{staticClass:"sortable",class:{"sorted-column":"troop"===t.order},on:{click:function(s){t.sort("troop")}}},[t._v("\n        Troop\n        "),"troop"===t.order?e("span",{staticClass:"icon is-small"},[t.sortAscending?e("span",{staticClass:"fa fa-sort-numeric-asc"}):e("span",{staticClass:"fa fa-sort-numeric-desc"})]):t._e()]),t._v(" "),e("th",[t._v("Coordinator")]),t._v(" "),e("th",{attrs:{colspan:"1"}})])])])},[],!1,null,"aa0591ea",null).exports),p=e("ofKJ"),h=e("fBmq"),v={data:function(){return{error:"",eventsFilter:null,loading:!1,scouts:[],search:"",troopFilter:null}},computed:{filteredScouts:function(){var t=this,s=this.scouts;return this.troopFilter&&(s=a.a.filter(s,function(s){return s.troop===t.troopFilter})),this.eventsFilter&&(s=a.a.filter(s,function(s){return a.a.some(s.registrations,{event_id:t.eventsFilter})})),a.a.filter(s,function(s){return s.fullname.toLowerCase().indexOf(t.search.toLowerCase())>-1})},troops:function(){return this.scouts?a.a.orderBy(a.a.uniq(a.a.map(this.scouts,"troop"))):[]}},methods:{dismissError:function(){this.error=""}},created:function(){var t=this;this.loading=!0,o.a.get(i.a.SCOUTS_URL).then(function(s){t.scouts=s.data,t.error=""}).catch(function(){t.error="Failed to retrieve scouts. Please refresh and try again."}).then(function(){t.loading=!1})},components:{FilterBox:p.a,ScoutTable:f},mixins:[h.a]},m=(e("yRXE"),Object(l.a)(v,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("p",[t._v("\n    This is a list of all scouts that have ever been registered for MBU Online.\n  ")]),t._v(" "),t.error||t.eventLoadError?e("closable-error"):t._e(),t._v(" "),t.loading||t.eventLoading?e("spinner-page"):e("div",[e("filter-box",{staticClass:"scout-list-filters",attrs:{troop:t.troopFilter,eventId:t.eventsFilter,search:t.search,troops:t.troops},on:{"update:troop":function(s){t.troopFilter=s},"update:eventId":function(s){t.eventsFilter=s},"update:search":function(s){t.search=s}}}),t._v(" "),t.filteredScouts.length>0?e("div",[e("scout-table",{attrs:{scouts:t.filteredScouts}})],1):e("div",{staticClass:"notification"},[e("p",[t._v("\n        There are no scouts that match the criteria you specified.\n      ")])]),t._v(" "),e("router-view")],1)],1)},[],!1,null,"5e40f636",null));s.default=m.exports},WaPA:function(t,s,e){"use strict";var r=e("1U+d");e.n(r).a},Yvgj:function(t,s,e){},yRXE:function(t,s,e){"use strict";var r=e("Yvgj");e.n(r).a}}]);
//# sourceMappingURL=admin-scout.f98473988566bb3cd355.js.map