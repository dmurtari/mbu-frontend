(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["coordinator~scouts"],{1331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.regex)("integer",/^-?[0-9]*$/);t.default=s},"25cf":function(e,t,n){"use strict";var r=n("795b"),s=n.n(r),i=(n("7514"),n("cebc")),a=n("2ef0"),o=n.n(a),u=n("2f62");t["a"]={data:function(){return{classesLoading:!1,classLoadError:""}},computed:Object(i["a"])({},Object(u["b"])(["eventClasses"])),methods:{sizeInfoForOffering:function(e,t){var n=this.classesForEvent(e),r=o.a.find(n,{offering_id:t})||{};return r.sizeInfo},classesForEvent:function(e){return this.eventClasses[e]||[]},hasClassInfoForEvent:function(e){var t=this.classesForEvent(e);return t&&t.length>0&&t[0].sizeInfo},loadClasses:function(e){var t=this;this.classesLoading=!0,this.$store.dispatch("getClasses",e).then(function(n){return t.getSizesForBadges(e,o.a.map(n,"badge.badge_id"))}).then(function(){t.classLoadError=""}).catch(function(){t.classLoadError="Failed to get classes for this event"}).then(function(){t.classesLoading=!1})},getSizesForBadges:function(e,t){var n=this;return new s.a(function(r,s){n.$store.dispatch("getClassSizes",{eventId:e,badgeIds:t}).then(function(){return r()}).catch(function(){return s()})})}}}},"2a12":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"maxLength",max:e},function(t){return!(0,r.req)(t)||(0,r.len)(t)<=e})};t.default=s},"2fdb":function(e,t,n){"use strict";var r=n("5ca1"),s=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(e){return!!~s(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},3121:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"columns"},[e.showProjectedCost?n("p",{staticClass:"column is-6"},[n("b",[e._v("Projected Costs: ")]),e._v(e._s(e._f("currency")(e.projectedCost))+"\n      "),n("ul",{staticClass:"itemized-list"},[n("li",[e._v("Event Fee: "+e._s(e._f("currency")(e.event.price)))]),n("li",[e._v("Merit Badge Fees: "+e._s(e._f("currency")(e.preferenceCosts)))]),n("li",[e._v("Purchases: "+e._s(e._f("currency")(e.purchaseCosts)))])])]):e._e(),e.showActualCost?n("p",{staticClass:"column is-6"},[n("b",[e._v("Actual Costs: ")]),e._v(e._s(e._f("currency")(e.actualCost))+"\n      "),n("ul",{staticClass:"itemized-list"},[n("li",[e._v("Event Fee: "+e._s(e._f("currency")(e.event.price)))]),n("li",[e._v("Merit Badge Fees: "+e._s(e._f("currency")(e.assignmentCosts)))]),n("li",[e._v("Purchases: "+e._s(e._f("currency")(e.purchaseCosts)))])])]):e._e()]),e.showPreferences?n("div",{staticClass:"registration-section"},[n("b",[e._v("Merit Badge Preferences:")]),e.preferences.length>0?n("div",{staticClass:"preference-list"},[n("ol",e._l(e.preferences,function(t){return n("li",{key:t.name},[e._v("\n          "+e._s(t.name)+"\n          "),"0.00"!==t.price?n("span",[e._v("\n            ("+e._s(e._f("currency")(t.price))+")\n          ")]):e._e()])}),0)]):n("div",{staticClass:"notification"},[e._t("preference-notification",[e._v("\n        This scout does not have any preferences listed for this event.\n      ")])],2)]):e._e(),e.purchases.length>0?n("div",{staticClass:"registration-section"},[n("b",[e._v("Purchased Items:")]),n("ul",{staticClass:"itemized-list"},e._l(e.purchases,function(t){return n("li",{key:t.id},[e._v("\n        "+e._s(t.item)+":\n        "),t.size?n("span",[e._v("\n          (Size "+e._s(e._f("upperCase")(t.size))+")\n        ")]):e._e(),e._v("\n        "+e._s(e._f("currency")(t.price))+" × "+e._s(t.quantity)+" = "+e._s(e._f("currency")(t.price*t.quantity))+"\n      ")])}),0)]):e._e(),e.showAssignments?n("div",{staticClass:"registration-section"},[n("b",[e._v("Assignments:")]),e.assignments.length<1?n("div",{staticClass:"attendance-section"},[n("div",{staticClass:"notification"},[e._t("assignment-notification",[e._v("\n          No Merit Badges have been assigned for MBU "+e._s(e.event.semester)+" "+e._s(e.event.year)+".\n        ")])],2)]):n("div",[n("ul",{staticClass:"itemized-list"},e._l(e.assignments,function(t,r){return n("li",{key:r},[e._v("\n          Period "+e._s(r+1)+":\n          "),n("span",t?[e._v("\n            "+e._s(t.badge.name)+"\n            "),"0.00"!==t.price?n("span",[e._v("\n              ("+e._s(e._f("currency")(t.price))+")\n            ")]):e._e(),n("div",{staticClass:"completions"},[e._v("\n              Completions:\n              "),t.details.completions.length>0?n("span",[e._v("\n                "+e._s(e._f("commaSeparated")(e._f("numAlphaSort")(t.details.completions)))+"\n              ")]):n("span",[e._v("\n                No completions recorded yet\n              ")])])]:[e._v("Unassigned")])])}),0)])]):e._e()])},s=[],i=(n("c5f6"),n("2ef0")),a=n.n(i),o={props:{event:{type:Object,required:!0},preferences:{type:Array,default:function(){return[]}},purchases:{type:Array,default:function(){return[]}},assignments:{type:Array,default:function(){return[]}},showAssignments:{type:Boolean,default:!0},showPreferences:{type:Boolean,default:!0},showActualCost:{type:Boolean,default:!0},showProjectedCost:{type:Boolean,default:!0}},computed:{actualCost:function(){return Number(this.event.price)+Number(this.assignmentCosts)+Number(this.purchaseCosts)},assignmentCosts:function(){return a.a.reduce(a.a.uniqBy(this.assignments,"offering_id"),function(e,t){return t?e+Number(t.price):e},0)},preferenceCosts:function(){return a.a.reduce(this.preferences,function(e,t){return e+Number(t.price)},0)},projectedCost:function(){return Number(this.event.price)+Number(this.preferenceCosts)+Number(this.purchaseCosts)},purchaseCosts:function(){return a.a.reduce(this.purchases,function(e,t){return e+Number(t.price)*Number(t.quantity)},0)}}},u=o,c=(n("fb7a"),n("2877")),l=Object(c["a"])(u,r,s,!1,null,"1c92dc66",null);t["a"]=l.exports},3360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"and"},function(){for(var e=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.length>0&&t.reduce(function(t,n){return t&&n.apply(e,r)},!0)})};t.default=s},"386d":function(e,t,n){"use strict";var r=n("cb7c"),s=n("83a1"),i=n("5f1b");n("214f")("search",1,function(e,t,n,a){return[function(n){var r=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var o=r(e),u=String(this),c=o.lastIndex;s(c,0)||(o.lastIndex=0);var l=i(o,u);return s(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]})},"3a54":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=s},"45b8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.regex)("numeric",/^[0-9]*$/);t.default=s},"46bc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"maxValue",max:e},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})};t.default=s},5147:function(e,t,n){var r=n("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(s){}}return!0}},"53d6":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.error?n("div",{staticClass:"notification is-danger"},[n("p",[e._v("\n      "+e._s(e.error)+"\n    ")])]):e._e(),e.showDeleteConfirmation?e._e():n("form",[n("div",{staticClass:"columns is-multiline"},[n("div",{staticClass:"field column is-3"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-first-name"}},[e._v("First Name")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.scoutUpdate.firstname,expression:"scoutUpdate.firstname"}],staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.firstname.$error},attrs:{type:"text",id:"scout-edit-first-name",placeholder:"First Name"},domProps:{value:e.scoutUpdate.firstname},on:{blur:e.$v.scoutUpdate.firstname.$touch,input:function(t){t.target.composing||e.$set(e.scoutUpdate,"firstname",t.target.value)}}})]),e.$v.scoutUpdate.firstname.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the scout's first name\n        ")]):e._e()]),n("div",{staticClass:"field column is-3"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-last-name"}},[e._v("Last Name")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.scoutUpdate.lastname,expression:"scoutUpdate.lastname"}],staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.lastname.$error},attrs:{type:"text",id:"scout-edit-last-name",placeholder:"Last Name"},domProps:{value:e.scoutUpdate.lastname},on:{blur:e.$v.scoutUpdate.lastname.$touch,input:function(t){t.target.composing||e.$set(e.scoutUpdate,"lastname",t.target.value)}}})]),e.$v.scoutUpdate.lastname.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the scout's last name\n        ")]):e._e()]),n("div",{staticClass:"field column is-3"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-birthday"}},[e._v("Birthday")]),n("div",{staticClass:"control"},[n("masked-input",{staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.birthday.$error},attrs:{mask:"11/11/1111",placeholder:"mm/dd/yyyy",id:"scout-edit-birthday"},on:{blur:e.$v.scoutUpdate.birthday.$touch},model:{value:e.scoutUpdate.birthday,callback:function(t){e.$set(e.scoutUpdate,"birthday",t)},expression:"scoutUpdate.birthday"}})],1),e.$v.scoutUpdate.birthday.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the scout's birthday\n        ")]):e._e()]),n("div",{staticClass:"field column is-3"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-troop"}},[e._v("Troop")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.scoutUpdate.troop,expression:"scoutUpdate.troop"}],staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.troop.$error},attrs:{type:"number",id:"scout-edit-troop",placeholder:"Troop"},domProps:{value:e.scoutUpdate.troop},on:{blur:e.$v.scoutUpdate.troop.$touch,input:function(t){t.target.composing||e.$set(e.scoutUpdate,"troop",t.target.value)}}})]),e.$v.scoutUpdate.troop.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the scout's troop\n        ")]):e._e()]),n("div",{staticClass:"field column is-12"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-notes"}},[e._v("Anything else we should know?")]),n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.scoutUpdate.notes,expression:"scoutUpdate.notes"}],staticClass:"textarea",attrs:{id:"scout-edit-notes",rows:"2",placeholder:"Allergies, dietery needs, etc."},domProps:{value:e.scoutUpdate.notes},on:{input:function(t){t.target.composing||e.$set(e.scoutUpdate,"notes",t.target.value)}}})])]),e._m(0),n("div",{staticClass:"field column is-4"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-emergency-name"}},[e._v("Name")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.scoutUpdate.emergency_name,expression:"scoutUpdate.emergency_name"}],staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.emergency_name.$error},attrs:{type:"text",id:"scout-edit-emergency-name",placeholder:"Name"},domProps:{value:e.scoutUpdate.emergency_name},on:{blur:e.$v.scoutUpdate.emergency_name.$touch,input:function(t){t.target.composing||e.$set(e.scoutUpdate,"emergency_name",t.target.value)}}})]),e.$v.scoutUpdate.emergency_name.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the name of the person we should contact in event of emergency\n        ")]):e._e()]),n("div",{staticClass:"field column is-4"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-emergency-relation"}},[e._v("Relation")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.scoutUpdate.emergency_relation,expression:"scoutUpdate.emergency_relation"}],staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.emergency_relation.$error},attrs:{type:"text",id:"scout-edit-emergency-relation",placeholder:"Relationship to Scout"},domProps:{value:e.scoutUpdate.emergency_relation},on:{blur:e.$v.scoutUpdate.emergency_relation.$touch,input:function(t){t.target.composing||e.$set(e.scoutUpdate,"emergency_relation",t.target.value)}}})]),e.$v.scoutUpdate.emergency_relation.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the relationship of the emergency contact to the scout\n        ")]):e._e()]),n("div",{staticClass:"field column is-4"},[n("label",{staticClass:"label",attrs:{for:"scout-edit-emergency-phone"}},[e._v("Phone Number")]),n("div",{staticClass:"control"},[n("masked-input",{staticClass:"input",class:{"is-danger":e.$v.scoutUpdate.emergency_phone.$error},attrs:{mask:"(111) 111-1111",placeholder:"(___) ___-____",id:"scout-edit-emergency-phone"},on:{blur:e.$v.scoutUpdate.emergency_phone.$touch},model:{value:e.scoutUpdate.emergency_phone,callback:function(t){e.$set(e.scoutUpdate,"emergency_phone",t)},expression:"scoutUpdate.emergency_phone"}})],1),e.$v.scoutUpdate.emergency_phone.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Please enter the phone number of the person we should contact in event of emergency\n        ")]):e._e()]),n("div",{staticClass:"column"},[n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",class:{"is-loading":e.saving},attrs:{disabled:e.$v.$invalid||e.saving},on:{click:function(t){return t.preventDefault(),e.saveScout()}}},[e._v("Save")])]),n("div",{staticClass:"control"},[n("button",{staticClass:"button",attrs:{disabled:e.saving},on:{click:function(t){return t.preventDefault(),e.close()}}},[e._v("Cancel")])]),n("div",{staticClass:"control is-pulled-right"},[n("button",{staticClass:"button is-danger",attrs:{disabled:e.saving},on:{click:function(t){return t.preventDefault(),e.toggleDeleteConfirmation()}}},[e._v("Delete")])])])])])]),e.showDeleteConfirmation?n("confirm-delete",{staticClass:"container-fluid",attrs:{"match-text":this.scout.firstname+" "+this.scout.lastname,placeholder:"Full Name"},on:{deleteSuccess:function(t){return e.deleteScout()},close:function(t){return e.toggleDeleteConfirmation()}}},[n("span",{attrs:{slot:"header"},slot:"header"},[e._v("\n      Do you really want to delete this scout?\n    ")]),n("span",{attrs:{slot:"help-text"},slot:"help-text"},[e._v("\n      Enter the scout's full name to confirm that you wish to delete this scout.\n      "),n("b",[e._v("This action cannot be undone, and will permanently delete all associated records\n        and registrations.")])])]):e._e()],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"column is-12"},[n("h5",{staticClass:"title is-5"},[e._v("Emergency Contact Information")])])}],i=n("cebc"),a=n("2ef0"),o=n.n(a),u=n("c1df"),c=n.n(u),l=n("2f62"),d=n("b5ae"),f=n("bfcb"),p={data:function(){return{scoutUpdate:{firstname:"",lastname:"",birthday:"",troop:"",notes:"",emergency_name:"",emergency_phone:"",emergency_relation:""},error:"",saving:!1,showDeleteConfirmation:!1}},props:{scout:{type:Object,required:!0}},computed:Object(i["a"])({},Object(l["b"])(["profile"])),methods:{deleteScout:function(){var e=this;this.$store.dispatch("deleteScout",{userId:this.scout.user_id,scoutId:this.scout.id}).then(function(){e.error="",e.close()}).catch(function(){e.error="Failed to delete scout. Please refresh and try again"})},saveScout:function(){var e=this;this.saving=!0,this.$store.dispatch("updateScout",{userId:this.scout.user_id,scout:this.scoutUpdate}).then(function(){e.error="",e.close()}).catch(function(){e.error="Failed to save changes. Please refresh and try again"}).then(function(){e.saving=!1})},toggleDeleteConfirmation:function(){this.showDeleteConfirmation=!this.showDeleteConfirmation},close:function(){this.$emit("close")}},mounted:function(){this.scoutUpdate=o.a.clone(this.scout),this.scoutUpdate.birthday=c()(this.scoutUpdate.birthday).format("MM/DD/YYYY")},validations:{scoutUpdate:{firstname:{required:d["required"]},lastname:{required:d["required"]},birthday:{required:d["required"],date:Object(f["d"])("MM/DD/YYYY")},troop:{required:d["required"]},emergency_name:{required:d["required"]},emergency_phone:{required:d["required"],phone:f["h"]},emergency_relation:{required:d["required"]}}}},v=p,h=n("2877"),m=Object(h["a"])(v,r,s,!1,null,null,null);t["a"]=m.exports},"5b0e":function(e,t,n){},"5d75":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/,i=(0,r.regex)("email",s);t.default=i},"5db3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"minLength",min:e},function(t){return!(0,r.req)(t)||(0,r.len)(t)>=e})};t.default=s},6235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.regex)("alpha",/^[a-zA-Z]*$/);t.default=s},6417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"not"},function(t,n){return!(0,r.req)(t)||!e.call(this,t,n)})};t.default=s},6762:function(e,t,n){"use strict";var r=n("5ca1"),s=n("c366")(!0);r(r.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"772d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/i,i=(0,r.regex)("url",s);t.default=i},"78ef":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return r.default}}),t.regex=t.ref=t.len=t.req=void 0;var r=s(n("8750"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===i(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=a;var o=function(e){return Array.isArray(e)?e.length:"object"===i(e)?Object.keys(e).length:String(e).length};t.len=o;var u=function(e,t,n){return"function"===typeof e?e.call(t,n):n[e]};t.ref=u;var c=function(e,t){return(0,r.default)({type:e},function(e){return!a(e)||t.test(e)})};t.regex=c},"7a51":function(e,t,n){"use strict";var r=n("f1b0"),s=n.n(r);s.a},"7c19":function(e,t,n){"use strict";var r=n("795b"),s=n.n(r);n("ac6a"),n("5df3");t["a"]={data:function(){return{eventLoading:!1,eventLoadError:""}},created:function(){var e=this;this.eventLoading=!0,s.a.all([this.$store.dispatch("getEvents"),this.$store.dispatch("getCurrentEvent")]).then(function(){e.eventLoadError=""}).catch(function(){e.eventLoadError="Failed to fetch event data. Please refresh to try again."}).then(function(){e.eventLoading=!1})}}},"7fc2":function(e,t,n){"use strict";var r=n("5b0e"),s=n.n(r);s.a},"83a1":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},8750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="web"===Object({NODE_ENV:"production",BASE_URL:"/"}).BUILD?n("cb69").withParams:n("0234").withParams,s=r;t.default=s},"91d3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,r.withParams)({type:"macAddress"},function(t){if(!(0,r.req)(t))return!0;if("string"!==typeof t)return!1;var n="string"===typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==n&&(6===n.length||8===n.length)&&n.every(i)})};t.default=s;var i=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},a1f2:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box filters"},[n("div",{staticClass:"columns is-multiline"},[n("div",{staticClass:"column is-6"},[n("horizontal-field",[n("span",{attrs:{slot:"field-label"},slot:"field-label"},[e._v("Registered:")]),n("events-dropdown",{attrs:{slot:"field-contents"},on:{select:function(t){e.updateQuery("eventId",Number(t))}},slot:"field-contents"})],1)],1),n("div",{staticClass:"column is-6"},[n("horizontal-field",[n("span",{attrs:{slot:"field-label"},slot:"field-label"},[e._v("Troop:")]),n("span",{staticClass:"input-group select",attrs:{slot:"field-contents"},slot:"field-contents"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.troopProp,expression:"troopProp"}],staticClass:"input",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.troopProp=t.target.multiple?n:n[0]},function(t){e.updateQuery("troop",t.target.value?Number(t.target.value):null)}]}},[n("option",{domProps:{value:null}},[e._v("All Troops")]),e._l(e.troops,function(t){return n("option",{key:t,domProps:{value:t}},[e._v("\n              "+e._s(t)+"\n            ")])})],2)])])],1),n("div",{staticClass:"column is-6"},[n("horizontal-field",[n("span",{attrs:{slot:"field-label"},slot:"field-label"},[e._v("Name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchProp,expression:"searchProp"}],staticClass:"input is-expanded",attrs:{slot:"field-contents",id:"scout-list-find"},domProps:{value:e.searchProp},on:{input:[function(t){t.target.composing||(e.searchProp=t.target.value)},function(t){return e.updateQuery("search",t.target.value)}]},slot:"field-contents"})])],1),n("div",{staticClass:"column is-6"},[n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control is-pulled-right"},[n("button",{staticClass:"button is-pulled-right",on:{click:function(t){return t.preventDefault(),e.reset()}}},[e._v("Reset Filters")])])])])])])},s=[],i=(n("6762"),n("2fdb"),n("a481"),n("386d"),n("c5f6"),n("2ef0")),a=n.n(i),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field is-horizontal"},[n("div",{staticClass:"field-label is-normal"},[n("label",{staticClass:"label"},[e._t("field-label")],2)]),n("div",{staticClass:"field-body"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[e._t("field-contents")],2)])])])},u=[],c=n("2877"),l={},d=Object(c["a"])(l,o,u,!1,null,null,null),f=d.exports,p={props:{eventId:Number,troop:Number,search:String,troops:Array},data:function(){return{eventIdProp:this.eventId,troopProp:this.troop,searchProp:this.search}},methods:{reset:function(){this.troopProp=null,this.searchProp=null,this.updateQuery("troop",null),this.updateQuery("search","")},sendUpdate:function(e,t){this.$emit("update:"+e,t)},updateQuery:function(e,t){var n=a.a.clone(this.$route.query);null===t?delete n[e]:n[e]=t,this.$router.replace({query:n}),this.sendUpdate(e,t)}},watch:{troopProp:function(e,t){void 0===e&&(this.troopProp=t)},troops:function(){a.a.includes(this.troops,this.troopProp)||(this.troopProp=null,this.updateQuery("troop",null))}},mounted:function(){var e=this.$route.query;e.troop&&(this.troopProp=e.troop,this.sendUpdate("troop",Number(e.troop))),e.eventId&&(this.eventIdProp=e.eventId,this.sendUpdate("eventId",Number(e.eventId))),e.search&&(this.searchProp=e.search,this.sendUpdate("search",e.search))},components:{HorizontalField:f}},v=p,h=Object(c["a"])(v,r,s,!1,null,null,null);t["a"]=h.exports},aa82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"requiredIf",prop:e},function(t,n){return!(0,r.ref)(e,this,n)||(0,r.req)(t)})};t.default=s},aba6:function(e,t,n){},b170:function(e,t,n){},b5ae:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"alpha",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"alphaNum",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"numeric",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"between",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"email",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ipAddress",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"macAddress",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"maxLength",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"minLength",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"required",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"requiredIf",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"requiredUnless",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"sameAs",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"url",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"or",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"and",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"not",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"minValue",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"maxValue",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return w.default}}),t.helpers=void 0;var r=O(n("6235")),s=O(n("3a54")),i=O(n("45b8")),a=O(n("ec11")),o=O(n("5d75")),u=O(n("c99d")),c=O(n("91d3")),l=O(n("2a12")),d=O(n("5db3")),f=O(n("d4f4")),p=O(n("aa82")),v=O(n("e652")),h=O(n("b6cb")),m=O(n("772d")),g=O(n("d294")),_=O(n("3360")),b=O(n("6417")),y=O(n("eb66")),C=O(n("46bc")),P=O(n("1331")),w=O(n("c301")),$=j(n("78ef"));function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}t.helpers=$},b6cb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"sameAs",eq:e},function(t,n){return t===(0,r.ref)(e,this,n)})};t.default=s},bfcb:function(e,t,n){"use strict";var r=n("c1df"),s=n.n(r),i=void 0,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";return function(n,r){var a="function"===typeof e?e.call(i,r):r[e],o=s()(a,t),u=s()(n,t);return!o.isValid()||!!u.isValid()&&u.isBefore(s()(a,t))}},o=void 0,u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MM/DD/YYYY";return function(r,i){var a="function"===typeof e?e.call(o,i):i[e],u="function"===typeof t?t.call(o,i):i[t],c=s()(a,n),l=s()(u,n),d=s()(r,n);return!c.isValid()||!l.isValid()||!!d.isValid()&&(d.isBetween(c,l)||d.isBetween(l,c))}},c=(n("28a5"),n("2ef0")),l=n.n(c),d=function(e){if("undefined"===typeof e||null===e||""===l.a.trim(e))return!0;var t=l.a.split(e,","),n=/^[0-9A-Za-z]*$/;return l.a.reduce(t,function(e,t){return e&&n.test(l.a.trim(t))},!0)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MM/DD/YYYY";return function(t){return s()(t,e,!0).isValid()}},p=void 0,v=function(e){return function(t,n){if("undefined"===typeof t||null===t||""===t)return!0;var r="function"===typeof e?e.call(p,n):n[e];return!r||t>=r}},h=void 0,m=function(e){return function(t,n){if("undefined"===typeof t||null===t||""===t)return!0;var r="function"===typeof e?e.call(h,n):n[e];return!r||t<=r}},g=function(e){return"undefined"===typeof e||null===e||""===e||/^[0-9]*$/.test(e)},_=function(e){var t=/\(\d{3}\) ?\d{3}-\d{4}/;return t.test(e)};n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return g}),n.d(t,"h",function(){return _})},c301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=s},c99d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.withParams)({type:"ipAddress"},function(e){if(!(0,r.req)(e))return!0;if("string"!==typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(i)});t.default=s;var i=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},cb69:function(e,t,n){"use strict";(function(e){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=void 0;var r="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},s=function(e,t){return"object"===n(e)&&void 0!==t?t:e(function(){})},i=r.vuelidate?r.vuelidate.withParams:s;t.withParams=i}).call(this,n("c8ba"))},d294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.withParams)({type:"or"},function(){for(var e=this,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.length>0&&t.reduce(function(t,n){return t||n.apply(e,r)},!1)})};t.default=s},d2c8:function(e,t,n){var r=n("aae3"),s=n("be13");e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(s(e))}},d4f4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=(0,r.withParams)({type:"required"},r.req);t.default=s},e35e:function(e,t,n){"use strict";var r=n("b170"),s=n.n(r);s.a},e652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"requiredUnless",prop:e},function(t,n){return!!(0,r.ref)(e,this,n)||(0,r.req)(t)})};t.default=s},eb66:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e){return(0,r.withParams)({type:"minValue",min:e},function(t){return!(0,r.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})};t.default=s},ec11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("78ef"),s=function(e,t){return(0,r.withParams)({type:"between",min:e,max:t},function(n){return!(0,r.req)(n)||(!/\s/.test(n)||n instanceof Date)&&+e<=+n&&+t>=+n})};t.default=s},f1b0:function(e,t,n){},f4c8:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.eventLoading?n("spinner-page"):n("div",[n("filter-box",{staticClass:"attendance-list-filters",attrs:{troop:e.troopFilter,eventId:e.eventId,search:e.search,troops:e.troops},on:{"update:troop":function(t){e.troopFilter=t},"update:eventId":function(t){e.eventId=t},"update:event-id":function(t){e.eventId=t},"update:search":function(t){e.search=t}}}),e.error?n("closable-error",{on:{dismissed:function(t){return e.dismissError()}}},[e._v(e._s(e.error))]):e._e(),e.loading?n("spinner-page"):n("div",{attrs:{id:"printable"}},[e.filteredRegistrations.length>0?n("div",{staticClass:"attendance-list"},[n("div",{staticClass:"box stats-container"},[n("h5",{staticClass:"title is-5"},[e._v("\n            Event Overview for "+e._s(e.event.semester)+" "+e._s(e.event.year)+"\n            "),n("div",{staticClass:"is-pulled-right"},[e.printing?e._e():n("button",{staticClass:"button print-hidden",on:{click:function(t){return e.print()}}},[n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa fa-print"})]),n("span",[e._v("Print")])])])]),n("troop-stats",{attrs:{event:this.event,registrations:this.filteredRegistrations}})],1),n("div",{staticClass:"tabs is-centered print-hidden"},[n("ul",[n("router-link",{attrs:{to:e.listLink,tag:"li"}},[n("a",[e._v("List View")])]),n("router-link",{attrs:{to:e.detailLink,tag:"li"}},[n("a",[e._v("Detail View")])])],1)]),n("div",{attrs:{id:"print-break-before"}}),n("router-view",{attrs:{event:this.event,classes:e.classesForEvent(this.eventId),registrations:this.filteredRegistrations}})],1):n("div",{staticClass:"notification"},[n("p",[e._v("\n          No attendance records match the selected filters. Try selecting a different event,\n          or searching for another scout.\n        ")])])])],1)],1)},s=[],i=(n("386d"),n("7514"),n("cebc")),a=n("2f62"),o=n("2ef0"),u=n.n(o),c=n("7c19"),l=n("25cf"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",[e.isTeacher?e._e():n("span",[n("li",[n("b",[e._v(e._s(e.isCoordinator?"Total Due":"Total Income")+" (all scouts):")]),e.totalDue?n("span",[e._v(e._s(e._f("currency")(e.totalDue)))]):n("span",[e._v("Calculating...")])]),n("br")]),n("li",[n("b",[e._v("Showing Information for: ")]),e._v("\n      "+e._s(e.registrations.length)+" "+e._s(1==e.registrations.length?"scout":"scouts")+"\n    ")]),n("li",[n("b",[e._v("\n        Total for "+e._s(e.registrations.length)+" "+e._s(1==e.registrations.length?"scout":"scouts")+"\n        shown:\n      ")]),n("span",[e._v(e._s(e._f("currency")(e.subtotal)))])]),n("br"),n("li",[n("b",[e._v("Event Registration Fees")]),n("span",[e._v("\n        "+e._s(e._f("currency")(e.registrations.length*Number(e.event.price)))+" ("+e._s(e.registrations.length)+" × "+e._s(e._f("currency")(e.event.price))+")\n      ")])]),n("li",[n("b",[e._v("Merit Badge Fees:")]),n("span",[e._v(e._s(e._f("currency")(e.subcost("assignments"))))])]),n("li",[n("b",[e._v("Purchase Costs:")]),n("span",[e._v(e._s(e._f("currency")(e.subcost("purchases"))))])]),n("purchased-items",{staticClass:"purchased-items",attrs:{registrations:e.registrations}})],1)])},f=[],p=(n("c5f6"),n("bc3a")),v=n.n(p),h=n("3fab"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",e._l(e.groupedPurchases,function(t,r){return n("li",{key:r},[t.hasSize?n("span",[n("b",[e._v(e._s(r)+":")]),n("ul",{staticClass:"subtotal"},e._l(e.sizes,function(r){return n("li",{key:r},[n("b",{staticClass:"uppercase"},[e._v(e._s(r)+":")]),t.items[r]?n("span",[e._v("\n              "+e._s(e._f("currency")(e.totalDue(t.items[r])))+"\n              ("+e._s(e.totalQuantity(t.items[r]))+" ×\n              "+e._s(e._f("currency")(t.items[r][0].price))+")\n            ")]):n("span",[e._v("\n              No purchases\n            ")])])}),0)]):n("span",[n("b",[e._v(e._s(r)+":")]),e._v("\n        "+e._s(e._f("currency")(e.totalDue(t)))+"\n        ("+e._s(e.totalQuantity(t))+" × "+e._s(e._f("currency")(t[0].price))+")\n      ")])])}),0)])},g=[],_=(n("ac6a"),{props:{registrations:{type:Array,required:!0}},data:function(){return{sizes:["xs","s","m","l","xl"]}},computed:{purchases:function(){return u.a.chain(this.registrations).map("purchases").flatten().groupBy("item").value()},groupedPurchases:function(){var e=u.a.cloneDeep(this.purchases);return u.a.forEach(this.purchases,function(t,n){if(t[0].has_size){e[n]={hasSize:!0,items:[]};var r=u.a.chain(t).groupBy("details.size").value();e[n].items=r}}),e}},methods:{totalDue:function(e){return u.a.reduce(e,function(e,t){return e+Number(t.price)*Number(t.details.quantity)},0)},totalQuantity:function(e){return u.a.reduce(e,function(e,t){return e+Number(t.details.quantity)},0)}}}),b=_,y=(n("7fc2"),n("2877")),C=Object(y["a"])(b,m,g,!1,null,null,null),P=C.exports,w={props:{event:{type:Object,required:!0},registrations:{type:Array,required:!0}},data:function(){return{error:"",loading:!1,totalDue:null}},computed:Object(i["a"])({},Object(a["b"])(["profile","isTeacher"]),{isCoordinator:function(){return"coordinator"===this.profile.role},subtotal:function(){return this.subcost("assignments")+this.subcost("purchases")+this.registrations.length*Number(this.event.price)}}),methods:{subcost:function(e){return e?u.a.reduce(this.registrations,function(t,n){return t+u.a.reduce(n[e],function(e,t){return e+Number(t.price)*(Number(t.details.quantity)||1)},0)},0):0}},mounted:function(){var e=this;if(this.registrations.length>0&&!this.isTeacher){var t=this.isCoordinator?h["a"].USERS_URL+this.profile.id+"/events/"+this.event.id+"/cost":h["a"].EVENTS_URL+this.event.id+"/income";return v.a.get(t).then(function(t){e.totalDue=e.isCoordinator?t.data.cost:t.data.income,e.error=""}).catch(function(){e.error="Failed to get the necessary information for statistics."}).then(function(){e.loading=!1})}},components:{PurchasedItems:P}},$=w,j=(n("e35e"),Object(y["a"])($,d,f,!1,null,null,null)),O=j.exports,U=n("a1f2"),x={props:{listLink:{type:String,required:!0},detailLink:{type:String,required:!0}},data:function(){return{eventId:0,error:"",loading:!1,search:"",troopFilter:null,printing:!1}},computed:Object(i["a"])({},Object(a["b"])(["allEvents","registrations","isCoordinator"]),{event:function(){return u.a.find(this.allEvents,{id:this.eventId})},filteredRegistrations:function(){var e,t=this;return this.selectedRegistration?(e=this.troopFilter?u.a.filter(this.selectedRegistration,function(e){return e.scout.troop===t.troopFilter}):this.selectedRegistration,e=u.a.filter(e,function(e){return e.scout.fullname.toLowerCase().indexOf(t.search.toLowerCase())>-1}),u.a.orderBy(e,["scout.troop"])):{}},selectedRegistration:function(){return this.registrations[this.eventId]||[]},troops:function(){return this.selectedRegistration?u.a.orderBy(u.a.uniq(u.a.map(this.selectedRegistration,"scout.troop"))):[]}}),methods:{dismissError:function(){this.error=""},print:function(){window.print()}},watch:{eventId:function(){var e=this;this.loading=!0,this.totalDue=null,!this.hasClassInfoForEvent(this.eventId)&&this.isCoordinator&&this.loadClasses(this.eventId),this.$store.dispatch("getRegistrations",this.eventId).then(function(){e.error=""}).catch(function(){e.error="Failed to get registration information for this event"}).then(function(){e.loading=!1})}},components:{FilterBox:U["a"],TroopStats:O},mixins:[c["a"],l["a"]]},q=x,N=(n("7a51"),Object(y["a"])(q,r,s,!1,null,"54c1ef16",null));t["a"]=N.exports},fb7a:function(e,t,n){"use strict";var r=n("aba6"),s=n.n(r);s.a}}]);
//# sourceMappingURL=coordinator~scouts.63e52d80.js.map