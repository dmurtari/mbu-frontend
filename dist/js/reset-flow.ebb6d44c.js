(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reset-flow"],{"05f9":function(s,e,t){},3238:function(s,e,t){"use strict";var n=t("05f9"),a=t.n(n);a.a},4726:function(s,e,t){"use strict";t.r(e);var n=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("div",{staticClass:"column is-6 is-offset-3"},[t("h1",{staticClass:"title"},[s._v("Reset your password")]),t("router-view")],1)])},a=[],r={beforeRouteEnter:function(s,e,t){localStorage.getItem("token")&&t(function(s){return s.$router.push("/")}),t()}},i=r,o=t("2877"),l=Object(o["a"])(i,n,a,!1,null,null,null);l.options.__file="Reset.vue";e["default"]=l.exports},"5a71":function(s,e,t){"use strict";t.r(e);var n=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("change-password",{attrs:{sending:s.sending,error:s.error},on:{resetPassword:function(e){s.resetPassword(e)}}})],1)},a=[],r=(t("a481"),t("b5ae"),t("ff2c")),i={data:function(){return{error:"",sending:!1}},computed:{resetToken:function(){return this.$route.params.resetToken}},methods:{resetPassword:function(s){var e=this,t={password:s,token:this.resetToken};this.sending=!0,this.$store.dispatch("resetPassword",t).then(function(){e.$router.replace({path:"/login",query:{from:"resetSuccess"}})}).catch(function(s){e.error="Failed to reset password. Please try again."}).then(function(){e.sending=!1})}},components:{"change-password":r["a"]}},o=i,l=t("2877"),d=Object(l["a"])(o,n,a,!1,null,null,null);d.options.__file="ResetForm.vue";e["default"]=d.exports},"7f6c":function(s,e,t){"use strict";t.r(e);var n=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("form",[s.error?t("div",{staticClass:"notification is-danger"},[s._v("\n    Failed to send the reset email. Please re-enter your email and try again.\n  ")]):s._e(),s.sent?t("div",{staticClass:"notification is-success"},[s._v("\n    Successfully sent the reset email! Check your inbox and click the link in the message.\n  ")]):s._e(),t("div",{staticClass:"field"},[t("label",{staticClass:"label"},[s._v("\n      Enter the email you used to create your account\n    ")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"input",attrs:{type:"email"},domProps:{value:s.email},on:{input:function(e){e.target.composing||(s.email=e.target.value)}}})]),t("span",{staticClass:"help"},[s._v("\n      A link to reset your password will be emailed to you from no‑reply@apo‑gammatheta.org.\n      Please check your spam folder if you do not see this email.\n    ")])]),t("button",{staticClass:"button is-primary",class:{"is-loading":s.sending},attrs:{disabled:s.sending},on:{click:function(e){e.preventDefault(),s.sendResetEmail()}}},[s._v("\n    "+s._s(s.sent?"Resend Email":"Send Email")+"\n  ")])])},a=[],r={data:function(){return{email:"",error:!1,sent:!1,sending:!1}},methods:{sendResetEmail:function(){var s=this;this.sending=!0,this.$store.dispatch("sendResetEmail",this.email).then(function(){s.error=!1,s.sent=!0}).catch(function(){s.sent=!1,s.error=!0}).then(function(){s.sending=!1})}}},i=r,o=(t("3238"),t("2877")),l=Object(o["a"])(i,n,a,!1,null,"149daeea",null);l.options.__file="EmailForm.vue";e["default"]=l.exports},ff2c:function(s,e,t){"use strict";var n=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("form",[s.error?t("div",{staticClass:"notification is-danger"},[s._v("\n      "+s._s(s.error)+"\n    ")]):s._e(),t("p",{staticClass:"subtitle"},[s._v("\n      Enter the new password you would like to use to login to your account.\n    ")]),t("div",{staticClass:"field"},[t("label",{staticClass:"label",attrs:{for:"reset-password"}},[s._v("\n        New password\n      ")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"input",class:{"is-danger":s.$v.password.$error},attrs:{type:"password",id:"reset-password",required:""},domProps:{value:s.password},on:{blur:s.$v.password.$touch,input:function(e){e.target.composing||(s.password=e.target.value)}}})]),s.$v.password.$error?t("span",[s.$v.password.minLength?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Password must be at least 8 characters long\n        ")]),s.$v.password.required?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Please provide your new password\n        ")])]):s._e()]),t("div",{staticClass:"field"},[t("label",{staticClass:"label",attrs:{for:"reset-confirm"}},[s._v("\n        Confirm your password\n      ")]),t("div",{staticClass:"control"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"input",class:{"is-danger":s.$v.passwordConfirmation.$error},attrs:{type:"password",id:"reset-confirm",required:""},domProps:{value:s.passwordConfirmation},on:{blur:s.$v.passwordConfirmation.$touch,input:function(e){e.target.composing||(s.passwordConfirmation=e.target.value)}}})]),s.$v.passwordConfirmation.$error?t("span",[s.$v.passwordConfirmation.sameAs?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Passwords do not match\n        ")]),s.$v.passwordConfirmation.required?s._e():t("span",{staticClass:"help is-danger"},[s._v("\n          Please confirm your new password\n        ")])]):s._e()]),t("div",{staticClass:"field is-grouped"},[t("div",{staticClass:"control"},[t("button",{staticClass:"button is-primary",class:{"is-loading":s.sending},attrs:{disabled:s.$v.$invalid||s.sending},on:{click:function(e){e.preventDefault(),s.resetPassword()}}},[s._v("\n          Set Password\n        ")])]),t("div",{staticClass:"control"},[s.showCancel?t("button",{staticClass:"button",class:{"is-loading":s.sending},attrs:{disabled:s.sending},on:{click:function(e){e.preventDefault(),s.cancel()}}},[s._v("\n          Cancel\n        ")]):s._e()])])])])},a=[],r=t("b5ae"),i=(t("4b2f"),{data:function(){return{password:"",passwordConfirmation:""}},props:{sending:{type:Boolean,required:!0},error:{type:String,required:!1},showCancel:{type:Boolean,default:!1}},methods:{cancel:function(){this.$emit("cancel")},resetPassword:function(){this.$emit("resetPassword",this.password)}},validations:{password:{required:r["required"],minLength:Object(r["minLength"])(8)},passwordConfirmation:{required:r["required"],sameAs:Object(r["sameAs"])("password")}}}),o=i,l=t("2877"),d=Object(l["a"])(o,n,a,!1,null,null,null);d.options.__file="ChangePassword.vue";e["a"]=d.exports}}]);
//# sourceMappingURL=reset-flow.ebb6d44c.js.map