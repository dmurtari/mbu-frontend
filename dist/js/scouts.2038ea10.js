(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["scouts"],{"1de0":function(t,e,s){"use strict";var n=s("25b3"),i=s.n(n);i.a},"25b3":function(t,e,s){},3121:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"columns"},[t.showProjectedCost?s("p",{staticClass:"column is-6"},[s("b",[t._v("Projected Costs: ")]),t._v(t._s(t._f("currency")(t.projectedCost))+"\n      "),s("ul",{staticClass:"itemized-list"},[s("li",[t._v("Event Fee: "+t._s(t._f("currency")(t.event.price)))]),s("li",[t._v("Merit Badge Fees: "+t._s(t._f("currency")(t.preferenceCosts)))]),s("li",[t._v("Purchases: "+t._s(t._f("currency")(t.purchaseCosts)))])])]):t._e(),t.showActualCost?s("p",{staticClass:"column is-6"},[s("b",[t._v("Actual Costs: ")]),t._v(t._s(t._f("currency")(t.actualCost))+"\n      "),s("ul",{staticClass:"itemized-list"},[s("li",[t._v("Event Fee: "+t._s(t._f("currency")(t.event.price)))]),s("li",[t._v("Merit Badge Fees: "+t._s(t._f("currency")(t.assignmentCosts)))]),s("li",[t._v("Purchases: "+t._s(t._f("currency")(t.purchaseCosts)))])])]):t._e()]),t.showPreferences?s("div",{staticClass:"registration-section"},[s("b",[t._v("Merit Badge Preferences:")]),t.preferences.length>0?s("div",{staticClass:"preference-list"},[s("ol",t._l(t.preferences,function(e){return s("li",{key:e.name},[t._v("\n          "+t._s(e.name)+"\n          "),"0.00"!==e.price?s("span",[t._v("\n            ("+t._s(t._f("currency")(e.price))+")\n          ")]):t._e()])}))]):s("div",{staticClass:"notification"},[t._t("preference-notification",[t._v("\n        This scout does not have any preferences listed for this event.\n      ")])],2)]):t._e(),t.purchases.length>0?s("div",{staticClass:"registration-section"},[s("b",[t._v("Purchased Items:")]),s("ul",{staticClass:"itemized-list"},t._l(t.purchases,function(e){return s("li",{key:e.id},[t._v("\n        "+t._s(e.item)+":\n        "),e.size?s("span",[t._v("\n          (Size "+t._s(t._f("upperCase")(e.size))+")\n        ")]):t._e(),t._v("\n        "+t._s(t._f("currency")(e.price))+" × "+t._s(e.quantity)+" = "+t._s(t._f("currency")(e.price*e.quantity))+"\n      ")])}))]):t._e(),t.showAssignments?s("div",{staticClass:"registration-section"},[s("b",[t._v("Assignments:")]),t.assignments.length<1?s("div",{staticClass:"attendance-section"},[s("div",{staticClass:"notification"},[t._t("assignment-notification",[t._v("\n          No Merit Badges have been assigned for MBU "+t._s(t.event.semester)+" "+t._s(t.event.year)+".\n        ")])],2)]):s("div",[s("ul",{staticClass:"itemized-list"},t._l(t.assignments,function(e,n){return s("li",{key:n},[t._v("\n          Period "+t._s(n+1)+":\n          "),s("span",e?[t._v("\n            "+t._s(e.badge.name)+"\n            "),"0.00"!==e.price?s("span",[t._v("\n              ("+t._s(t._f("currency")(e.price))+")\n            ")]):t._e(),s("div",{staticClass:"completions"},[t._v("\n              Completions:\n              "),e.details.completions.length>0?s("span",[t._v("\n                "+t._s(t._f("commaSeparated")(t._f("numAlphaSort")(e.details.completions)))+"\n              ")]):s("span",[t._v("\n                No completions recorded yet\n              ")])])]:[t._v("Unassigned")])])}))])]):t._e()])},i=[],a=(s("c5f6"),{props:{event:{type:Object,required:!0},preferences:{type:Array,default:function(){return[]}},purchases:{type:Array,default:function(){return[]}},assignments:{type:Array,default:function(){return[]}},showAssignments:{type:Boolean,default:!0},showPreferences:{type:Boolean,default:!0},showActualCost:{type:Boolean,default:!0},showProjectedCost:{type:Boolean,default:!0}},computed:{actualCost:function(){return Number(this.event.price)+Number(this.assignmentCosts)+Number(this.purchaseCosts)},assignmentCosts:function(){return _.reduce(_.uniqBy(this.assignments,"offering_id"),function(t,e){return e?t+Number(e.price):t},0)},preferenceCosts:function(){return _.reduce(this.preferences,function(t,e){return t+Number(e.price)},0)},projectedCost:function(){return Number(this.event.price)+Number(this.preferenceCosts)+Number(this.purchaseCosts)},purchaseCosts:function(){return _.reduce(this.purchases,function(t,e){return t+Number(e.price)*Number(e.quantity)},0)}}}),r=a,o=(s("ce19"),s("2877")),c=Object(o["a"])(r,n,i,!1,null,"b7c51c2c",null);c.options.__file="ScoutRegistration.vue";e["a"]=c.exports},4543:function(t,e,s){},"4a2c":function(t,e,s){"use strict";var n=s("4cdc"),i=s.n(n);i.a},"4cdc":function(t,e,s){},"53d6":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.error?s("div",{staticClass:"notification is-danger"},[s("p",[t._v("\n      "+t._s(t.error)+"\n    ")])]):t._e(),t.showDeleteConfirmation?t._e():s("form",[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-first-name"}},[t._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scoutUpdate.firstname,expression:"scoutUpdate.firstname"}],staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.firstname.$error},attrs:{type:"text",id:"scout-edit-first-name",placeholder:"First Name"},domProps:{value:t.scoutUpdate.firstname},on:{blur:t.$v.scoutUpdate.firstname.$touch,input:function(e){e.target.composing||t.$set(t.scoutUpdate,"firstname",e.target.value)}}})]),t.$v.scoutUpdate.firstname.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's first name\n        ")]):t._e()]),s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-last-name"}},[t._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scoutUpdate.lastname,expression:"scoutUpdate.lastname"}],staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.lastname.$error},attrs:{type:"text",id:"scout-edit-last-name",placeholder:"Last Name"},domProps:{value:t.scoutUpdate.lastname},on:{blur:t.$v.scoutUpdate.lastname.$touch,input:function(e){e.target.composing||t.$set(t.scoutUpdate,"lastname",e.target.value)}}})]),t.$v.scoutUpdate.lastname.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's last name\n        ")]):t._e()]),s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-birthday"}},[t._v("Birthday")]),s("div",{staticClass:"control"},[s("masked-input",{staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.birthday.$error},attrs:{mask:"11/11/1111",placeholder:"mm/dd/yyyy",id:"scout-edit-birthday"},on:{blur:t.$v.scoutUpdate.birthday.$touch},model:{value:t.scoutUpdate.birthday,callback:function(e){t.$set(t.scoutUpdate,"birthday",e)},expression:"scoutUpdate.birthday"}})],1),t.$v.scoutUpdate.birthday.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's birthday\n        ")]):t._e()]),s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-troop"}},[t._v("Troop")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scoutUpdate.troop,expression:"scoutUpdate.troop"}],staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.troop.$error},attrs:{type:"number",id:"scout-edit-troop",placeholder:"Troop"},domProps:{value:t.scoutUpdate.troop},on:{blur:t.$v.scoutUpdate.troop.$touch,input:function(e){e.target.composing||t.$set(t.scoutUpdate,"troop",e.target.value)}}})]),t.$v.scoutUpdate.troop.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's troop\n        ")]):t._e()]),s("div",{staticClass:"field column is-12"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-notes"}},[t._v("Anything else we should know?")]),s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.scoutUpdate.notes,expression:"scoutUpdate.notes"}],staticClass:"textarea",attrs:{id:"scout-edit-notes",rows:"2",placeholder:"Allergies, dietery needs, etc."},domProps:{value:t.scoutUpdate.notes},on:{input:function(e){e.target.composing||t.$set(t.scoutUpdate,"notes",e.target.value)}}})])]),t._m(0),s("div",{staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-emergency-name"}},[t._v("Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scoutUpdate.emergency_name,expression:"scoutUpdate.emergency_name"}],staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.emergency_name.$error},attrs:{type:"text",id:"scout-edit-emergency-name",placeholder:"Name"},domProps:{value:t.scoutUpdate.emergency_name},on:{blur:t.$v.scoutUpdate.emergency_name.$touch,input:function(e){e.target.composing||t.$set(t.scoutUpdate,"emergency_name",e.target.value)}}})]),t.$v.scoutUpdate.emergency_name.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the name of the person we should contact in event of emergency\n        ")]):t._e()]),s("div",{staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-emergency-relation"}},[t._v("Relation")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scoutUpdate.emergency_relation,expression:"scoutUpdate.emergency_relation"}],staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.emergency_relation.$error},attrs:{type:"text",id:"scout-edit-emergency-relation",placeholder:"Relationship to Scout"},domProps:{value:t.scoutUpdate.emergency_relation},on:{blur:t.$v.scoutUpdate.emergency_relation.$touch,input:function(e){e.target.composing||t.$set(t.scoutUpdate,"emergency_relation",e.target.value)}}})]),t.$v.scoutUpdate.emergency_relation.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the relationship of the emergency contact to the scout\n        ")]):t._e()]),s("div",{staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"scout-edit-emergency-phone"}},[t._v("Phone Number")]),s("div",{staticClass:"control"},[s("masked-input",{staticClass:"input",class:{"is-danger":t.$v.scoutUpdate.emergency_phone.$error},attrs:{mask:"(111) 111-1111",placeholder:"(___) ___-____",id:"scout-edit-emergency-phone"},on:{blur:t.$v.scoutUpdate.emergency_phone.$touch},model:{value:t.scoutUpdate.emergency_phone,callback:function(e){t.$set(t.scoutUpdate,"emergency_phone",e)},expression:"scoutUpdate.emergency_phone"}})],1),t.$v.scoutUpdate.emergency_phone.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the phone number of the person we should contact in event of emergency\n        ")]):t._e()]),s("div",{staticClass:"column"},[s("div",{staticClass:"field is-grouped"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":t.saving},attrs:{disabled:t.$v.$invalid||t.saving},on:{click:function(e){e.preventDefault(),t.saveScout()}}},[t._v("Save")])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button",attrs:{disabled:t.saving},on:{click:function(e){e.preventDefault(),t.close()}}},[t._v("Cancel")])]),s("div",{staticClass:"control is-pulled-right"},[s("button",{staticClass:"button is-danger",attrs:{disabled:t.saving},on:{click:function(e){e.preventDefault(),t.toggleDeleteConfirmation()}}},[t._v("Delete")])])])])])]),t.showDeleteConfirmation?s("confirm-delete",{staticClass:"container-fluid",attrs:{"match-text":this.scout.firstname+" "+this.scout.lastname,placeholder:"Full Name"},on:{deleteSuccess:function(e){t.deleteScout()},close:function(e){t.toggleDeleteConfirmation()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("\n      Do you really want to delete this scout?\n    ")]),s("span",{attrs:{slot:"help-text"},slot:"help-text"},[t._v("\n      Enter the scout's full name to confirm that you wish to delete this scout.\n      "),s("b",[t._v("This action cannot be undone, and will permanently delete all associated records\n        and registrations.")])])]):t._e()],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-12"},[s("h5",{staticClass:"title is-5"},[t._v("Emergency Contact Information")])])}],a=s("c93e"),r=s("2ef0"),o=s.n(r),c=s("c1df"),u=s.n(c),l=s("2f62"),d=s("b5ae"),f=s("bfcb"),p={data:function(){return{scoutUpdate:{firstname:"",lastname:"",birthday:"",troop:"",notes:"",emergency_name:"",emergency_phone:"",emergency_relation:""},error:"",saving:!1,showDeleteConfirmation:!1}},props:{scout:{type:Object,required:!0}},computed:Object(a["a"])({},Object(l["b"])(["profile"])),methods:{deleteScout:function(){var t=this;this.$store.dispatch("deleteScout",{userId:this.scout.user_id,scoutId:this.scout.id}).then(function(){t.error="",t.close()}).catch(function(){t.error="Failed to delete scout. Please refresh and try again"})},saveScout:function(){var t=this;this.saving=!0,this.$store.dispatch("updateScout",{userId:this.scout.user_id,scout:this.scoutUpdate}).then(function(){t.error="",t.close()}).catch(function(){t.error="Failed to save changes. Please refresh and try again"}).then(function(){t.saving=!1})},toggleDeleteConfirmation:function(){this.showDeleteConfirmation=!this.showDeleteConfirmation},close:function(){this.$emit("close")}},mounted:function(){this.scoutUpdate=o.a.clone(this.scout),this.scoutUpdate.birthday=u()(this.scoutUpdate.birthday).format("MM/DD/YYYY")},validations:{scoutUpdate:{firstname:{required:d["required"]},lastname:{required:d["required"]},birthday:{required:d["required"],date:Object(f["d"])("MM/DD/YYYY")},troop:{required:d["required"]},emergency_name:{required:d["required"]},emergency_phone:{required:d["required"],phone:f["h"]},emergency_relation:{required:d["required"]}}}},v=p,m=s("2877"),_=Object(m["a"])(v,n,i,!1,null,null,null);_.options.__file="ScoutEdit.vue";e["a"]=_.exports},"56b9":function(t,e,s){"use strict";var n=s("7e9a"),i=s.n(n);i.a},"56c4":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"title is-4"},[t._v("Event Attendances")]),s("p",[t._v("\n    Use this page to view and manage scouts' event attendance information, such as editing\n    class assignments and viewing totals due for each scout. You can also view attendance\n    and price information for a specific troop by selecting that troop from the dropdown.\n  ")]),s("stats-list",{attrs:{"list-link":"list","detail-link":"detail"}})],1)},i=[],a=s("f4c8"),r={components:{StatsList:a["a"]}},o=r,c=s("2877"),u=Object(c["a"])(o,n,i,!1,null,null,null);u.options.__file="AttendanceView.vue";e["default"]=u.exports},"7e7b":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b",[t._v("Assign Merit Badges")]),s("p",[t._v("\n    Assign Merit Badges for "+t._s(t.scout.fullname)+" for MBU "+t._s(t.event.semester)+" "+t._s(t.event.year)+" here. Select\n    a merit badge from the dropdown for each period. Merit Badges that are not offered for that period\n    are grayed out.\n  ")]),s("br"),s("p",[t._v("\n    "+t._s(t.scout.fullname)+" has listed as their preferences:\n  ")]),s("ul",t._l(t.preferences,function(e){return s("li",{key:e.offering_id},[t._v("\n      "+t._s(e.details.rank)+": "+t._s(e.badge.name)+"\n      "),"0.00"!==e.price?s("span",[t._v("\n        ("+t._s(t._f("currency")(e.price))+")\n      ")]):t._e()])})),s("form",{staticClass:"form"},[s("div",{staticClass:"columns"},t._l(3,function(e){return s("div",{key:e,staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"period-1-assignment"}},[t._v("Period "+t._s(e)+":")]),s("div",{staticClass:"control"},[s("span",{staticClass:"input-group select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.assignments[e-1],expression:"assignments[n - 1]"}],staticClass:"input",attrs:{id:"period-"+e+"-assignment"},on:{change:[function(s){var n=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.assignments,e-1,s.target.multiple?n:n[0])},function(s){t.maybeRespondToDuration(s.target.value,e)}]}},[s("option",{domProps:{value:null}},[t._v("No Assignment")]),s("option",{attrs:{disabled:""}}),s("optgroup",{attrs:{label:"Preferences"}},t._l(t.preferences,function(n){return s("option",{key:n.offering_id,attrs:{disabled:!t.offered(n.offering_id,e)||t.classFull(n.offering_id,e)},domProps:{value:n.offering_id}},[t._v("\n                  "+t._s(n.badge.name)+"\n                  "),"0.00"!==n.price?s("span",[t._v("\n                    ("+t._s(t._f("currency")(n.price))+")\n                  ")]):t._e(),n.duration>1?s("span",[t._v("\n                    ("+t._s(n.duration)+" periods)\n                  ")]):t._e(),t.sizeInfoForOffering(t.event.id,n.offering_id)?s("span",[t._v("\n                    ("+t._s(t.sizeInfoText(n.offering_id,e))+")\n                  ")]):t._e()])})),s("option",{attrs:{disabled:""}}),s("optgroup",{attrs:{label:"All Offerings"}},t._l(t.sortedOfferings,function(n){return s("option",{key:n.details.id,attrs:{disabled:!t.offered(n.details.id,e)||t.classFull(n.details.id,e)},domProps:{value:n.details.id}},[t._v("\n                  "+t._s(n.name)+"\n                  "),"0.00"!==n.details.price?s("span",[t._v("\n                    ("+t._s(t._f("currency")(n.details.price))+")\n                  ")]):t._e(),n.details.duration>1?s("span",[t._v("\n                    ("+t._s(n.details.duration)+" periods)\n                  ")]):t._e(),t.sizeInfoForOffering(t.event.id,n.details.id)?s("span",[t._v("\n                    ("+t._s(t.sizeInfoText(n.details.id,e))+")\n                  ")]):t._e()])}))])])])])}))]),s("div",{staticClass:"field is-grouped"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":t.saving},attrs:{disabled:t.saving},on:{click:function(e){t.setAssignments()}}},[t._v("Save Assignments")])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button",attrs:{disabled:t.saving},on:{click:function(e){t.$emit("done")}}},[t._v("Cancel")])])])])},i=[],a=(s("ac6a"),s("c5f6"),s("7514"),s("2ef0")),r=s.n(a),o=s("25cf"),c={props:{scout:{type:Object,required:!0},event:{type:Object,required:!0},preferences:{type:Array,default:function(){return[]}},registration:{type:Object,require:!0},classes:{type:Array,default:function(){return[]}}},data:function(){return{assignments:[],saving:!1}},computed:{sortedOfferings:function(){return r.a.orderBy(this.event.offerings,"name")}},methods:{classFull:function(t,e){return this.sizeInfoForOffering(this.event.id,t)[e]>=this.sizeInfoForOffering(this.event.id,t).size_limit},maybeRespondToDuration:function(t){var e=r.a.find(this.event.offerings,function(e){return e.details.id===Number(t)});!e||e.details.duration<2||(this.assignments[1]=t,this.assignments[2]=t)},offered:function(t,e){var s=r.a.find(this.event.offerings,function(e){return e.details.id===t});return r.a.indexOf(s.details.periods,e)>=0},setAssignments:function(){var t=this;this.saving=!0;var e=[];r.a.forEach(this.assignments,function(s,n){if(s){var i=r.a.find(e,{offering:s}),a=r.a.find(t.registration.assignments,{offering_id:s});i?i.periods.push(n+1):e.push({periods:[n+1],offering:s,completions:a&&a.details.completions||[]})}}),this.$store.dispatch("setAssignments",{scoutId:this.scout.scout_id,registrationId:this.registration.id,assignments:e,eventId:this.event.id}).then(function(){t.loadClasses(t.event.id)}).then(function(){t.error="",t.$emit("done")}).catch(function(){t.error="Failed to save assignments. Please refresh and try again"}).then(function(){t.saving=!1})},sizeInfoText:function(t,e){return"".concat(this.sizeInfoForOffering(this.event.id,t)[e]," of ").concat(this.sizeInfoForOffering(this.event.id,t).size_limit)}},mounted:function(){var t=[null,null,null];r.a.forEach(this.registration.assignments,function(e){return r.a.forEach(e.details.periods,function(s){t[Number(s)-1]=e.offering_id})}),this.assignments=t},mixins:[o["a"]]},u=c,l=(s("56b9"),s("2877")),d=Object(l["a"])(u,n,i,!1,null,"69366fcd",null);d.options.__file="AssignmentEdit.vue";e["a"]=d.exports},"7e9a":function(t,e,s){},"8afd":function(t,e,s){},"995b":function(t,e,s){"use strict";var n=s("4543"),i=s.n(n);i.a},b633:function(t,e,s){"use strict";s("7f7f"),s("c5f6"),s("ac6a");e["a"]={props:{registration:{type:Object,required:!0},event:{type:Object,required:!0}},computed:{assignments:function(){return this.registration.assignments},assignmentList:function(){var t=[null,null,null];return _.forEach(this.registration.assignments,function(e){return _.forEach(e.details.periods,function(s){t[Number(s)-1]=e})}),t},scout:function(){return this.registration.scout},preferences:function(){return _.orderBy(this.registration.preferences,["details.rank"])},purchases:function(){return this.registration.purchases},registrationAssignments:function(){return _.map(_.omitBy(this.assignmentList,_.isNil),function(t){return{name:t.badge.name,price:t.price,periods:t.details.periods}})},registrationPreferences:function(){return _.map(this.preferences,function(t){return{name:t.badge.name,price:t.price}})},registrationPurchases:function(){return _.map(this.purchases,function(t){return{price:t.price,size:t.details.size,item:t.item,quantity:t.details.quantity,id:t.id}})}}}},bfcb:function(t,e,s){"use strict";var n=s("c1df"),i=s.n(n),a=void 0,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";return function(s,n){var r="function"===typeof t?t.call(a,n):n[t],o=i()(r,e),c=i()(s,e);return!o.isValid()||!!c.isValid()&&c.isBefore(i()(r,e))}},o=void 0,c=function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"MM/DD/YYYY";return function(n,a){var r="function"===typeof t?t.call(o,a):a[t],c="function"===typeof e?e.call(o,a):a[e],u=i()(r,s),l=i()(c,s),d=i()(n,s);return!u.isValid()||!l.isValid()||!!d.isValid()&&(d.isBetween(u,l)||d.isBetween(l,u))}},u=(s("28a5"),s("2ef0")),l=s.n(u),d=function(t){if("undefined"===typeof t||null===t||""===l.a.trim(t))return!0;var e=l.a.split(t,","),s=/^[0-9A-Za-z]*$/;return l.a.reduce(e,function(t,e){return t&&s.test(l.a.trim(e))},!0)},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MM/DD/YYYY";return function(e){return i()(e,t,!0).isValid()}},p=void 0,v=function(t){return function(e,s){if("undefined"===typeof e||null===e||""===e)return!0;var n="function"===typeof t?t.call(p,s):s[t];return!n||e>=n}},m=void 0,_=function(t){return function(e,s){if("undefined"===typeof e||null===e||""===e)return!0;var n="function"===typeof t?t.call(m,s):s[t];return!n||e<=n}},g=function(t){return"undefined"===typeof t||null===t||""===t||/^[0-9]*$/.test(t)},h=function(t){var e=/\(\d{3}\) ?\d{3}-\d{4}/;return e.test(t)};s.d(e,"a",function(){return r}),s.d(e,"b",function(){return c}),s.d(e,"c",function(){return d}),s.d(e,"d",function(){return f}),s.d(e,"e",function(){return v}),s.d(e,"f",function(){return _}),s.d(e,"g",function(){return g}),s.d(e,"h",function(){return h})},bfe9:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.registrations,function(e){return s("attendance-row",{key:e.id,attrs:{registration:e,event:t.event}})}))},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"attendance-row"},[s("h5",{staticClass:"title is-5"},[t._v("\n    Attendance Information for "+t._s(t.scout.fullname)+"\n  ")]),s("div",[s("scout-registration",{attrs:{event:t.event,preferences:t.registrationPreferences,purchases:t.registrationPurchases,assignments:t.assignmentList,showProjectedCost:!1,showPreferences:!1}},[s("p",{attrs:{slot:"assignment-notification"},slot:"assignment-notification"},[t._v("\n        "+t._s(t.scout.fullname)+" has not yet been assigned any merit badges for\n        MBU "+t._s(t.event.semester)+" "+t._s(t.event.year)+".\n      ")])])],1)])},r=[],o=(s("2ef0"),s("3121")),c=s("b633"),u={components:{ScoutRegistration:o["a"]},mixins:[c["a"]]},l=u,d=(s("995b"),s("2877")),f=Object(d["a"])(l,a,r,!1,null,"9e4e6ee8",null);f.options.__file="TroopAttendanceRow.vue";var p=f.exports,v={props:{event:{type:Object,required:!0},registrations:{type:Array,required:!0}},components:{AttendanceRow:p}},m=v,_=Object(d["a"])(m,n,i,!1,null,null,null);_.options.__file="DetailView.vue";e["default"]=_.exports},ce19:function(t,e,s){"use strict";var n=s("8afd"),i=s.n(n);i.a},d94f:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading||t.eventLoading?s("spinner-page"):s("div",[s("div",{staticClass:"section"},[s("h3",{staticClass:"title is-3"},[t._v(t._s(t.scout.fullname))]),s("h5",{staticClass:"subtitle is-5"},[t._v(" Troop "+t._s(t.scout.troop))])]),t.editScout?s("scout-edit",{attrs:{scout:t.scout},on:{close:function(e){t.closeAndRefresh()}}}):t._e(),t.editScout?t._e():s("div",{staticClass:"section columns"},[s("div",{staticClass:"column is-6"},[s("h5",{staticClass:"title is-5"},[t._v("\n          Scout Information\n          "),s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Scout",expression:"'Edit Scout'"}],staticClass:"button is-small is-white",on:{click:function(e){t.toggleEditScout()}}},[t._m(0)])]),s("ul",[s("li",[s("strong",[t._v("First Name: ")]),t._v(t._s(t.scout.firstname)+"\n          ")]),s("li",[s("strong",[t._v("Last Name: ")]),t._v(t._s(t.scout.lastname)+"\n          ")]),s("li",[s("strong",[t._v("Birthday: ")]),t._v(t._s(t._f("shortDate")(t.scout.birthday))+"\n          ")]),s("li",[s("strong",[t._v("Age: ")]),t._v(t._s(t.scout.age)+"\n          ")]),s("li",[s("strong",[t._v("Date Added: ")]),t._v(t._s(t._f("shortDate")(t.scout.created_at))+"\n          ")]),s("li",[s("strong",[t._v("Notes: ")]),t._v(t._s(t.scout.notes)+"\n          ")]),s("li",[s("strong",[t._v("Emergency Contact: ")]),t._v(t._s(t.scout.emergency_name)+"\n          ")]),s("li",[s("strong",[t._v("Relationship to Scout: ")]),t._v(t._s(t.scout.emergency_relation)+"\n          ")]),s("li",[s("strong",[t._v("Emergency Number: ")]),t._v(t._s(t.scout.emergency_phone)+"\n          ")])])]),t.scout.user?s("div",{staticClass:"column is-6"},[s("h5",{staticClass:"title is-5"},[t._v("Coordinator Information")]),s("ul",[s("li",[s("strong",[t._v("Name: ")]),t._v(t._s(t.scout.user.fullname)+"\n          ")]),s("li",[s("strong",[t._v("Email: ")]),t._v(t._s(t.scout.user.email)+"\n          ")]),s("li",[s("strong",[t._v("Council: ")]),t._v(t._s(t.scout.user.details.council)+"\n          ")]),s("li",[s("strong",[t._v("District: ")]),t._v(t._s(t.scout.user.details.district)+"\n          ")]),s("li",[s("strong",[t._v("Troop: ")]),t._v(t._s(t.scout.user.details.troop)+"\n          ")])])]):t._e()]),s("div",{staticClass:"section"},[t.loadingRegistrations?s("spinner-page"):s("div",[s("h5",{staticClass:"title is-5"},[t._v("Registration Information")]),t.registrations.length>0?s("div",t._l(t.orderedRegistrations,function(e){return s("registration-container",{key:e.id,staticClass:"registration",attrs:{scout:t.scout,event:t.eventForId(e.event_id),registration:e},on:{done:function(e){t.reloadRegistrations()}}})})):s("div",{staticClass:"notification"},[t._v("\n          This scout has not registered for any events.\n        ")])])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("span",{staticClass:"fa fa-edit",attrs:{"aria-label":"Edit"}})])}],a=(s("7514"),s("c93e")),r=s("bc3a"),o=s.n(r),c=s("2ef0"),u=s.n(c),l=s("2f62"),d=s("7c19"),f=s("3fab"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("spinner-page"):s("div",[s("h5",{staticClass:"title is-5"},[t._v("\n      "+t._s(t.event.semester)+" "+t._s(t.event.year)+"\n      "),t.editing?t._e():s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Assignments",expression:"'Edit Assignments'"}],staticClass:"is-white button is-small",on:{click:function(e){e.preventDefault(),t.toggleEditing()}}},[t._m(0)])]),t.editing?s("assignment-edit",{attrs:{scout:t.scout,event:t.event,preferences:t.registration.preferences,registration:t.registration},on:{done:function(e){t.toggleEditing()}}}):s("scout-registration",{attrs:{event:t.event,preferences:t.registrationPreferences,purchases:t.registrationPurchases,assignments:t.assignmentList}})],1)],1)},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("span",{staticClass:"fa fa-edit",attrs:{"aria-label":"Edit Assignments"}})])}],m=(s("ac6a"),s("3121")),g=s("7e7b"),h=s("b633"),y=s("25cf"),b={data:function(){return{editing:!1,error:"",loading:!1}},methods:{toggleEditing:function(){this.editing=!this.editing,this.editing||this.$emit("done")},maybeLoadClasses:function(t){var e=this;return new Promise(function(s,n){e.hasClassInfoForEvent(t)&&s(),e.$store.dispatch("getClasses",t).then(function(s){return e.getSizesForBadges(t,_.map(s,"badge.badge_id"))}).then(function(){return s()}).catch(function(){return n()})})}},components:{AssignmentEdit:g["a"],ScoutRegistration:m["a"]},mounted:function(){var t=this;this.loading=!0,Promise.all([this.$store.dispatch("getRegistrations",this.event.id),this.maybeLoadClasses(this.event.id)]).then(function(){t.error=""}).catch(function(){t.error="Failed to load registration information."}).then(function(){t.loading=!1})},mixins:[h["a"],y["a"]]},C=b,$=(s("1de0"),s("2877")),U=Object($["a"])(C,p,v,!1,null,"d32e98e4",null);U.options.__file="RegistrationContainer.vue";var w=U.exports,E=s("53d6"),A={props:{id:{required:!0}},data:function(){return{editScout:!1,error:"",loading:!1,loadingRegistrations:!1,scout:{},registrations:{}}},computed:Object(a["a"])({},Object(l["b"])(["allEvents"]),{orderedRegistrations:function(){return u.a.orderBy(this.registrations,"created_at")}}),created:function(){this.reload()},methods:{closeAndRefresh:function(){this.editScout=!1,this.reload()},eventForId:function(t){return u.a.find(this.allEvents,{id:t})},reload:function(){var t=this;this.loading=!0,o.a.get(f["a"].SCOUTS_URL+this.id).then(function(e){t.scout=e.data,t.scout["id"]=t.scout.scout_id,t.scout["user_id"]=t.scout.user.user_id,t.error="",t.reloadRegistrations()}).catch(function(){t.error="Failed to get details for this scout."}).then(function(){t.loading=!1})},reloadRegistrations:function(){var t=this;return this.loadingRegistrations=!0,o.a.get(f["a"].SCOUTS_URL+this.id+"/registrations").then(function(e){t.registrations=e.data,t.error=""}).catch(function(){t.error="Failed to get registrations for this scout."}).then(function(){t.loadingRegistrations=!1})},toggleEditScout:function(){this.editScout=!this.editScout}},watch:{$route:function(){this.reload()}},components:{RegistrationContainer:w,ScoutEdit:E["a"]},mixins:[d["a"]]},P=A,S=(s("4a2c"),Object($["a"])(P,n,i,!1,null,"7cb1a14c",null));S.options.__file="ScoutDetail.vue";e["default"]=S.exports},efd8:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isList?s("h4",{staticClass:"title is-4"},[t._v("All Scouts")]):s("h4",{staticClass:"title is-4"},[s("router-link",{attrs:{to:"/administration/scouts/list/all"}},[t._v("\n      All Scouts\n    ")]),t._v("\n    / Scout Detail\n  ")],1),s("router-view")],1)},i=[],a=/.*all\/?$/,r={computed:{isList:function(){return a.test(this.$route.path)}}},o=r,c=s("2877"),u=Object(c["a"])(o,n,i,!1,null,null,null);u.options.__file="ScoutContainer.vue";e["default"]=u.exports}}]);
//# sourceMappingURL=scouts.2038ea10.js.map