(function(e){function t(t){for(var a,o,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)o=i[l],r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r={app:0},s=[];function i(e){return c.p+"js/"+({404:"404",about:"about",admin:"admin","admin-admins":"admin-admins","admin-approval":"admin-approval","admin-scout":"admin-scout","admin-user":"admin-user","admin-user-detail":"admin-user-detail",assignments:"assignments",attendance:"attendance",badges:"badges",classes:"classes","coordinator~scouts~teacher":"coordinator~scouts~teacher",coordinator:"coordinator",scouts:"scouts",teacher:"teacher",events:"events","admin-event":"admin-event",main:"main",offerings:"offerings",privacy:"privacy",profile:"profile","reset-flow":"reset-flow",signup:"signup"}[e]||e)+"."+{404:"b84e77eb",about:"bc384911",admin:"cb2bab09","admin-admins":"ac115f18","admin-approval":"d3e57773","admin-scout":"b16d196f","admin-user":"a518b79a","admin-user-detail":"27d26f4d",assignments:"31775d70",attendance:"760f2294",badges:"ca956d33",classes:"2d43172a","coordinator~scouts~teacher":"6413b2fb",coordinator:"c48fd4bc",scouts:"2038ea10",teacher:"1d3c0b05",events:"9c417a5b","admin-event":"f75653e0",main:"cb5e4577",offerings:"d19e1659",privacy:"4bc9ec75",profile:"f2ca65f4","reset-flow":"ebb6d44c",signup:"f4681407"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={admin:1,"admin-admins":1,"admin-approval":1,"admin-scout":1,"admin-user":1,"admin-user-detail":1,attendance:1,badges:1,classes:1,"coordinator~scouts~teacher":1,coordinator:1,scouts:1,teacher:1,events:1,"admin-event":1,main:1,offerings:1,profile:1,"reset-flow":1,signup:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise(function(t,n){for(var a="css/"+({404:"404",about:"about",admin:"admin","admin-admins":"admin-admins","admin-approval":"admin-approval","admin-scout":"admin-scout","admin-user":"admin-user","admin-user-detail":"admin-user-detail",assignments:"assignments",attendance:"attendance",badges:"badges",classes:"classes","coordinator~scouts~teacher":"coordinator~scouts~teacher",coordinator:"coordinator",scouts:"scouts",teacher:"teacher",events:"events","admin-event":"admin-event",main:"main",offerings:"offerings",privacy:"privacy",profile:"profile","reset-flow":"reset-flow",signup:"signup"}[e]||e)+"."+{404:"31d6cfe0",about:"31d6cfe0",admin:"79fbe172","admin-admins":"b3cd2605","admin-approval":"f0975fdd","admin-scout":"37cfe88e","admin-user":"dd29ea1b","admin-user-detail":"165e5712",assignments:"31d6cfe0",attendance:"f07c1409",badges:"88a6e095",classes:"b8e071a1","coordinator~scouts~teacher":"bfc85ae4",coordinator:"1b27f8c8",scouts:"f527f9d8",teacher:"d112ee8a",events:"0a7fde7c","admin-event":"f70f54ff",main:"f2894d1d",offerings:"722d2238",privacy:"31d6cfe0",profile:"02840df9","reset-flow":"a687a963",signup:"0d4e1493"}[e]+".css",o=c.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var i=r[s],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===a||u===o))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){i=l[s],u=i.getAttribute("data-href");if(u===a||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.request=a,n(r)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){o[e]=0}));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise(function(t,n){a=r[e]=[t,n]});t.push(a[2]=s);var u,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(e),u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");s.type=a,s.request=o,n[1](s)}r[e]=void 0}};var f=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,l.appendChild(d)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1335:function(e,t,n){"use strict";var a=n("2556"),o=n.n(a);o.a},1721:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dismissed?e._e():n("div",{staticClass:"notification is-danger"},[n("button",{staticClass:"delete",on:{click:e.dismiss}}),e._t("default",[e._v("\n    An error occured. Please refresh the page to try again, or come back later.\n  ")])],2)},o=[],r={data:function(){return{dismissed:!1}},methods:{dismiss:function(){this.dismissed=!0,this.$emit("dismissed")}}},s=r,i=n("2877"),c=Object(i["a"])(s,a,o,!1,null,null,null);c.options.__file="ClosableError.vue";t["a"]=c.exports},2556:function(e,t,n){},2884:function(e,t,n){},"3fab":function(e,t,n){"use strict";var a="production",o="development"===a?"http://localhost:3000/api/":"/api/";t["a"]={API_URL:o,BADGES_URL:o+"badges/",CURRENT_EVENT_URL:o+"events/current",EVENTS_URL:o+"events/",FORGOT_URL:o+"forgot/",LOGIN_URL:o+"authenticate/",PROFILE_URL:o+"profile/",RESET_API_URL:o+"reset/",RESET_URL:"development"===a?"http://localhost:8080/reset/":"http://mbu.online/reset/",SCOUTS_URL:o+"scouts/",SIGNUP_URL:o+"signup/",USERS_URL:o+"users/"}},4360:function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var a,o,r,s,i,c,u,l=n("a026"),d=n("2f62"),f=n("a322"),p=n("bc3a"),m=n.n(p),v=n("2ef0"),h=n.n(v),g="auth/LOGIN",b="auth/LOGOUT",_="auth/SAVE_PROFILE",E="badges/ADD",j="badges/DELETE",w="badges/GET",I="badges/UPDATE",C="classes/SET",S="classes/SET_SIZES",y="events/ADD",P="events/DELETE",U="events/GET",R="events/SET_CURRENT",T="events/SET_SELECTED",O="events/UPDATE",A="offerings/DELETE",L="offerings/UPDATE",k="preferences/SET",D="purchasable/DELETE",x="purchasables/SET",$="purchasable/UPDATE",F="purchase/DELETE",N="purchases/SET",z="registrations/ADD",B="registration/DELETE",q="eventRegistrations/SET",M="eventRegistrationAssignments/SET",V="eventRegistrationCompletion/SET",G="scouts/ADD",Y="scouts/DELETE",H="scouts/SET",J="scouts/UPDATE",K="users/APPROVE",W="users/DELETE",Z="users/GET_USERS",Q=n("3fab"),X={profile:{},isAuthenticated:!1},ee={profile:function(e){return e.profile},role:function(e){return e.profile.role},isAuthenticated:function(e){return e.isAuthenticated},isApproved:function(e){return e.profile.approved},isTeacher:function(e){return"teacher"===e.profile.role},isCoordinator:function(e){return"coordinator"===e.profile.role},isAdmin:function(e){return"admin"===e.profile.role},isTeacherOrAdmin:function(e){return"teacher"===e.profile.role||"admin"===e.profile.role},isCoordinatorOrAdmin:function(e){return"coordinator"===e.profile.role||"admin"===e.profile.role}},te=(a={},Object(f["a"])(a,g,function(e,t){e.profile=t.profile,e.isAuthenticated=!0,t.token&&(localStorage.setItem("token",t.token),m.a.defaults.headers.common["Authorization"]=t.token)}),Object(f["a"])(a,b,function(e){e.profile={},e.isAuthenticated=!1,localStorage.removeItem("token"),m.a.defaults.headers.common["Authorization"]=""}),Object(f["a"])(a,_,function(e,t){e.profile=t,e.isAuthenticated=!0,m.a.defaults.headers.common["Authorization"]=localStorage.getItem("token")}),a),ne={checkEmail:function(e,t){e.commit;return new Promise(function(e,n){m.a.get(Q["a"].USERS_URL+"exists/"+t).then(function(t){console.log("Got response",t.data.exists),e(t.data.exists)}).catch(function(e){console.error("Failed to check for user",e),n()})})},createAccount:function(e,t){e.commit;return new Promise(function(e,n){m.a.post(Q["a"].SIGNUP_URL,t).then(function(t){console.log("Successfully created user"),e(t.data.profile.id)}).catch(function(e){console.error("Failed to create user"),n(e.response.data.message)})})},deleteAccount:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].USERS_URL+t).then(function(t){console.log("Account deleted"),n(b),e()}).catch(function(e){console.error("Failed to delete account"),a()})})},getProfile:function(e,t){var n=e.commit;return new Promise(function(e,t){var a=localStorage.getItem("token");m.a.get(Q["a"].PROFILE_URL,{headers:{Authorization:a}}).then(function(t){console.log("Successfully authenticated from JWT"),n(_,t.data.profile),e()}).catch(function(e){console.error("Failed to authenticate JWT"),localStorage.removeItem("token"),t()})})},login:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].LOGIN_URL,t).then(function(t){console.log("Successfully logged in user"),n(g,t.data),e()}).catch(function(e){console.error("Failed to login user"),a(e.response.data.message)})})},signup:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].SIGNUP_URL,t).then(function(t){console.log("Successfully created user"),n(g,t.data),e()}).catch(function(e){console.error("Failed to create user"),a(e.response.data.message)})})},sendResetEmail:function(e,t){e.commit;var n={email:t,url:Q["a"].RESET_URL};return new Promise(function(e,a){m.a.post(Q["a"].FORGOT_URL,n).then(function(n){console.log("Send reset email to",t),e()}).catch(function(e){console.error("Failed to send reset email"),a()})})},resetPassword:function(e,t){e.commit;return new Promise(function(e,n){m.a.post(Q["a"].RESET_API_URL,t).then(function(){console.log("Reset password"),e()}).catch(function(e){console.error("Failed to reset password",e.response.data),n(e.response.data.message)})})},updateProfile:function(e,t){var n=e.commit,a=e.state;return new Promise(function(e,o){m.a.put(Q["a"].USERS_URL+t.id,t).then(function(o){console.log("Updated profile"),a.profile.id==t.id&&(console.log("Logging in"),n(g,o.data)),e()}).catch(function(e){console.error("Failed to update profile"),o(e.response.data.message)})})},logout:function(e){var t=e.commit;console.log("Logging out"),t(b)}},ae={state:X,getters:ee,actions:ne,mutations:te},oe=(n("7f7f"),{badges:[]}),re={badges:function(e){return h.a.orderBy(e.badges,"name")},badgeIdsAndNames:function(e){return h.a.sortBy(h.a.map(e.badges,function(e){return{id:e.id,name:e.name}}),"name")}},se=(o={},Object(f["a"])(o,E,function(e,t){e.badges.push(t)}),Object(f["a"])(o,j,function(e,t){h.a.remove(e.badges,function(e){return e.id===t})}),Object(f["a"])(o,w,function(e,t){e.badges=t}),Object(f["a"])(o,I,function(e,t){var n=h.a.indexOf(e.badges,{id:t.id});e.badges.splice(n,1,t)}),o),ie={addBadge:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].BADGES_URL,t).then(function(a){console.log("Created badge",a.data.badge),n(E,a.data.badge),e(t)}).catch(function(e){console.log("Failed to create badge",e.response.data.message),a(e.response.data.message)})})},deleteBadge:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].BADGES_URL+t).then(function(){console.log("Delete badge",t),n(j,t),e()}).catch(function(){console.log("Failed to delete badge",t),a()})})},getBadges:function(e){var t=e.commit;return new Promise(function(e,n){m.a.get(Q["a"].BADGES_URL).then(function(n){console.log("Received badges",n.data),t(w,n.data),e()})})},updateBadge:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].BADGES_URL+t.id,t).then(function(a){console.log("Updated badge to",a.data.badge),n(I,a.data.badge),e(t)}).catch(function(e){console.log("Failed to update badge",e.response.data.message),a(e.response.data.message)})})}},ce={state:oe,getters:re,actions:ie,mutations:se},ue=n("c93e"),le=(n("7514"),n("ac6a"),{eventClasses:{}}),de={eventClasses:function(e){return e.eventClasses}},fe=(r={},Object(f["a"])(r,C,function(e,t){l["a"].set(e.eventClasses,t.eventId,t.classes)}),Object(f["a"])(r,S,function(e,t){var n=e.eventClasses[t.eventId];if(void 0!=n){var a=[];h.a.forEach(n,function(e,n){var o=h.a.find(t.sizes,function(t){return e.badge.badge_id===t.badgeId});a.push(Object(ue["a"])({},e,{sizeInfo:o&&o.sizeLimits||e.sizeInfo||{}}))}),l["a"].set(e.eventClasses,t.eventId,a)}}),r),pe={getClasses:function(e,t){var n=e.commit;return new Promise(function(e,a){return m.a.get(Q["a"].EVENTS_URL+t+"/offerings/assignees").then(function(a){console.log("Received classes",a.data),n(C,{eventId:String(t),classes:a.data}),e(a.data)}).catch(function(e){console.error("Failed to get classes for event",t,e),a()})})},getClassSizes:function(e,t){var n=e.commit,a=Promise.all(h.a.map(t.badgeIds,function(e){return m.a.get(Q["a"].EVENTS_URL+t.eventId+"/badges/"+e+"/limits")}));return new Promise(function(e,o){a.then(function(a){var o=h.a.map(a,function(e,n){return{badgeId:t.badgeIds[n],sizeLimits:e.data}});console.log("Received class size information",o),n(S,{eventId:t.eventId,sizes:o}),e(o)}).catch(function(e){console.error("Failed to get class size limits",e),o()})})}},me={state:le,getters:de,actions:pe,mutations:fe},ve={},he={},ge={},be={},_e={state:ve,getters:he,actions:be,mutations:ge},Ee=(n("20d6"),{events:[],currentEvent:{},defaultSelectedId:null}),je=(s={},Object(f["a"])(s,y,function(e,t){e.events.push(t)}),Object(f["a"])(s,P,function(e,t){e.events=h.a.reject(e.events,function(e){return e.id===t})}),Object(f["a"])(s,A,function(e,t){var n=h.a.find(e.events,{id:t.eventId});n.offerings=h.a.reject(n.offerings,function(e){return e.id===t.badgeId})}),Object(f["a"])(s,D,function(e,t){var n=h.a.find(e.events,{id:t.eventId});n.purchasables=h.a.reject(n.purchasables,function(e){return e.id===t.purchasableId})}),Object(f["a"])(s,U,function(e,t){e.events=t}),Object(f["a"])(s,R,function(e,t){e.currentEvent=t}),Object(f["a"])(s,x,function(e,t){var n=h.a.find(e.events,{id:t.eventId});l["a"].set(n,"purchasables",t.purchasables)}),Object(f["a"])(s,T,function(e,t){e.defaultSelectedId=t}),Object(f["a"])(s,O,function(e,t){var n=h.a.findIndex(e.events,{id:t.id});e.events.splice(n,1,t)}),Object(f["a"])(s,L,function(e,t){var n=h.a.find(e.events,{id:t.event_id}),a=h.a.find(n.offerings,{id:t.badge_id});a.details=t}),Object(f["a"])(s,$,function(e,t){var n=h.a.find(e.events,{id:t.eventId}),a=h.a.findIndex(n.purchasables,function(e){return e.id===t.purchasable.id});n.purchasables.splice(a,1,t.purchasable)}),s),we={allEvents:function(e){return e.events},currentEvent:function(e){return h.a.find(e.events,function(t){return t.id===e.currentEvent.id})||{}},currentEventIndex:function(e){return h.a.findIndex(e.events,function(t){return t.id===e.currentEvent.id})},isCurrentEvent:function(e){return function(t){return e.currentEvent.id===t}},orderedEvents:function(e){return h.a.orderBy(e.events,"date","desc")},offeringsForEvent:function(e){return function(t){var n=h.a.find(e.events,{id:t});return n?n.offerings:[]}},selectedEventId:function(e){return e.defaultSelectedId}},Ie={addEvent:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].EVENTS_URL,t).then(function(t){console.log("Created event",t.data.event),n(y,t.data.event),e(t.data.event)}).catch(function(e){console.error("Failed to create event",e.response.data.message),a(e.response.data.message)})})},createOffering:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].EVENTS_URL+t.eventId+"/badges",t.details).then(function(a){console.log("Created offering",t.details,"for event",t.eventId),n(O,a.data.event),e()}).catch(function(e){console.error("Failed to create offering",t.details),a(e.response.data.message)})})},createPurchasable:function(e,t){var n=e.commit;return new Promise(function(e,a){console.log("posting",t),m.a.post(Q["a"].EVENTS_URL+t.eventId+"/purchasables",t.purchasable).then(function(a){console.log("Added purchasable",t.purchasable),n(x,{eventId:t.eventId,purchasables:a.data.purchasables}),e()}).catch(function(e){console.error("Failed to create purchasable",e),a()})})},deleteEvent:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].EVENTS_URL+t).then(function(){console.log("Deleted event",t),n(P,t),e()}).catch(function(){console.error("Failed to delete event",t),a()})})},deleteOffering:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].EVENTS_URL+t.eventId+"/badges/"+t.badgeId).then(function(a){console.log("Deleted badge",t.badgeId,"from event",t.eventId),n(A,t),e()}).catch(function(){console.error("Failed to delete offering",t.badgeId),a()})})},deletePurchasable:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].EVENTS_URL+t.eventId+"/purchasables/"+t.purchasableId).then(function(a){console.log("Deleted item",t.purchasableId,"from event",t.eventId),n(D,t),e()}).catch(function(){console.error("Failed to delete item",t.purchasableId),a()})})},getEvents:function(e){var t=e.commit,n=e.state;if(!(n.events.length>1))return new Promise(function(e,n){m.a.get(Q["a"].EVENTS_URL).then(function(n){console.log("Received events",n.data),t(U,n.data),e()}).catch(function(){console.error("Failed to get events"),n()})})},getCurrentEvent:function(e){var t=e.commit,n=e.state;if(!n.currentEvent||!n.currentEvent.id)return new Promise(function(e,n){m.a.get(Q["a"].CURRENT_EVENT_URL).then(function(n){console.log("Received current event",n.data),t(R,n.data),e(n.data)}).catch(function(){console.error("Failed to get current event"),n()})})},setSelectedId:function(e,t){var n=e.commit;n(T,t)},saveCurrentEvent:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].CURRENT_EVENT_URL,{id:t}).then(function(a){console.log("Updated current event to",t),n(R,a.data.currentEvent),e(a.data.currentEvent)}).catch(function(e){console.error("Failed to save current event",e.response.data.message),a(e.response.data.message)})})},updateEvent:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].EVENTS_URL+t.id,t).then(function(t){console.log("Updated event to",t.data.event),n(O,t.data.event),e(t.data.event)}).catch(function(e){console.error("Failed to update event",e.response.data.message),a(e.response.data.message)})})},updateOffering:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].EVENTS_URL+t.eventId+"/badges/"+t.badgeId,t.offering).then(function(a){console.log("Updated offering for badge",t.badgeId),n(L,a.data.offering),e()}).catch(function(){console.error("Failed to update offering"),a()})})},updatePurchasable:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].EVENTS_URL+t.eventId+"/purchasables/"+t.purchasable.id,t.purchasable).then(function(a){n($,{eventId:t.eventId,purchasable:a.data.purchasable}),e()}).catch(function(e){console.error("Failed to update purchasable",e),a()})})}},Ce={state:Ee,getters:we,actions:Ie,mutations:je},Se={registrations:{}},ye={registrations:function(e){return e.registrations}},Pe=(i={},Object(f["a"])(i,V,function(e,t){var n=h.a.find(e.registrations[t.eventId],function(e){return e.registration_id===t.registrationId});if(n){var a=h.a.find(n.assignments,function(e){return e.offering_id===t.offeringId});l["a"].set(a.details,"completions",t.completions)}}),Object(f["a"])(i,M,function(e,t){var n=h.a.find(e.registrations[t.eventId],function(e){return e.registration_id===t.registrationId});l["a"].set(n,"assignments",t.assignments)}),Object(f["a"])(i,q,function(e,t){l["a"].set(e.registrations,t.eventId,t.registrations)}),i),Ue={getRegistrations:function(e,t){var n,a=e.commit,o=(e.state,e.rootState);return n="coordinator"===o.authentication.profile.role?Q["a"].USERS_URL+o.authentication.profile.id+"/events/"+t+"/registrations":Q["a"].EVENTS_URL+t+"/registrations",new Promise(function(e,o){m.a.get(n).then(function(n){console.log("Received registrations",n.data),a(q,{eventId:t,registrations:n.data}),e()}).catch(function(e){console.error("Failed to get registrations with",e),o()})})},saveCompletions:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/assignments/"+t.offeringId,{completions:t.completions}).then(function(a){n(V,{eventId:t.eventId,offeringId:t.offeringId,registrationId:t.registrationId,completions:t.completions}),e(a.data)}).catch(function(e){console.log("Failed to save completions",e),a()})})},setAssignments:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/assignments",t.assignments).then(function(a){console.log("Set assignments for registration",t.registrationId,a.data.registration.assignments),n(M,{eventId:t.eventId,registrationId:t.registrationId,assignments:a.data.registration.assignments}),e(a.data.registration.assignments)}).catch(function(e){console.error("Failed to set assignments",e),a()})})}},Re={state:Se,getters:ye,actions:Ue,mutations:Pe},Te={scouts:[]},Oe={scouts:function(e){return h.a.orderBy(e.scouts,"lastname")}},Ae=(c={},Object(f["a"])(c,z,function(e,t){var n=h.a.find(e.scouts,{id:t.scout_id});n.registrations.push({preferences:[],purchases:[],event_id:t.event_id,details:t})}),Object(f["a"])(c,G,function(e,t){e.scouts.push(t)}),Object(f["a"])(c,F,function(e,t){var n=h.a.flatten(h.a.map(e.scouts,"registrations")),a=h.a.find(n,function(e){return e.details.id===t.registrationId});a.purchases=h.a.reject(a.purchases,function(e){return e.id===t.purchasableId})}),Object(f["a"])(c,B,function(e,t){var n=h.a.find(e.scouts,{id:t.scoutId});n.registrations=h.a.reject(n.registrations,function(e){return e.event_id===t.eventId})}),Object(f["a"])(c,Y,function(e,t){e.scouts=h.a.reject(e.scouts,function(e){return e.id===t})}),Object(f["a"])(c,N,function(e,t){var n=h.a.flatten(h.a.map(e.scouts,"registrations")),a=h.a.find(n,function(e){return e.details.id===t.registrationId});l["a"].set(a,"purchases",t.purchases)}),Object(f["a"])(c,k,function(e,t){var n=h.a.find(e.scouts,{id:t.scoutId}),a=h.a.find(n.registrations,function(e){return e.details.id===t.registrationId});l["a"].set(a,"preferences",h.a.sortBy(t.preferences,["details.rank"]))}),Object(f["a"])(c,H,function(e,t){e.scouts=t}),Object(f["a"])(c,J,function(e,t){if(!(e.scouts.length<1)){var n=h.a.find(e.scouts,{id:t.id});e.scouts=h.a.reject(e.scouts,function(e){return e.id===t.id}),t.registrations=n.registrations,e.scouts.push(t)}}),c),Le={addPurchase:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/purchases/",t.purchase).then(function(a){console.log("Created purchase for scout",t.scoutId,t.purchase),n(N,{registrationId:t.registrationId,purchases:a.data.registration.purchases}),e(a.data.registration.purchases)}).catch(function(e){console.error("Failed to purchase",t.purchase),a()})})},addRegistration:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/",{event_id:t.eventId}).then(function(a){console.log("Created registration for scout",t.scoutId,"event",t.eventId),n(z,a.data.registration),e(a.data.registration)}).catch(function(e){console.error("Failed to register",t.scoutId,"for",t.eventId),a()})})},addScout:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].USERS_URL+t.userId+"/scouts",t.scout).then(function(a){console.log("Added scout",a.data.scout,"for user",t.userId),n(G,a.data.scout),e(a.data.scout)}).catch(function(e){console.error("Failed to create scout with error",e.response.data.message),a(e.response.data.message)})})},deletePurchase:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/purchases/"+t.purchasableId).then(function(a){console.log("Removed item",t.purchasableId),n(F,t),e()}).catch(function(e){console.error("Failed to delete purchasable",e),a()})})},deleteRegistration:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.eventId).then(function(a){console.log("Deleted registration for event",t.eventId),n(B,t),e()}).catch(function(e){console.error("Failed to delete registration",e),a()})})},deleteScout:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].USERS_URL+t.userId+"/scouts/"+t.scoutId).then(function(a){console.log("Deleted scout",t.scoutId,"for user",t.userId),n(Y,t.scoutId),e()}).catch(function(e){console.errpr("Failed to delete scout with error",e),a()})})},getPurchases:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.get(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/purchases").then(function(a){console.log("Received purchases",a.data),n(N,{scoutId:t.scoutId,registrationId:t.registrationId,purchases:a.data}),e()}).catch(function(e){console.error("Failed to fetch purchases with",e),a()})})},getPreferences:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.get(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/preferences").then(function(a){console.log("Received preferences",a.data),n(k,{scoutId:t.scoutId,registrationId:t.registrationId,preferences:a.data}),e()}).catch(function(e){console.error("Failed to fetch preferences with",e),a()})})},getScouts:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.get(Q["a"].USERS_URL+t+"/scouts/registrations").then(function(a){console.log("Got scouts for user",t,a.data),n(H,a.data),e(a.data)}).catch(function(e){console.error("Failed to get scouts",e),a()})})},setPreferences:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.post(Q["a"].SCOUTS_URL+t.scoutId+"/registrations/"+t.registrationId+"/preferences",t.preferences).then(function(a){console.log("Set preferences for registration",t.registrationId,a.data.registration.preferences),n(k,{scoutId:t.scoutId,registrationId:t.registrationId,preferences:a.data.registration.preferences}),e(a.data.registration.preferences)}).catch(function(e){console.error("Failed to set preferences",e),a()})})},updateScout:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].USERS_URL+t.userId+"/scouts/"+t.scout.id,t.scout).then(function(a){console.log("Updated scout",t.scout.id),n(J,a.data.scout),e()}).catch(function(e){console.error("Failed to update scout",e),a()})})}},ke={state:Te,getters:Oe,actions:Le,mutations:Ae},De={users:[]},xe={admins:function(e){return h.a.filter(e.users,function(e){return"admin"===e.role})},users:function(e){return e.users},unapprovedUsers:function(e){return h.a.filter(e.users,function(e){return!e.approved})}},$e=(u={},Object(f["a"])(u,K,function(e,t){var n=h.a.find(e.users,function(e){return e.id===t});n.approved=!0}),Object(f["a"])(u,W,function(e,t){e.users=h.a.filter(e.users,function(e){return e.id!==t})}),Object(f["a"])(u,Z,function(e,t){e.users=t}),u),Fe={approveUser:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.put(Q["a"].USERS_URL+t,{approved:!0}).then(function(a){console.log("Approved user",t),n(K,t),e()}).catch(function(e){console.error("Failed to approve user",e),a()})})},deleteUser:function(e,t){var n=e.commit;return new Promise(function(e,a){m.a.delete(Q["a"].USERS_URL+t).then(function(a){console.log("Deleted user",t),n(W,t),e()}).catch(function(e){console.error("Failed to delete user",e),a()})})},getUsers:function(e){var t=e.commit;return new Promise(function(e,n){m.a.get(Q["a"].USERS_URL).then(function(n){console.log("Received users",n.data),t(Z,n.data),e()}).catch(function(e){console.error("Error retrieving users",e.data),n()})})}},Ne={state:De,getters:xe,actions:Fe,mutations:$e};l["a"].use(d["a"]);t["a"]=new d["a"].Store({modules:{authentication:ae,badges:ce,coordinator:_e,classes:me,event:Ce,registration:Re,scouts:ke,users:Ne}})},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d479","./el.js":"8d479","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id="4678"},"4b2f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"column is-three-quarters is-offset-2"},[n("h1",{staticClass:"title"},[e._v("Login")]),n("h3",{staticClass:"subtitle"},[e._v("Welcome back to MBU Online!")]),e.error?n("div",{staticClass:"notification is-warning"},[n("button",{staticClass:"delete",on:{click:function(t){t.preventDefault(),e.dismissError()}}}),n("p",[e._v("Invalid email/password combination")])]):e._e(),"resetSuccess"===e.$route.query.from?n("div",{staticClass:"notification is-success"},[n("p",[e._v("\n        Successfully reset your password! Please login to your account with using new password.\n      ")])]):e._e(),n("form",[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:"login-email"}},[e._v("Email")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],staticClass:"input is-expanded",class:{"is-danger":e.$v.credentials.email.$error},attrs:{type:"email",id:"login-email",placeholder:"Enter your email"},domProps:{value:e.credentials.email},on:{blur:e.$v.credentials.email.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}})]),e.$v.credentials.email.$error?n("span",[e.$v.credentials.email.email?e._e():n("span",{staticClass:"help is-danger"},[e._v("\n            Email address is invalid\n          ")]),e.$v.credentials.email.required?e._e():n("span",{staticClass:"help is-danger"},[e._v("\n            Email is required\n          ")])]):e._e()]),n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:"login-password"}},[e._v("Password")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],staticClass:"input is-expanded",class:{"is-danger":e.$v.credentials.password.$error},attrs:{type:"password",id:"login-password",placeholder:"Password"},domProps:{value:e.credentials.password},on:{blur:e.$v.credentials.password.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})]),!e.$v.credentials.password.required&&e.$v.credentials.password.$error?n("span",{staticClass:"help is-danger"},[e._v("\n          Password is required\n        ")]):e._e()]),n("br"),n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary",class:{"is-loading":e.loading},attrs:{disabled:e.$v.credentials.$invalid||e.loading},on:{click:function(t){t.preventDefault(),e.submit()}}},[e._v("Login")])]),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-info is-outlined",attrs:{disabled:e.loading},on:{click:function(t){t.preventDefault(),e.signup()}}},[e._v("Create an Account")])]),n("div",{staticClass:"control"},[n("router-link",{staticClass:"button is-text is-pulled-right",attrs:{disabled:e.loading,to:"/reset"}},[e._v("Forgot your password?")])],1)]),n("br")])])])},o=[],r=n("b5ae"),s={data:function(){return{credentials:{email:"",password:""},error:!1,loading:!1}},methods:{dismissError:function(){this.$v.$reset(),this.error=""},submit:function(){var e=this,t={email:this.credentials.email,password:this.credentials.password};this.loading=!0,this.$store.dispatch("login",t).then(function(){e.error=!1,e.$router.push("/")}).catch(function(t){e.error=!0}).then(function(){e.loading=!1})},signup:function(){this.$emit("close"),this.$router.push("/signup")},reset:function(){this.$emit("close"),this.$router.push("/reset")}},validations:{credentials:{email:{required:r["required"],email:r["email"]},password:{required:r["required"]}}}},i=s,c=(n("1335"),n("2877")),u=Object(c["a"])(i,a,o,!1,null,"5b4651c5",null);u.options.__file="Login.vue";t["default"]=u.exports},"4d6f":function(e,t,n){"use strict";var a=n("2884"),o=n.n(a);o.a},"51d1":function(e,t,n){},"52a3":function(e,t,n){"use strict";var a=n("ceee"),o=n.n(a);o.a},"52c2":function(e,t,n){},"55c5":function(e,t,n){"use strict";var a=n("51d1"),o=n.n(a);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var a=n("a026"),o=n("8c4f"),r=n("1dce"),s=n.n(r),i=n("baff"),c=n.n(i),u=n("e37d"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.loading?n("spinner-page"):n("div",{staticClass:"site-wrapper"},[n("navbar"),n("section",{staticClass:"section site-content"},[e.isApproved||null==e.isApproved?e._e():n("div",{staticClass:"container"},[n("div",{staticClass:"notification is-warning"},[e._v("\n          Your account has not yet been approved by an administrator. You can view Merit Badge and Event information,\n          "),e.isCoordinator?n("span",[e._v("\n            but you will not be able to add scouts to your troop or register your troop for an event until your account\n            is approved.\n          ")]):e.isTeacher?n("span",[e._v("\n            but you will not be able to edit requirements or class information until your account is approved.\n          ")]):e.isAdmin?n("span",[e._v("\n            but you will not be able to perform administrative tasks until your account is approved.\n          ")]):n("span",[e._v("\n            but you will not be able to perform other tasks until your account is approved.\n          ")])])]),n("div",{staticClass:"container"},[n("router-view")],1)]),n("mbu-footer")],1)],1)},d=[],f=n("c93e"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("div",{staticClass:"content has-text-centered"},[e._m(0),e._m(1),n("p",[n("router-link",{attrs:{to:"/privacy"}},[e._v("Privacy Policy")]),e._v("\n       | \n      "),n("a",{attrs:{href:"mailto:support@mbu.online"}},[e._v("Technical Problems?")]),e._v("\n       | \n      "),n("a",{attrs:{href:"https://github.com/dmurtari/mbu-frontend"}},[e._v("Contribute")])],1)])])},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("strong",[e._v("MBU Online")]),e._v(" by Domenic Murtari\n    ")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n      Source code licensed\n      "),n("a",{attrs:{href:"https://opensource.org/licenses/MIT"}},[e._v("MIT")]),e._v(", website licensed\n      "),n("a",{attrs:{href:"https://creativecommons.org/licenses/by/4.0/"}},[e._v("Creative Commons Version 4")])])}],v=(n("fc45"),n("2877")),h={},g=Object(v["a"])(h,p,m,!1,null,"77244a68",null);g.options.__file="Footer.vue";var b=g.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar has-shadow"},[n("div",{staticClass:"container"},[n("div",{staticClass:"navbar-brand"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/","active-class":"brand-active"}},[n("h5",{staticClass:"title is-5"},[e._v("\n          MBU Home\n        ")])]),n("span",{staticClass:"navbar-burger",class:{"is-active":e.dropdownActive},on:{click:function(t){t.preventDefault(),e.toggleDropdown()}}},[n("span"),n("span"),n("span")])],1),n("div",{staticClass:"navbar-menu",class:{"is-active":e.dropdownActive}},[n("div",{staticClass:"navbar-start"},[n("router-link",{staticClass:"navbar-item",attrs:{to:"/badges"}},[e._v("Badges")]),n("router-link",{staticClass:"navbar-item",attrs:{to:"/events"}},[e._v("Events")]),e.isCoordinator&&e.isApproved?n("router-link",{staticClass:"navbar-item",attrs:{to:"/coordinator"}},[e._v("Manage Troop")]):e._e(),e.isTeacher&&e.isApproved?n("router-link",{staticClass:"navbar-item",attrs:{to:"/teacher"}},[e._v("Instructor Tasks")]):e._e(),e.isAdmin?n("router-link",{staticClass:"navbar-item",attrs:{to:"/administration"}},[e._v("Administration")]):e._e()],1),n("div",{staticClass:"navbar-end"},[e.isAuthenticated?e._e():n("span",{staticClass:"navbar-item"},[n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("router-link",{staticClass:"button is-primary",attrs:{to:"/login"}},[e._v("Login")])],1),n("div",{staticClass:"control"},[n("router-link",{staticClass:"button is-info is-outlined",attrs:{to:"/signup"}},[e._v("Sign Up")])],1)])]),e.isAuthenticated?n("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[e._v("\n          Profile\n        ")]):e._e(),e.isAuthenticated?n("span",{staticClass:"navbar-item"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.logout()}}},[e._v("Logout")])]):e._e()],1)])])])},j=[],w=n("2f62"),I=n("4b2f"),C={data:function(){return{dropdownActive:!1}},computed:Object(f["a"])({},Object(w["b"])(["profile","isAdmin","isAuthenticated","isApproved","isCoordinator","isTeacher"])),methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push("/")},toggleDropdown:function(){this.dropdownActive=!this.dropdownActive}},components:{login:I["default"]}},S=C,y=(n("e609"),Object(v["a"])(S,E,j,!1,null,"65751e30",null));y.options.__file="Navbar.vue";var P=y.exports,U={data:function(){return{loading:!1}},components:{Navbar:P,"mbu-footer":b},computed:Object(f["a"])({},Object(w["b"])(["isApproved","isCoordinator","isTeacher","isAdmin"])),created:function(){var e=this;this.loading=!0,this.$store.dispatch("getProfile").then(function(){e.loading=!1}).catch(function(t){e.loading=!1})}},R=U,T=(n("52a3"),Object(v["a"])(R,l,d,!1,null,"dd7c29ec",null));T.options.__file="App.vue";var O=T.exports,A=n("4360"),L=(n("c5f6"),function(){return n.e("about").then(n.bind(null,"84ba"))}),k=function(){return n.e("main").then(n.bind(null,"2614"))},D=function(){return n.e("404").then(n.bind(null,"be4d"))},x=function(){return n.e("privacy").then(n.bind(null,"654e"))},$=function(){return n.e("badges").then(n.bind(null,"a370"))},F=function(){return n.e("events").then(n.bind(null,"cebb"))},N=function(){return n.e("profile").then(n.bind(null,"8ac1"))},z=function(){return n.e("profile").then(n.bind(null,"e1db"))},B=function(){return n.e("profile").then(n.bind(null,"cb15"))},q=function(){return n.e("profile").then(n.bind(null,"11d3"))},M=function(){return n.e("profile").then(n.bind(null,"09dd"))},V=function(){return n.e("reset-flow").then(n.bind(null,"7f6c"))},G=function(){return n.e("reset-flow").then(n.bind(null,"4726"))},Y=function(){return n.e("reset-flow").then(n.bind(null,"5a71"))},H=function(){return Promise.resolve().then(n.bind(null,"4b2f"))},J=function(){return n.e("signup").then(n.bind(null,"4147"))},K=function(){return n.e("classes").then(n.bind(null,"95b5"))},W=function(){return n.e("classes").then(n.bind(null,"ff0d"))},Z=function(){return n.e("classes").then(n.bind(null,"05e4"))},Q=function(){return n.e("attendance").then(n.bind(null,"f4a9"))},X=function(){return n.e("admin").then(n.bind(null,"dc28"))},ee=function(){return n.e("admin").then(n.bind(null,"6547"))},te=function(){return n.e("offerings").then(n.bind(null,"198e"))},ne=function(){return n.e("admin-user").then(n.bind(null,"a28f"))},ae=function(){return n.e("admin-approval").then(n.bind(null,"d99f"))},oe=function(){return Promise.all([n.e("events"),n.e("admin-event")]).then(n.bind(null,"b084"))},re=function(){return n.e("admin-scout").then(n.bind(null,"006e"))},se=function(){return Promise.all([n.e("events"),n.e("admin-event")]).then(n.bind(null,"fb07"))},ie=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("scouts")]).then(n.bind(null,"56c4"))},ce=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("scouts")]).then(n.bind(null,"efd8"))},ue=function(){return n.e("admin-admins").then(n.bind(null,"fe3d"))},le=function(){return n.e("admin-user-detail").then(n.bind(null,"099f"))},de=function(){return n.e("admin-user").then(n.bind(null,"96cc"))},fe=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("scouts")]).then(n.bind(null,"d94f"))},pe=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("scouts")]).then(n.bind(null,"bfe9"))},me=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("coordinator")]).then(n.bind(null,"26f4"))},ve=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("coordinator")]).then(n.bind(null,"01c5"))},he=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("coordinator")]).then(n.bind(null,"15b1"))},ge=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("coordinator")]).then(n.bind(null,"1ef4"))},be=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("coordinator")]).then(n.bind(null,"06b0"))},_e=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("teacher")]).then(n.bind(null,"7fa0"))},Ee=function(){return Promise.all([n.e("coordinator~scouts~teacher"),n.e("teacher")]).then(n.bind(null,"8d9b"))},je=function(){return n.e("assignments").then(n.bind(null,"622d"))},we=[{path:"/",name:"home",component:k,meta:{title:"Home"}},{path:"/about",component:L,meta:{title:"About"}},{path:"/privacy",component:x,meta:{title:"Privacy Policy"}},{path:"/administration",component:X,beforeEnter:Ie("admin"),redirect:"administration/home",children:[{path:"home",component:ee,meta:{title:"Administration"}},{path:"users",component:{render:function(e){return e("router-view")}},children:[{path:"current",component:de,redirect:"current/all",children:[{path:"all",component:ne,meta:{title:"Current Users"}},{path:":id",component:le,meta:{title:"User Detail"},props:!0}]},{path:"approval",component:ae,meta:{title:"Users Needing Approval"}},{path:"admins",component:ue,meta:{title:"Administrative Users"}}]},{path:"scouts",component:{render:function(e){return e("router-view")}},children:[{path:"list",component:ce,redirect:"list/all",children:[{path:"all",component:re,meta:{title:"All Scouts"}},{path:":id",component:fe,meta:{title:"Scout Detail"},props:!0}]},{path:"assignments",component:ie,meta:{title:"Assignments"},redirect:"assignments/list",children:[{path:"list",component:je},{path:"detail",component:Q}]}]},{path:"events",component:{render:function(e){return e("router-view")}},children:[{path:"all",component:se,meta:{title:"All Events"}},{path:"purchasables",component:oe,meta:{title:"Items for Purchase"}},{path:"offerings",component:te,meta:{title:"Class Offerings"}},{path:"badges",component:$,meta:{title:"Available Badges"}}]},{path:"classes",component:Z,redirect:"classes/all",children:[{path:"all",name:"adminClassList",component:K,meta:{title:"All Classes"}},{path:":eventId/:id",name:"adminClassDetail",component:W,meta:{title:"Class Detail"},props:function(e){return{offeringId:Number(e.params.id),eventId:Number(e.params.eventId)}}}]}]},{path:"/coordinator",component:me,beforeEnter:Ie("coordinator"),redirect:"coordinator/home",children:[{path:"home",component:ve,meta:{title:"Coordinator Home"}},{path:"scouts",component:he,meta:{title:"Your Scouts"}},{path:"registrations",component:ge,meta:{title:"Registrations"}},{path:"attendance",component:be,redirect:"attendance/list",children:[{path:"detail",component:pe,meta:{title:"Attendance Details"}},{path:"list",component:je,meta:{title:"Attendance"}}]}]},{path:"/teacher",component:_e,beforeEnter:Ie("teacher"),redirect:"/teacher/home",children:[{path:"home",component:Ee,meta:{title:"Instructor Home"}},{path:"assignments",component:ie,meta:{title:"Statistics"},redirect:"assignments/list",children:[{path:"detail",component:Q},{path:"list",component:je}]},{path:"classes",component:Z,redirect:"classes/all",children:[{path:"all",component:K,meta:{title:"All Classes"}},{path:":eventId/:id",component:W,meta:{title:"Class Detail"},props:function(e){return{offeringId:Number(e.params.id),eventId:Number(e.params.eventId)}}}]},{path:"assignments",component:Q,meta:{title:"Assignments"}}]},{path:"/events",component:F,meta:{title:"Events"}},{path:"/badges",component:$,meta:{title:"Badges"}},{path:"/signup",component:J,meta:{title:"Sign Up"}},{path:"/login",component:H,meta:{title:"Log In"}},{path:"/reset",component:G,meta:{title:"Reset Your Password"},children:[{path:"",component:V},{path:":resetToken",component:Y}]},{path:"/profile",component:N,redirect:"profile/general",children:[{path:"general",meta:{title:"Your Profile"},component:z},{path:"edit",component:B,meta:{title:"Edit Profile"}},{path:"password",component:M,meta:{title:"Change Password"}},{path:"delete",component:q,meta:{title:"Delete My Account"}}]},{path:"*",component:D}];function Ie(e){return function(t,n,a){void 0===A["a"].getters.role?A["a"].dispatch("getProfile").then(function(){(A["a"].getters.role===e||A["a"].getters.isAdmin)&&A["a"].getters.isApproved?a():(console.warn("Role is not allowed access to this resource"),a("/"))}).catch(function(){a("/")}):(A["a"].getters.role===e||A["a"].getters.isAdmin)&&A["a"].getters.isApproved?a():(console.warn("Role is not allowed access to this resource"),a("/"))}}var Ce=n("ab99"),Se=n("8a5d"),ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader-container"},[n("moon-loader",{staticClass:"moon-spinner",attrs:{color:"lightgray"}})],1)},Pe=[],Ue=n("2fc2"),Re={components:{MoonLoader:Ue["a"]}},Te=Re,Oe=(n("f6a6"),Object(v["a"])(Te,ye,Pe,!1,null,"25fe7ba0",null));Oe.options.__file="CenteredSpinner.vue";var Ae=Oe.exports,Le=n("1721"),ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field"},[n("label",{staticClass:"label",attrs:{for:"delete-confirm"}},[e._t("header")],2),e.error?n("div",{staticClass:"notification is-danger"},[n("p",[e._v(e._s(e.error))])]):e._e(),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredText,expression:"enteredText"}],staticClass:"input",attrs:{type:"text",placeholder:e.placeholder,id:"delete-confirm"},domProps:{value:e.enteredText},on:{input:function(t){t.target.composing||(e.enteredText=t.target.value)}}})]),n("span",{staticClass:"help"},[e._t("help-text")],2)]),n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button",on:{click:function(t){t.preventDefault(),e.cancel()}}},[e._v(e._s(e.cancelText))])]),n("div",{staticClass:"control"},[n("button",{staticClass:"button is-danger",attrs:{disabled:e.enteredText!=e.matchText},on:{click:function(t){t.preventDefault(),e.confirmDelete()}}},[e._v(e._s(e.confirmText))])])])])},De=[],xe={props:{matchText:{type:String,required:!0},placeholder:String,cancelText:{type:String,default:"Don't Delete"},confirmText:{type:String,default:"Confirm Deletion"}},data:function(){return{enteredText:"",error:""}},methods:{confirmDelete:function(){this.enteredText===this.matchText?(this.error="",this.$emit("deleteSuccess")):this.error="The text you entered doesn't match the required text."},cancel:function(){this.error="",this.$emit("close")}}},$e=xe,Fe=(n("b58c"),Object(v["a"])($e,ke,De,!1,null,"4d533f24",null));Fe.options.__file="ConfirmDelete.vue";var Ne=Fe.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedEvent,expression:"selectedEvent"}],attrs:{id:"event-offering-select",disabled:e.orderedEvents.length<1},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selectedEvent=t.target.multiple?n:n[0]},function(t){e.emitEvent()}]}},[e.showAll?n("option",{domProps:{value:null}},[e._v("All Events")]):e._e(),e._l(e.readableEvents,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n      "+e._s(t.event)+"\n    ")])})],2)])},Be=[],qe={props:{showAll:{type:Boolean,default:!1}},data:function(){return{loading:!0,selectedEvent:""}},computed:Object(f["a"])({},Object(w["b"])(["orderedEvents","currentEvent","selectedEventId"]),{readableEvents:function(){return _.map(this.orderedEvents,function(e){return{id:e.id,event:e.semester+" "+e.year}})}}),methods:{emitEvent:function(){this.$store.dispatch("setSelectedId",this.selectedEvent),this.$emit("select",this.selectedEvent)}},mounted:function(){this.orderedEvents.length<1||(this.$route.query.eventId?this.selectedEvent=Number(this.$route.query.eventId):this.showAll?this.selectedEvent=null:this.selectedEventId?this.selectedEvent=this.selectedEventId:this.currentEvent.length>0?this.selectedEvent=this.currentEvent.id:this.selectedEvent=this.orderedEvents[0].id,this.emitEvent())}},Me=qe,Ve=Object(v["a"])(Me,ze,Be,!1,null,null,null);Ve.options.__file="EventsDropdown.vue";var Ge=Ve.exports,Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.text,expression:"text",modifiers:{top:!0}}],staticClass:"icon question-icon"},[n("span",{staticClass:"fa fa-question-circle"})])},He=[],Je={props:{text:{type:String,required:!0},length:{type:String,default:"large"}}},Ke=Je,We=(n("4d6f"),Object(v["a"])(Ke,Ye,He,!1,null,"26821fb7",null));We.options.__file="HelpTag.vue";var Ze=We.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"dropdown"},[n("a",{staticClass:"dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[e._v("\n    "+e._s(e.title[e.displayKey])+"\n    "),n("span",{staticClass:"caret"})]),n("ul",{staticClass:"dropdown-menu"},e._l(e.objects,function(t){return n("li",{key:t},[n("a",{attrs:{href:"#"},on:{click:function(n){e.selected(t)}}},[e._v(e._s(t[e.displayKey]))])])}))])},Xe=[],et={props:{objects:{type:Array,required:!0},initial:Object,displayKey:{type:String,required:!0}},data:function(){return{title:""}},methods:{selected:function(e){this.title=e,this.$emit("select",e.id)}},mounted:function(){this.title=this.initial||this.objects[0]}},tt=et,nt=Object(v["a"])(tt,Qe,Xe,!1,null,null,null);nt.options.__file="InlineDropdown.vue";var at=nt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"pagination is-centered"},[n("paginate-links",{staticClass:"pagination-list",attrs:{for:e.target,limit:e.limit,"show-step-links":e.showLinks,"step-links":{next:"Next",prev:"Previous"},classes:{"li.number > a, li.ellipses > a":"pagination-link","li.left-arrow":"pagination-previous","li.right-arrow":"pagination-next"}},on:{change:e.pageChanged}})],1),e._t("pagination-contents",[n("paginate",{ref:"paginator",class:e.table?"table is-striped paginated-table is-fullwidth":void 0,attrs:{name:e.target,list:e.contents,per:e.per,tag:e.table?"table":void 0}},[e._t("heading"),e.table?[n("tbody",[e._l(e.paginated(e.target),function(t,n){return e._t("row",null,{item:t})})],2)]:[e._l(e.paginated(e.target),function(t,n){return e._t("row",null,{item:t})})]],2)]),n("nav",{staticClass:"pagination is-centered pagination-footer"},[n("paginate-links",{staticClass:"pagination-list",attrs:{for:e.target,limit:e.limit,"show-step-links":e.showLinks,"step-links":{next:"Next",prev:"Previous"},classes:{"li.number > a, li.ellipses > a":"pagination-link","li.left-arrow":"pagination-previous","li.right-arrow":"pagination-next"}},on:{change:e.pageChanged}})],1)],2)},rt=[],st=(n("a481"),n("2ef0")),it=n.n(st),ct={props:{target:{type:String,required:!0},contents:{type:Array,required:!0},limit:{type:Number,default:5},per:{type:Number,default:20},showLinks:{type:Boolean,default:!1},table:{type:Boolean,default:!1}},data:function(){return{paginate:[this.target]}},methods:{pageChanged:function(e){var t=it.a.clone(this.$route.query);t.page=e,this.$router.replace({query:t})}},mounted:function(){this.$route.query.page&&this.$refs.paginator.goToPage(this.$route.query.page)}},ut=ct,lt=(n("a5fe"),Object(v["a"])(ut,ot,rt,!1,null,null,null));lt.options.__file="PaginatedItems.vue";var dt=lt.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loader-container"},[n("centered-spinner")],1)},pt=[],mt={components:{MoonLoader:Ue["a"]}},vt=mt,ht=(n("55c5"),Object(v["a"])(vt,ft,pt,!1,null,"0f1043e6",null));ht.options.__file="SpinnerPage.vue";var gt=ht.exports,bt=function(e){e.component("centered-spinner",Ae),e.component("closable-error",Le["a"]),e.component("confirm-delete",Ne),e.component("events-dropdown",Ge),e.component("help-tag",Ze),e.component("inline-dropdown",at),e.component("loader",Se["a"]),e.component("masked-input",Ce["a"]),e.component("paginated-items",dt),e.component("spinner-page",gt)},_t=n("c1df"),Et=n.n(_t),jt=n("6612"),wt=n.n(jt),It=(n("28a5"),n("55dd"),function(e){var t=it.a.cloneDeep(it.a.without(e,null,void 0));return t.sort(function(e,t){var n=e.split(/(?=\D)/),a=t.split(/(?=\D)/);return n[0]-a[0]||(n[1]||"").localeCompare(a[1]||"")})}),Ct=function(e){e.filter("longDate",function(e){return Et()(e).format("dddd, MMMM Do, YYYY")}),e.filter("shortDate",function(e){return Et()(e).format("MM/DD/YYYY")}),e.filter("capitalize",function(e){return it.a.capitalize(e)}),e.filter("titleCase",function(e){return it.a.startCase(it.a.toLower(e))}),e.filter("upperCase",function(e){return it.a.upperCase(e)}),e.filter("ordinalSuffix",function(e){return wt()(e).format("Oo")}),e.filter("currency",function(e){return wt()(e).format("$0,0.00")}),e.filter("commaSeparated",function(e){return it.a.join(e,", ")}),e.filter("ordered",function(e){return it.a.orderBy(e)}),e.filter("numAlphaSort",function(e){return It(e)})};n("9299");n.d(t,"router",function(){return St}),a["a"].use(o["a"]),a["a"].use(s.a),a["a"].use(c.a),a["a"].use(u["a"]),bt(a["a"]),Ct(a["a"]);var St=new o["a"]({mode:"history",routes:we,linkActiveClass:"is-active"});St.beforeEach(function(e,t,n){return localStorage.getItem("token")?(e.meta.title?document.title="MBU Online | "+e.meta.title:document.title="MBU Online",n()):n()}),new a["a"]({router:St,store:A["a"],el:"#app",components:{App:O}})},"78dc":function(e,t,n){},8848:function(e,t,n){},"8d47":function(e,t,n){},9299:function(e,t,n){},a5fe:function(e,t,n){"use strict";var a=n("78dc"),o=n.n(a);o.a},b58c:function(e,t,n){"use strict";var a=n("52c2"),o=n.n(a);o.a},bfe4:function(e,t,n){},ceee:function(e,t,n){},e609:function(e,t,n){"use strict";var a=n("8848"),o=n.n(a);o.a},f6a6:function(e,t,n){"use strict";var a=n("bfe4"),o=n.n(a);o.a},fc45:function(e,t,n){"use strict";var a=n("8d47"),o=n.n(a);o.a}});
//# sourceMappingURL=app.9fe6f6dc.js.map