(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signup"],{"096f":function(e,t,r){"use strict";var a=r("ca37"),s=r.n(a);s.a},4147:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"column is-8 is-offset-2"},[r("h1",{staticClass:"title"},[e._v("Create Your Account")]),r("h3",{staticClass:"subtitle"},[e._v("\n      Welcome to MBU Online! Create your account here to be able to use all of the features\n      of this website.\n    ")]),r("div",{staticClass:"notification is-info"},[e._v("\n      Note that you will not be able to use your account to complete any tasks until your\n      account has been approved by an administrator.\n    ")]),e.error?e._e():r("div",{staticClass:"notification is-warning"},[e._v("\n      All fields are required.\n    ")]),e.error?r("div",{staticClass:"notification is-danger"},[r("button",{staticClass:"delete",on:{click:function(t){t.preventDefault(),e.dismissError()}}}),r("p",[e._v(e._s(e.error))])]):e._e(),r("form",{staticClass:"columns is-multiline"},[r("div",{staticClass:"field column is-12"},[r("label",{staticClass:"label",attrs:{for:"signup-email"}},[e._v("Email")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.email,expression:"credentials.email"}],staticClass:"input",class:{"is-danger":e.$v.credentials.email.$error},attrs:{type:"email",id:"signup-email",placeholder:"Your email address"},domProps:{value:e.credentials.email},on:{blur:e.$v.credentials.email.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"email",t.target.value)}}})]),e.$v.credentials.email.$error?r("span",[e.$v.credentials.email.isUnique?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            An account already exists with the email address you specified.\n            "),r("router-link",{attrs:{to:"/reset"}},[e._v("Forgot your password?")])],1),e.$v.credentials.email.email?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            The email address you entered is invalid\n          ")]),e.$v.credentials.email.required?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            Your email address is required\n          ")])]):e._e()]),r("div",{staticClass:"field column is-half"},[r("label",{staticClass:"label",attrs:{for:"signup-password"}},[e._v("Password")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],staticClass:"input",class:{"is-danger":e.$v.credentials.password.$error},attrs:{type:"password",id:"signup-password",placeholder:"Password"},domProps:{value:e.credentials.password},on:{blur:e.$v.credentials.password.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}})]),e.$v.credentials.password.$error?r("span",[e.$v.credentials.password.minLength?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            Your password must be at least 8 characters\n          ")]),e.$v.credentials.password.required?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            Please enter a password for your account\n          ")])]):e._e()]),r("div",{staticClass:"field column is-half"},[r("label",{staticClass:"label",attrs:{for:"signup-password-confirm"}},[e._v("Password Confirmation")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.passwordConfirmation,expression:"credentials.passwordConfirmation"}],staticClass:"input",class:{"is-danger":e.$v.credentials.passwordConfirmation.$error},attrs:{type:"password",id:"signup-password-confirm",placeholder:"Confirm your password"},domProps:{value:e.credentials.passwordConfirmation},on:{blur:e.$v.credentials.passwordConfirmation.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"passwordConfirmation",t.target.value)}}})]),e.$v.credentials.passwordConfirmation.$error?r("span",[e.$v.credentials.passwordConfirmation.sameAs?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            The passwords you entered don't match\n          ")]),e.$v.credentials.passwordConfirmation.required?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n            Please confirm your password\n          ")])]):e._e()]),r("div",{staticClass:"field column is-half"},[r("label",{staticClass:"label",attrs:{for:"signup-first-name"}},[e._v("First Name")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.firstname,expression:"credentials.firstname"}],staticClass:"input",class:{"is-danger":e.$v.credentials.firstname.$error},attrs:{type:"text",id:"signup-first-name",placeholder:"First Name"},domProps:{value:e.credentials.firstname},on:{blur:e.$v.credentials.firstname.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"firstname",t.target.value)}}})]),!e.$v.credentials.firstname.required&&e.$v.credentials.firstname.$error?r("span",{staticClass:"help is-danger"},[e._v("\n          Please enter your first name\n        ")]):e._e()]),r("div",{staticClass:"field column is-half"},[r("label",{staticClass:"label",attrs:{for:"signup-last-name"}},[e._v("Last Name")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.lastname,expression:"credentials.lastname"}],staticClass:"input",class:{"is-danger":e.$v.credentials.lastname.$error},attrs:{type:"text",id:"signup-last-name",placeholder:"Last Name"},domProps:{value:e.credentials.lastname},on:{blur:e.$v.credentials.lastname.$touch,input:function(t){t.target.composing||e.$set(e.credentials,"lastname",t.target.value)}}})]),!e.$v.credentials.lastname.required&&e.$v.credentials.lastname.$error?r("span",{staticClass:"help is-danger"},[e._v("\n          Please enter your last name\n        ")]):e._e()]),r("div",{staticClass:"field column is-12"},[r("label",{staticClass:"label",attrs:{for:"signup-role"}},[e._v("I am a...")]),r("div",{staticClass:"control"},[r("span",{staticClass:"select"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.credentials.role,expression:"credentials.role"}],staticClass:"input",class:{"is-danger":e.$v.credentials.role.$error},attrs:{id:"signup-role"},on:{blur:e.$v.credentials.role.$touch,change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.credentials,"role",t.target.multiple?r:r[0])},function(t){e.clearRoleDetails()}]}},e._l(e.roles,function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v("\n                "+e._s(t.text)+"\n              ")])}))])]),!e.$v.credentials.role.required&&e.$v.credentials.role.$error?r("span",{staticClass:"help is-danger"},[e._v("\n          Please pick your role\n        ")]):e._e()]),"coordinator"===e.credentials.role?[r("div",{staticClass:"field column is-one-third"},[r("label",{staticClass:"label",attrs:{for:"signup-troop"}},[e._v("Troop")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.coordinator.troop,expression:"credentials.coordinator.troop"}],staticClass:"input",class:{"is-danger":e.$v.credentials.coordinator.troop.$error},attrs:{type:"number",id:"signup-troop",placeholder:"Troop"},domProps:{value:e.credentials.coordinator.troop},on:{blur:e.$v.credentials.coordinator.troop.$touch,input:function(t){t.target.composing||e.$set(e.credentials.coordinator,"troop",t.target.value)}}})]),e.$v.credentials.coordinator.troop.$error?r("span",[e.$v.credentials.coordinator.troop.alphaNum?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n              Please enter a valid troop number\n            ")]),e.$v.credentials.coordinator.troop.required?e._e():r("span",{staticClass:"help is-danger"},[e._v("\n              Please enter the troop you represent\n            ")])]):e._e()]),r("div",{staticClass:"field column is-one-third"},[r("label",{staticClass:"label",attrs:{for:"signup-district"}},[e._v("District")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.coordinator.district,expression:"credentials.coordinator.district"}],staticClass:"input",class:{"is-danger":e.$v.credentials.coordinator.district.$error},attrs:{type:"text",id:"signup-district",placeholder:"District"},domProps:{value:e.credentials.coordinator.district},on:{blur:e.$v.credentials.coordinator.district.$touch,input:function(t){t.target.composing||e.$set(e.credentials.coordinator,"district",t.target.value)}}})]),!e.$v.credentials.coordinator.district.required&&e.$v.credentials.coordinator.district.$error?r("span",{staticClass:"help is-danger"},[e._v("\n            Please enter your troop's district\n          ")]):e._e()]),r("div",{staticClass:"field column is-one-third"},[r("label",{staticClass:"label",attrs:{for:"signup-council"}},[e._v("Council")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.coordinator.council,expression:"credentials.coordinator.council"}],staticClass:"input",class:{"is-danger":e.$v.credentials.coordinator.council.$error},attrs:{type:"text",id:"signup-council",placeholder:"Council"},domProps:{value:e.credentials.coordinator.council},on:{blur:e.$v.credentials.coordinator.council.$touch,input:function(t){t.target.composing||e.$set(e.credentials.coordinator,"council",t.target.value)}}})]),!e.$v.credentials.coordinator.council.required&&e.$v.credentials.coordinator.council.$error?r("span",{staticClass:"help is-danger"},[e._v("\n            Please enter your troop's council\n          ")]):e._e()])]:e._e(),"teacher"===e.credentials.role?[r("div",{staticClass:"field column is-12"},[r("label",{staticClass:"label",attrs:{for:"signup-chapter"}},[e._v("Chapter/Organization")]),r("div",{staticClass:"control"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.teacher.chapter,expression:"credentials.teacher.chapter"}],staticClass:"input",class:{"is-danger":e.$v.credentials.teacher.chapter.$error},attrs:{type:"text",id:"signup-chapter",placeholder:"Your group"},domProps:{value:e.credentials.teacher.chapter},on:{blur:e.$v.credentials.teacher.chapter.$touch,input:function(t){t.target.composing||e.$set(e.credentials.teacher,"chapter",t.target.value)}}})]),!e.$v.credentials.teacher.chapter.required&&e.$v.credentials.teacher.chapter.$error?r("span",{staticClass:"help is-danger"},[e._v("\n            Please enter the group you are affiliated with (e.g. APO chapter)\n          ")]):e._e()])]:e._e(),r("div",{staticClass:"field column is-12"},[r("button",{staticClass:"button is-primary",attrs:{disabled:e.$v.basicInfo.$invalid||e.$v.teacherInfo.$invalid&&e.$v.coordinatorInfo.$invalid},on:{click:function(t){t.preventDefault(),e.submit()}}},[e._v("Signup")])])],2)])])},s=[],i=r("b5ae"),n={data:function(){return{credentials:{email:"",password:"",passwordConfirmation:"",firstname:"",lastname:"",role:"",teacher:{chapter:""},coordinator:{troop:"",district:"",council:""}},roles:[{text:"Scoutmaster/Coordinator",value:"coordinator"},{text:"Teacher/Volunteer",value:"teacher"}],error:"",creating:!1}},methods:{clearRoleDetails:function(){this.credentials.teacher.chapter="",this.credentials.coordinator.troop="",this.credentials.coordinator.district="",this.credentials.coordinator.council="",this.$v.credentials.teacher.$reset(),this.$v.credentials.coordinator.$reset()},dismissError:function(){this.error="",this.$v.$reset()},submit:function(){var e=this;this.creating=!0;var t={email:this.credentials.email,password:this.credentials.password,firstname:this.credentials.firstname,lastname:this.credentials.lastname,role:this.credentials.role};switch(t.role){case"coordinator":t.details=this.credentials.coordinator;break;case"teacher":t.details=this.credentials.teacher;break}this.$store.dispatch("signup",t).then(function(){e.$router.push("/"),e.error=""}).catch(function(t){console.log(t),e.error="Error creating your account. Please try again."}).then(function(){e.creating=!1})}},validations:{credentials:{email:{required:i["required"],email:i["email"],isUnique:function(e){var t=this;return""===e||new Promise(function(r,a){t.$store.dispatch("checkEmail",e).then(function(e){return r(!e)})})}},password:{required:i["required"],minLength:Object(i["minLength"])(8)},passwordConfirmation:{required:i["required"],sameAs:Object(i["sameAs"])("password")},firstname:{required:i["required"]},lastname:{required:i["required"]},role:{required:i["required"]},coordinator:{troop:{required:i["required"],alphaNum:i["alphaNum"]},district:{required:i["required"]},council:{required:i["required"]}},teacher:{chapter:{required:i["required"]}}},basicInfo:["credentials.email","credentials.password","credentials.passwordConfirmation","credentials.firstname","credentials.lastname","credentials.role"],coordinatorInfo:["credentials.coordinator.troop","credentials.coordinator.district","credentials.coordinator.council"],teacherInfo:["credentials.teacher.chapter"]}},o=n,l=(r("096f"),r("2877")),c=Object(l["a"])(o,a,s,!1,null,null,null);c.options.__file="Signup.vue";t["default"]=c.exports},ca37:function(e,t,r){}}]);
//# sourceMappingURL=signup.f4681407.js.map