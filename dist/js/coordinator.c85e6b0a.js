(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["coordinator"],{"01c5":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"section"},[s("h4",{staticClass:"title is-4"},[t._v("\n      Welcome to the Coordinator Home for MBU Online!\n    ")]),s("p",[t._v("\n      Pick a task on the left, or read the help section below for more information\n    ")]),s("br"),s("h4",{staticClass:"title is-4"},[t._v("How do I...")]),t._m(0),s("div",{staticClass:"question-container",attrs:{id:"register-scouts"}},[s("h5",{staticClass:"title is-5"},[t._v("Register a scout for an event?")]),s("p",[t._v("\n        To register a scout for an event, first make sure that you have added them to your troop on\n        "),s("router-link",{attrs:{to:"/coordinator/scouts"}},[t._v("\n          your troop management page")]),t._v(". Then, go to the\n        "),s("router-link",{attrs:{to:"/coordinator/registrations"}},[t._v("registrations page\n        ")]),t._v(", select the event that you would like to register the scout for (the current event\n        will be selected by default), and add their registration details.\n      ")],1)]),s("div",{staticClass:"question-container",attrs:{id:"add-preferences"}},[s("h5",{staticClass:"title is-5"},[t._v("Add merit badge preferences?")]),s("p",[t._v("\n        From the\n        "),s("router-link",{attrs:{to:"/coordinator/registrations"}},[t._v("registrations page\n        ")]),t._v(", find the scout you would like to add preferences for. Then:\n      ")],1),s("br"),t._m(1),s("br"),t._m(2)]),s("div",{staticClass:"question-container",attrs:{id:"purchase-items"}},[s("h5",{staticClass:"title is-5"},[t._v("Purchase items?")]),s("p",[t._v("\n        If items such as lunches or t-shirts are available for purchase at an MBU event, you can purchase these\n        items for a scout as part of their event registration. to do so, from the\n        "),s("router-link",{attrs:{to:"/coordinator/registrations"}},[t._v("registrations page\n        ")]),t._v(", find the scout you would like to add purchases for. Then:\n      ")],1),s("br"),t._m(3),s("br"),t._m(4),s("br"),s("p",[t._v("\n        You can select the quantity of each purchase that the scout would like to order, as well as choose sizes\n        for items such as t-shirts.\n      ")])]),s("div",{staticClass:"question-container",attrs:{id:"assignments"}},[s("h5",{staticClass:"title is-5"},[t._v("\n        Know which classes my scouts have been assigned to?\n      ")]),s("p",[t._v("\n        Once the event coordinators have looked through your scouts' preferences and assigned them to classes,\n        you can view their assignments on the\n        "),s("router-link",{attrs:{to:"/coordinator/attendance"}},[t._v("\n          attendance page ")]),t._v(".\n      ")],1)]),s("div",{staticClass:"question-container",attrs:{id:"might-pay"}},[s("h5",{staticClass:"title is-5"},[t._v("Know how much my troop might have to pay?")]),s("p",[t._v("\n        On the\n        "),s("router-link",{attrs:{to:"/coordinator/registrations"}},[t._v("registrations page\n        ")]),t._v(', each registered scout has a "Projected costs" section that displays the potential\n        cost of attendance for this scout. This is calculated with the event fee, any purchases that\n        have been added to the registration, and any class fees in that scout\'s preferences.\n      ')],1)]),s("div",{staticClass:"question-container",attrs:{id:"troop-owes"}},[s("h5",{staticClass:"title is-5"},[t._v("Know how much my troop owes for an event?")]),s("p",[t._v("\n        On the\n        "),s("router-link",{attrs:{to:"/coordinator/attendance"}},[t._v("attendance page\n        ")]),t._v(', each registered scout has an "Actual costs" section that displays the actual\n        cost of attendance for this scout. This is calculated with the event fee, any purchases that\n        have been added to the registration, and any class fees in that scout\'s class assignments.\n      ')],1),s("p",[t._v("\n        Additionally, the full cost of attendance for your troop is displayed at the top of the page.\n      ")])]),s("div",{staticClass:"question-container",attrs:{id:"completions"}},[s("h5",{staticClass:"title is-5"},[t._v("View completion records for an event?")]),s("p",[t._v("\n        On the\n        "),s("router-link",{attrs:{to:"/coordinator/attendance"}},[t._v("attendance page\n        ")]),t._v(", select the event that you would like to view completion records for. Completion\n        records will be listed under each period's assignment in the\n        "),s("router-link",{attrs:{to:"/coordinator/attendance/list"}},[t._v("list view")]),t._v(", and under the\n        "),s("strong",[t._v("Assignments")]),t._v(" header in the\n        "),s("router-link",{attrs:{to:"/coordinator/attendance/detail"}},[t._v("detail view")]),t._v(".\n      ")],1)])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"faq-navigation"},[s("li",[s("a",{attrs:{href:"#register-scouts"}},[t._v("Register a scout for an event?")])]),s("li",[s("a",{attrs:{href:"#add-preferences"}},[t._v("Add merit badge preferences?")])]),s("li",[s("a",{attrs:{href:"#purchase-items"}},[t._v("Purchase items?")])]),s("li",[s("a",{attrs:{href:"#assignments"}},[t._v("Know which classes my scouts have been assigned to?")])]),s("li",[s("a",{attrs:{href:"#might-pay"}},[t._v("Know how much my troop might have to pay?")])]),s("li",[s("a",{attrs:{href:"#troop-owes"}},[t._v("Know how much my troop owes for an event?")])]),s("li",[s("a",{attrs:{href:"#completions"}},[t._v("View completion records for an event?")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("If the scout has not been registered for the event:")]),s("br"),t._v(' Click the "Register" link next to\n        the scout\'s name, and add their top six merit badge preferences for this event.\n      ')])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("If the scout has already been registered for the event:")]),s("br"),t._v(" Click the edit\n        "),s("i",{staticClass:"fa fa-edit"}),t._v(" button in the row of the registration. Then, select six merit badge preferences for this\n        event.\n      ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("If the scout has not been registered for the event:")]),s("br"),t._v(' Follow the steps above to add class\n        preferences. Once you click "Register Scout", you will be able to add purchases for this scout.\n      ')])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("b",[t._v("If the scout has already been registered for the event")]),s("br"),t._v(" Click the edit\n        "),s("i",{staticClass:"fa fa-edit"}),t._v(" button in the row of the registration. Then, add or remove purchases for this scout.\n      ")])}],r=(s("da65"),s("2877")),n={},o=Object(r["a"])(n,i,a,!1,null,"5c3d1e2a",null);e["default"]=o.exports},"06b0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"title is-4"},[t._v("Event Attendances")]),s("p",[t._v("\n    This page contains information regarding your troop's attendance for MBU\n    events such as class assignments and purchases for individual scouts, and\n    total amount due for each scout as well as your troop\n  ")]),s("stats-list",{attrs:{"list-link":"/coordinator/attendance/list","detail-link":"/coordinator/attendance/detail"}})],1)},a=[],r=s("f4c8"),n={components:{StatsList:r["a"]}},o=n,c=s("2877"),l=Object(c["a"])(o,i,a,!1,null,null,null);e["default"]=l.exports},"15b1":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{staticClass:"title is-4"},[t._v("Your Troop")]),s("p",[t._v("\n    This is an overview of the scouts that you have added to your troop. You can add\n    new scouts, edit scout information, and remove scouts from your troop.\n  ")]),s("br"),t.error?s("closable-error",{on:{dismissed:function(e){return t.dismissError()}}},[t._v(t._s(t.error))]):t._e(),t.loading?s("spinner-page"):s("div",[t.displayAddScout?t._e():s("button",{staticClass:"button is-primary",on:{click:function(e){return t.toggleAdd()}}},[t._v("\n      Add a new scout\n    ")]),t.displayAddScout?s("create-scout",{on:{close:function(e){return t.toggleAdd()}}}):t._e(),s("br"),s("div",{staticClass:"box scout-list-filters"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[s("label",{staticClass:"label",attrs:{for:"scout-list-sort-filter"}},[t._v("SortÂ by:")])]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],attrs:{id:"scout-list-sort-filter"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sortBy=e.target.multiple?s:s[0]}}},t._l(t.orders,function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v("\n                        "+t._s(e.text)+"\n                      ")])}),0)])])])])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"search-container field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[s("label",{staticClass:"label",attrs:{for:"scout-list-find"}},[t._v("Search:")])]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input",attrs:{id:"scout-list-find"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])])])])])]),s("div",{staticClass:"scout-list"},t._l(t.filteredScouts,function(t){return s("scout",{key:t.id,attrs:{scout:t}})}),1)],1)],1)},a=[],r=(s("386d"),s("cebc")),n=s("2f62"),o=s("2ef0"),c=s.n(o),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("h4",{staticClass:"title is-4"},[t._v("\n    Add a Scout to Your Troop\n    "),s("button",{staticClass:"button is-white close-button is-pulled-right",on:{click:function(e){return t.close()}}},[s("span",{staticClass:"fa fa-close",attrs:{"aria-label":"Close"}})])]),s("p",[t._v("\n    Add a new scout to your troop by filling in the information below. This will allow\n    you to register this scout for events, and view their completion records on this\n    website.\n  ")]),s("br"),t.error?t._e():s("div",{staticClass:"notification"},[s("p",[t._v("\n      Name, birthday, troop, and emergency contact information are required.\n    ")])]),t.error?s("div",{staticClass:"notification is-danger"},[s("p",[t._v("\n      "+t._s(t.error)+"\n    ")])]):t._e(),s("form",[s("div",{staticClass:"columns is-multiline"},[s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-create-first-name"}},[t._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scout.firstname,expression:"scout.firstname"}],staticClass:"input",class:{"is-danger":t.$v.scout.firstname.$error},attrs:{type:"text",id:"scout-create-first-name",placeholder:"First Name"},domProps:{value:t.scout.firstname},on:{blur:t.$v.scout.firstname.$touch,input:function(e){e.target.composing||t.$set(t.scout,"firstname",e.target.value)}}})]),t.$v.scout.firstname.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's first name\n        ")]):t._e()]),s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-create-last-name"}},[t._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scout.lastname,expression:"scout.lastname"}],staticClass:"input",class:{"is-danger":t.$v.scout.lastname.$error},attrs:{type:"text",id:"scout-create-last-name",placeholder:"Last Name"},domProps:{value:t.scout.lastname},on:{blur:t.$v.scout.lastname.$touch,input:function(e){e.target.composing||t.$set(t.scout,"lastname",e.target.value)}}})]),t.$v.scout.lastname.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's last name\n        ")]):t._e()]),s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-create-birthday"}},[t._v("Birthday")]),s("div",{staticClass:"control"},[s("masked-input",{staticClass:"input",class:{"is-danger":t.$v.scout.birthday.$error},attrs:{mask:"11/11/1111",placeholder:"mm/dd/yyyy",id:"scout-create-birthday"},on:{blur:t.$v.scout.birthday.$touch},model:{value:t.scout.birthday,callback:function(e){t.$set(t.scout,"birthday",e)},expression:"scout.birthday"}})],1),t.$v.scout.birthday.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's birthday\n        ")]):t._e()]),s("div",{staticClass:"field column is-3"},[s("label",{staticClass:"label",attrs:{for:"scout-create-troop"}},[t._v("Troop")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scout.troop,expression:"scout.troop"}],staticClass:"input",class:{"is-danger":t.$v.scout.troop.$error},attrs:{type:"number",id:"scout-create-troop",placeholder:"Troop"},domProps:{value:t.scout.troop},on:{blur:t.$v.scout.troop.$touch,input:function(e){e.target.composing||t.$set(t.scout,"troop",e.target.value)}}})]),t.$v.scout.troop.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the scout's troop\n        ")]):t._e()]),s("div",{staticClass:"field column is-12"},[s("label",{staticClass:"label",attrs:{for:"scout-create-notes"}},[t._v("Anything else we should know?")]),s("div",{staticClass:"control"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.scout.notes,expression:"scout.notes"}],staticClass:"textarea",attrs:{id:"scout-create-notes",rows:"2",placeholder:"Allergies, dietery needs, etc."},domProps:{value:t.scout.notes},on:{input:function(e){e.target.composing||t.$set(t.scout,"notes",e.target.value)}}})])]),t._m(0),s("div",{staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"scout-create-emergency-name"}},[t._v("Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scout.emergency_name,expression:"scout.emergency_name"}],staticClass:"input",class:{"is-danger":t.$v.scout.emergency_name.$error},attrs:{type:"text",id:"scout-create-emergency-name",placeholder:"Name"},domProps:{value:t.scout.emergency_name},on:{blur:t.$v.scout.emergency_name.$touch,input:function(e){e.target.composing||t.$set(t.scout,"emergency_name",e.target.value)}}})]),t.$v.scout.emergency_name.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the name of the person we should contact in event of emergency\n        ")]):t._e()]),s("div",{staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"scout-create-emergency-relation"}},[t._v("Relation")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scout.emergency_relation,expression:"scout.emergency_relation"}],staticClass:"input",class:{"is-danger":t.$v.scout.emergency_relation.$error},attrs:{type:"text",id:"scout-create-emergency-relation",placeholder:"Relationship to Scout"},domProps:{value:t.scout.emergency_relation},on:{blur:t.$v.scout.emergency_relation.$touch,input:function(e){e.target.composing||t.$set(t.scout,"emergency_relation",e.target.value)}}})]),t.$v.scout.emergency_relation.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the relationship of the emergency contact to the scout\n        ")]):t._e()]),s("div",{staticClass:"field column is-4"},[s("label",{staticClass:"label",attrs:{for:"scout-create-emergency-phone"}},[t._v("Phone Number")]),s("div",{staticClass:"control"},[s("masked-input",{staticClass:"input",class:{"is-danger":t.$v.scout.emergency_phone.$error},attrs:{mask:"(111) 111-1111",placeholder:"(___) ___-____",id:"scout-create-emergency-phone"},on:{blur:t.$v.scout.emergency_phone.$touch},model:{value:t.scout.emergency_phone,callback:function(e){t.$set(t.scout,"emergency_phone",e)},expression:"scout.emergency_phone"}})],1),t.$v.scout.emergency_phone.$error?s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter the phone number of the person we should contact in event of emergency\n        ")]):t._e()])]),s("div",{staticClass:"field is-grouped"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":t.creating},attrs:{disabled:t.$v.$invalid||t.creating},on:{click:function(e){return e.preventDefault(),t.createScout()}}},[t._v("Add Scout")])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button",attrs:{disabled:t.creating},on:{click:function(e){return e.preventDefault(),t.close()}}},[t._v("Cancel")])])])])])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-12"},[s("h5",{staticClass:"title is-5"},[t._v("Emergency Contact Information")]),s("p",[t._v("\n          We will contact this person in the event that something happens to this scout. If\n          possible, please enter the information for someone that will be able to\n          reach the event should it be necessary.\n        ")])])}],d=s("b5ae"),v=s("bfcb"),h={data:function(){return{scout:{firstname:"",lastname:"",birthday:"",troop:"",notes:"",emergency_name:"",emergency_phone:"",emergency_relation:""},error:"",creating:!1}},computed:Object(r["a"])({},Object(n["b"])(["profile"])),methods:{close:function(){this.error="",this.$emit("close")},createScout:function(){var t=this;this.creating=!0;var e=c.a.clone(this.scout);this.$store.dispatch("addScout",{scout:e,userId:this.profile.id}).then(function(){return t.$store.dispatch("getScouts",t.profile.id)}).then(function(){t.$v.$reset(),t.error="",t.close()}).catch(function(){t.error="Error adding scout. Please refresh the page, and try again."}).then(function(){t.creating=!1})}},mounted:function(){this.scout.troop=this.profile.details.troop},validations:{scout:{firstname:{required:d["required"]},lastname:{required:d["required"]},birthday:{required:d["required"],date:Object(v["d"])("MM/DD/YYYY")},troop:{required:d["required"]},emergency_name:{required:d["required"]},emergency_phone:{required:d["required"],phone:v["h"]},emergency_relation:{required:d["required"]}}}},f=h,p=(s("5b6e"),s("2877")),m=Object(p["a"])(f,l,u,!1,null,"654f77f9",null),g=m.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("h4",{staticClass:"title is-4"},[t._v("\n    "+t._s(t.scout.firstname)+" "+t._s(t.scout.lastname)+"\n    "),s("button",{staticClass:"button edit-button is-pulled-right",on:{click:function(e){return t.toggleEdit()}}},[t.editing?t._e():s("span",{staticClass:"fa fa-edit",attrs:{"aria-label":"Edit"}}),t.editing?s("span",{staticClass:"fa fa-close",attrs:{"aria-label":"Close"}}):t._e()])]),t.editing?t._e():s("scout-detail",{attrs:{scout:t.scout}}),t.editing?s("scout-edit",{attrs:{scout:t.scout},on:{close:function(e){return t.toggleEdit()}}}):t._e()],1)},b=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("p",[s("strong",[t._v("Added On:")]),t._v(" "+t._s(t._f("shortDate")(t.scout.created_at))+"\n    ")]),s("p",[s("strong",[t._v("Birthday:")]),t._v(" "+t._s(t._f("shortDate")(t.scout.birthday))+"\n    ")]),s("p",[s("strong",[t._v("Age:")]),t._v(" "+t._s(t.scout.age)+"\n    ")]),s("p",[s("strong",[t._v("Troop:")]),t._v(" "+t._s(t.scout.troop)+"\n    ")]),t.scout.notes?s("p",[s("strong",[t._v("Notes:")]),t._v(" "+t._s(t.scout.notes)+"\n    ")]):t._e()]),s("div",{staticClass:"column is-6"},[t._m(0),s("p",[s("strong",[t._v("Name:")]),t._v(" "+t._s(t.scout.emergency_name)+"\n    ")]),s("p",[s("strong",[t._v("Relationship to Scout:")]),t._v(" "+t._s(t.scout.emergency_relation)+"\n    ")]),s("p",[s("strong",[t._v("Contact Number:")]),t._v(" "+t._s(t.scout.emergency_phone)+"\n    ")])])])},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h6",{staticClass:"title is-6"},[s("b",[t._v("Emergency Contact:")])])}],$={props:{scout:{type:Object,required:!0}}},w=$,P=Object(p["a"])(w,y,C,!1,null,null,null),x=P.exports,k=s("53d6"),q={props:{scout:{required:!0,type:Object}},data:function(){return{editing:!1}},watch:{scout:function(){this.editing=!1}},methods:{toggleEdit:function(){this.editing=!this.editing}},components:{"scout-detail":x,ScoutEdit:k["a"]}},I=q,E=(s("42ff"),Object(p["a"])(I,_,b,!1,null,"a5636976",null)),T=E.exports,S={data:function(){return{error:"",displayAddScout:!1,sortBy:"lastname",orders:[{value:"firstname",text:"First Name"},{value:"lastname",text:"Last Name"},{value:"created_at",text:"Date Added"},{value:"updated_at",text:"Date Updated"}],search:"",loading:!1}},computed:Object(r["a"])({},Object(n["b"])(["profile","scouts"]),{orderedScouts:function(){return c.a.orderBy(this.scouts,this.sortBy)},filteredScouts:function(){var t=this;return c.a.filter(this.orderedScouts,function(e){return e.fullname.toLowerCase().indexOf(t.search.toLowerCase())>-1})}}),methods:{toggleAdd:function(){this.displayAddScout=!this.displayAddScout},clearSearch:function(){this.search=""},dismissError:function(){this.error=""}},components:{"create-scout":g,Scout:T},created:function(){var t=this;this.loading=!0,this.$store.dispatch("getScouts",this.profile.id).then(function(){t.loading=!1,t.error=""}).catch(function(){t.loading=!1,t.error="Failed to load scouts. Please refresh, or try again later."})}},O=S,A=(s("3dff"),Object(p["a"])(O,i,a,!1,null,"27868d9b",null));e["default"]=A.exports},"1ef4":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",{staticClass:"title is-4"},[t._v("Event Registrations")]),s("p",[t._v("\n    Use this page to manage event registrations for your troop. You can specify which\n    Merit Badges scouts would like to learn at the current MBU, and view their preferences\n    from previous MBUs.\n  ")]),t.eventLoadError?s("closable-error"):t._e(),t.eventLoading?s("spinner-page"):s("div",[s("div",{staticClass:"box registration-list-filters"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[s("label",{staticClass:"label"},[t._v("ForÂ Event:")])]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("events-dropdown",{on:{select:function(e){return t.setEvent(e)}}})],1)])])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field is-horizontal"},[s("div",{staticClass:"field-label is-normal"},[s("label",{staticClass:"label",attrs:{for:"registered-list-filters"}},[t._v("FilterÂ by:")])]),s("div",{staticClass:"field-body"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.registrationFilter,expression:"registrationFilter"}],staticClass:"form-control",attrs:{id:"registered-list-filters",disabled:!t.isCurrentEvent},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.registrationFilter=e.target.multiple?s:s[0]}}},t._l(t.registrationFilters,function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v("\n                        "+t._s(e.text)+"\n                      ")])}),0)])])])])])])])]),t.error?s("closable-error",{on:{dismissed:function(e){return t.dismissError()}}},[t._v(t._s(t.error))]):t._e(),t.loading?s("spinner-page"):s("div",{staticClass:"registration-list"},[t.event?s("div",[t.isCurrentEvent?t._e():s("div",{staticClass:"notification"},[s("p",[t._v("\n            The event you have selected is not the current MBU. You can view registration information\n            for scouts that were registered for the "+t._s(t.readableEvent)+" event, but\n            you can not add or modify registrations.\n          ")])]),t.filteredScouts.length<1?s("div",{staticClass:"notification"},[s("p",[t._v("\n            No registrations exist for scouts from your troop for "+t._s(t.readableEvent)+".\n          ")])]):t._e(),t.isCurrentEvent?s("div",{staticClass:"notification"},[t._v("\n          You can register scouts for the "+t._s(t.readableEvent)+" MBU and modify existing registrations\n          during the time period that registration is open ("+t._s(t._f("shortDate")(t.event.registration_open))+" - "+t._s(t._f("shortDate")(t.event.registration_close))+").\n          "),s("b",[t._v("Additions and modifications to registrations cannot be made outside of\n            these dates\n          ")]),t._v(" so be sure to make any changes before registration closes.\n        ")]):t._e(),t._l(t.filteredScouts,function(e){return s("registration-row",{key:e.id,attrs:{event:t.event,registrationOpen:t.registrationOpen,eventId:t.eventId,scout:e}})})],2):s("div",{staticClass:"notification"},[t._v("\n        An event must be selected to be able to register scouts.\n        "),t.allEvents.length<1?s("span",[t._v("\n          No events have been added yet, please check back later")]):t._e()])])],1)],1)},a=[],r=(s("7514"),s("cebc")),n=s("2f62"),o=s("2ef0"),c=s.n(o),l=s("c1df"),u=s.n(l),d=s("7c19"),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"registration-row "},[t.error?s("div",{staticClass:"notification is-danger"},[s("p",[t._v("\n      "+t._s(t.error)+"\n    ")])]):t._e(),s("div",{staticClass:"is-flex-tablet columns is-multiline"},["displaying"===t.state?[s("b",{staticClass:"column is-2 is-hidden-mobile"},[t._v(t._s(t.scout.fullname))]),s("h5",{staticClass:"column is-2 title is-5 is-hidden-tablet"},[t._v(t._s(t.scout.fullname))]),t.loading?s("centered-spinner"):[t.registration?[s("div",{staticClass:"column auto"},[s("scout-registration",{attrs:{event:t.event,preferences:t.preferences,purchases:t.purchases,showActualCost:!1,showAssignments:!1}})],1),s("div",{staticClass:"column is-1"},[s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Modify Registration",expression:"'Modify Registration'"}],staticClass:"button",attrs:{disabled:!t.registrationOpen},on:{click:function(e){return t.toggleState("editing")},cancel:function(e){return t.toggleState()}}},[s("span",{staticClass:"fa fa-edit is-hidden-mobile",attrs:{"aria-label":"Modify"}}),s("span",{staticClass:"is-hidden-tablet"},[t._v("Modify Registration")])])])]:s("div",{staticClass:"register-action"},[t.registrationOpen?s("button",{staticClass:"button is-text register-button",on:{click:function(e){return t.toggleState("creating")}}},[t._v("\n            Register for "+t._s(t.event.semester+" "+t.event.year)+"\n          ")]):t._e(),t.registrationOpen?t._e():s("span",{staticClass:"column auto"},[t._v("\n            Sorry, registration for this event is closed.\n          ")])])]]:t._e(),"creating"===t.state?s("create-registration",{attrs:{scout:t.scout,event:t.event},on:{cancel:function(e){return t.toggleState()},created:function(e){return t.toggleState("purchasing")}}}):t._e(),"editing"===t.state?s("edit-registration",{attrs:{scout:t.scout,event:t.event,registration:t.registration},on:{cancel:function(e){return t.toggleState()},saved:function(e){return t.toggleState()}}}):t._e(),"purchasing"===t.state?[s("purchases",{attrs:{event:t.event,purchasables:t.event.purchasables,existingPurchases:t.registration.purchases,scoutId:t.scout.id,registrationId:t.registration.details.id}}),s("button",{staticClass:"button is-primary done-purchasing-button",on:{click:function(e){return t.toggleState()}}},[t._v("Done")])]:t._e()],2)])},h=[],f=s("795b"),p=s.n(f),m=(s("ac6a"),s("5df3"),s("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.error?s("div",{staticClass:"notification is-danger"},[s("p",[t._v("\n      "+t._s(t.error)+"\n    ")])]):t._e(),s("h5",{staticClass:"title is-5"},[t._v("\n    Register "+t._s(t.scout.fullname)+" for "+t._s(t.event.semester)+" "+t._s(t.event.year)+"\n  ")]),s("div",{staticClass:"columns is-multiline"},[s("p",{staticClass:"column is-12"},[t._v("\n      Please select the top six merit badges that "+t._s(t.scout.firstname)+" would like to attend\n      classes for. We will do our best to accommodate preferences.\n    ")]),t._l(t.preferences,function(e,i){return[s("div",{key:i,staticClass:"column field is-6 is-4-widescreen"},[s("label",{staticClass:"label",attrs:{for:"registration-rank"+i}},[t._v("\n          "+t._s(t._f("ordinalSuffix")(i+1))+"Â choice:\n        ")]),s("div",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.offering,expression:"preference.offering"}],staticClass:"input",class:{"is-danger":t.$v.preferences.$each[i].$error},attrs:{id:"registration-rank"+i},on:{blur:t.$v.preferences.$each[i].$touch,change:function(s){var i=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"offering",s.target.multiple?i:i[0])}}},t._l(t.offerings,function(e){return s("option",{key:e.details.id,domProps:{value:e.details.id}},[t._v("\n                "+t._s(e.name)+"\n                "),"0.00"!==e.details.price?s("span",[t._v("\n                  ("+t._s(t._f("currency")(e.details.price))+")\n                ")]):t._e()])}),0)]),t.$v.preferences.$each[i].$error?s("span",{staticClass:"help is-danger"},[t._v("\n            Please select a "+t._s(t._f("ordinalSuffix")(i+1))+"Â choice badge\n          ")]):t._e()])])]}),s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field is-grouped"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":t.creating},attrs:{disabled:t.$v.$invalid||t.creating},on:{click:function(e){return t.registerScout()}}},[t._v("\n            Register Scout\n          ")])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button",attrs:{disabled:t.creating},on:{click:function(e){return t.cancel()}}},[t._v("\n            Cancel\n          ")])])])])],2)])}),g=[],_=s("b5ae"),b={props:{scout:{type:Object,required:!0},event:{type:Object,required:!0}},data:function(){return{preferences:[],creating:!1,error:""}},computed:{offerings:function(){return c.a.orderBy(this.event.offerings,"name")}},methods:{cancel:function(){this.$emit("cancel")},registerScout:function(){var t=this;this.uniqueOfferings()?(this.creating=!0,this.$store.dispatch("addRegistration",{scoutId:this.scout.id,eventId:this.event.id}).then(function(e){return t.$store.dispatch("setPreferences",{scoutId:t.scout.id,registrationId:e.id,preferences:t.preferences})}).then(function(){t.error="",t.$emit("created")}).catch(function(){t.error="Failed to register scout for this event."}).then(function(){t.creating=!1})):this.error="Merit Badge requests cannot be duplicates."},uniqueOfferings:function(){var t=c.a.map(this.preferences,"offering");return c.a.uniq(t).length===t.length}},mounted:function(){for(var t=1;t<=6;t++)this.preferences.push({rank:t,offering:""})},validations:{preferences:{$each:{offering:{required:_["required"]}}}}},y=b,C=s("2877"),$=Object(C["a"])(y,m,g,!1,null,null,null),w=$.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"is-fullwidth"},[s("h5",{staticClass:"title is-5"},[t._v("Modify Registration for "+t._s(t.scout.fullname))]),t.error?s("div",{staticClass:"notification is-danger"},[s("p",[t._v("\n      "+t._s(t.error)+"\n    ")])]):t._e(),s("p",[t._v("\n    Edit merit badge preferences for "+t._s(t.scout.fullname)+" below. You must select six unique merit badges.\n  ")]),s("br"),t.showDeleteConfirmation?t._e():s("div",{staticClass:"columns is-multiline"},[t._l(t.preferences,function(e,i){return[s("div",{key:e.offering,staticClass:"column field is-6 is-4-widescreen"},[s("label",{staticClass:"label",attrs:{for:"registration-rank"+i}},[t._v("\n          "+t._s(t._f("ordinalSuffix")(i+1))+"Â choice:\n        ")]),s("div",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.offering,expression:"preference.offering"}],staticClass:"input",class:{"is-danger":t.$v.preferences.$each[i].$error},attrs:{id:"registration-rank"+i},on:{blur:t.$v.preferences.$each[i].$touch,change:function(s){var i=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(e,"offering",s.target.multiple?i:i[0])}}},t._l(t.offerings,function(e){return s("option",{key:e.details.id,domProps:{value:e.details.id}},[t._v("\n                "+t._s(e.name)+"\n                "),"0.00"!==e.details.price?s("span",[t._v("\n                  ("+t._s(t._f("currency")(e.details.price))+")\n                ")]):t._e()])}),0)]),t.$v.preferences.$each[i].$error?s("span",{staticClass:"help is-danger"},[t._v("\n            Please select a "+t._s(t._f("ordinalSuffix")(i+1))+"Â choice badge\n          ")]):t._e()])])]}),s("purchases",{staticClass:"column is-12",attrs:{event:t.event,purchasables:t.event.purchasables,existingPurchases:t.registration.purchases,scoutId:t.scout.id,registrationId:t.registration.details.id}}),s("div",{staticClass:"column is-12"},[s("h5",{staticClass:"title is-5"},[t._v("Save Changes for "+t._s(t.scout.fullname))]),s("p",[t._v("\n        Once you are done editing "+t._s(t.scout.fullname)+'\'s click the button below. You can also remove this registration\n        by clicking the "Unregister" button.\n      ')])]),s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field is-grouped"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":t.saving},attrs:{disabled:t.$v.$invalid||t.saving},on:{click:function(e){return t.save()}}},[t._v("Done")])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button",attrs:{disabled:t.saving},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")])]),s("div",{staticClass:"control is-pulled-right"},[s("button",{staticClass:"button is-danger",attrs:{disabled:t.saving},on:{click:function(e){return e.preventDefault(),t.toggleDeleteConfirmation()}}},[t._v("Unregister")])])])])],2),t.showDeleteConfirmation?s("confirm-delete",{staticClass:"container-fluid",attrs:{"match-text":this.event.semester+" "+this.event.year,placeholder:this.event.semester+" "+this.event.year,cancelText:"Don't Remove",confirmText:"Remove Registration"},on:{deleteSuccess:function(e){return t.deleteRegistration()},close:function(e){return t.toggleDeleteConfirmation()}}},[s("span",{attrs:{slot:"header"},slot:"header"},[t._v("\n      Do you really want to unregister "+t._s(t.scout.fullname)+" from this event?\n    ")]),s("span",{attrs:{slot:"help-text"},slot:"help-text"},[t._v("\n      Enter the event's semester and year to confirm that you wish to remove "+t._s(t.scout.fullname)+"'s registration\n      for MBU "+t._s(this.event.semester+" "+this.event.year)+". You can re-register "+t._s(t.scout.fullname)+" for this event at any time\n      "),s("b",[t._v("before the event's registration closes ("+t._s(t._f("longDate")(t.event.registration_close))+").\n      ")])])]):t._e()],1)},x=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h5",{staticClass:"title is-5"},[t._v("\n    Items Available for Purchase ("+t._s(t.event.semester)+" "+t._s(t.event.year)+")\n  ")]),s("p",[t._v("\n    Add items that this scout would like to purchase for this event by picking an item from the dropdown,\n    and entering a quantity and size (if applicable). View details about these items on the\n    "),s("router-link",{attrs:{to:"/events"}},[t._v("events page.\n    ")])],1),s("br"),t.error?s("div",{staticClass:"notification is-danger"},[s("p",[t._v("\n      "+t._s(t.error)+"\n    ")])]):t._e(),t.availableItems.length>0?s("div",{staticClass:"columns is-mobile"},[s("div",{staticClass:"field column is-3-mobile is-5-tablet"},[s("label",{staticClass:"label",attrs:{for:"purchasable-item-select"}},[t._v("Item")]),s("div",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.itemToPurchase.purchasable,expression:"itemToPurchase.purchasable"}],staticClass:"input",attrs:{id:"purchasable-item-select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.itemToPurchase,"purchasable",e.target.multiple?s:s[0])}}},t._l(t.availableItems,function(e){return s("option",{key:e.id,domProps:{value:e}},[t._v("\n              "+t._s(e.item)+" ("+t._s(t._f("currency")(e.price))+")\n            ")])}),0)])])]),s("div",{staticClass:"field column is-3-mobile is-2-tablet"},[s("label",{staticClass:"label",attrs:{for:"purchasable-item-quantity"}},[t._v("\n        Quantity\n      ")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.itemToPurchase.quantity,expression:"itemToPurchase.quantity"}],staticClass:"input",class:{"is-danger":t.$v.itemToPurchase.quantity.$error&&t.itemToPurchase.purchasable},attrs:{type:"number",id:"purchasable-item-quantity"},domProps:{value:t.itemToPurchase.quantity},on:{blur:t.$v.itemToPurchase.quantity.$touch,input:function(e){e.target.composing||t.$set(t.itemToPurchase,"quantity",e.target.value)}}})]),t.$v.itemToPurchase.quantity.$error&&t.itemToPurchase.purchasable?[t.$v.itemToPurchase.quantity.positive?t._e():s("span",{staticClass:"help is-danger"},[t._v("\n          Please enter a number greater than 0\n        ")]),t.$v.itemToPurchase.quantity.maxValue?t._e():s("span",{staticClass:"help is-danger"},[t._v("\n          You cannot purchase more than are available\n        ")])]:t._e(),t.itemToPurchase.purchasable.purchaser_limit?s("span",{staticClass:"help",class:{"is-danger":!t.$v.itemToPurchase.quantity.maxValue&&t.$v.itemToPurchase.quantity.$error}},[t._v("\n        ("+t._s(t.itemToPurchase.purchasable.purchaser_limit-t.itemToPurchase.purchasable.purchaser_count)+" available)\n      ")]):t._e()],2),t.itemToPurchase.purchasable.has_size?s("div",{staticClass:"field column is-3-mobile is-2-tablet"},[s("label",{staticClass:"label",attrs:{for:"purchasable-item-size"}},[t._v("Size")]),s("div",{staticClass:"control"},[s("span",{staticClass:"select"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.itemToPurchase.size,expression:"itemToPurchase.size"}],staticClass:"input",attrs:{type:"select",disabled:!t.itemToPurchase.purchasable||!t.itemToPurchase.purchasable.has_size},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.itemToPurchase,"size",e.target.multiple?s:s[0])}}},t._l(t.sizes,function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v("\n              "+t._s(e.text)+"\n            ")])}),0)])])]):t._e(),s("div",{staticClass:"column auto"},[s("label",{staticClass:"label"},[t._v("Â ")]),s("div",{staticClass:"field is-grouped save-controls"},[s("div",{staticClass:"control"},[s("button",{staticClass:"button is-primary",class:{"is-loading":t.creating},attrs:{disabled:t.creating||t.$v.$invalid},on:{click:function(e){return t.purchaseItem()}}},[s("span",{staticClass:"fa fa-check"})])]),s("div",{staticClass:"control"},[s("button",{staticClass:"button is-light",attrs:{disabled:t.creating},on:{click:function(e){return t.clearItem()}}},[s("span",{staticClass:"fa fa-times"})])])])])]):s("div",{staticClass:"notification"},[s("p",[t.existingPurchases.length>0?s("span",[t._v("\n        This scout has already purchased all items availabe at this event.\n      ")]):s("span",[t._v("\n        There are no items listed as available for purchase at this event. Please check back later.\n      ")])])]),t.existingPurchases.length>0?s("div",[s("h5",{staticClass:"title is-5"},[t._v("\n      Items Already Purchased ("+t._s(t.event.semester)+" "+t._s(t.event.year)+")\n    ")]),t._l(t.existingPurchases,function(e){return s("purchased-item",{key:e.id,staticClass:"purchased-item",attrs:{item:e,registrationId:t.registrationId,scoutId:t.scoutId,eventId:t.event.id}})})],2):t._e()])},q=[],I=s("bfcb"),E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b",[t._v(t._s(t.item.item))]),t._v(":\n  "),t.item.details.size?s("span",[t._v("(Size "+t._s(t._f("upperCase")(t.item.details.size))+")")]):t._e(),t._v("\n  "+t._s(t._f("currency")(t.item.price))+" Ã "+t._s(t.item.details.quantity)+" =\n  "+t._s(t._f("currency")(t.item.price*t.item.details.quantity))+"\n  "),s("button",{staticClass:"button is-danger is-small",class:{"is-loading":t.deleting},attrs:{id:"delete-purchased-item",disabled:t.deleting},on:{click:function(e){return t.deleteItem()}}},[s("span",{staticClass:"fa fa-trash"})]),t.error?s("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Failed to remove item. Please refresh or try again later.",expression:"'Failed to remove item. Please refresh or try again later.'"}],staticClass:"button is-warning is-small",attrs:{id:"delete-warning"}},[s("span",{staticClass:"fa fa-exclamation-triangle"})]):t._e()])},T=[],S={props:{item:{type:Object,required:!0},registrationId:{required:!0},scoutId:{required:!0},eventId:{required:!0}},data:function(){return{deleting:!1,error:""}},methods:{deleteItem:function(){var t=this;this.deleting=!0,this.$store.dispatch("deletePurchase",{registrationId:this.registrationId,scoutId:this.scoutId,purchasableId:this.item.id}).then(function(){t.error="",t.$store.dispatch("getPurchasables",{eventId:t.eventId})}).catch(function(){t.error="Unable to delete. Please try again or contact an administration"}).then(function(){t.deleting=!1})}}},O=S,A=(s("e340"),Object(C["a"])(O,E,T,!1,null,"1443086f",null)),N=A.exports,R={props:{event:{type:Object,required:!0},registrationId:{required:!0},scoutId:{required:!0},existingPurchases:{type:Array},purchasables:{type:Array}},data:function(){return{itemToPurchase:{purchasable:"",quantity:"",size:""},sizes:[{value:"xs",text:"XS"},{value:"s",text:"S"},{value:"m",text:"M"},{value:"l",text:"L"},{value:"xl",text:"XL"}],error:"",creating:!1,deleting:!1}},computed:{orderedPurchasables:function(){return c.a.orderBy(this.purchasables,"item")},availableItems:function(){var t=this;return c.a.filter(this.orderedPurchasables,function(e){return!c.a.find(t.existingPurchases,{id:e.id})})},shouldShowPurchases:function(){return this.existingPurchases.length>0}},methods:{clearItem:function(){this.itemToPurchase={purchasable:"",quantity:"",size:""}},purchaseItem:function(){var t=this,e={purchasable:this.itemToPurchase.purchasable.id,quantity:this.itemToPurchase.quantity?this.itemToPurchase.quantity:0};this.itemToPurchase.size&&(e.size=this.itemToPurchase.size),this.creating=!0,this.$store.dispatch("addPurchase",{registrationId:this.registrationId,scoutId:this.scoutId,purchase:e}).then(function(){t.error="",t.clearItem(),t.$store.dispatch("getPurchasables",{eventId:t.event.id})}).catch(function(){t.error="Unable to purchase item. Please refresh and try again"}).then(function(){t.creating=!1})}},validations:{itemToPurchase:{quantity:{required:_["required"],number:I["g"],positive:function(t){return t>0},maxValue:function(t){return!this.itemToPurchase.purchasable.purchaser_limit||t<=this.itemToPurchase.purchasable.purchaser_limit-this.itemToPurchase.purchasable.purchaser_count}}}},components:{PurchasedItem:N}},j=R,F=(s("ffe0"),Object(C["a"])(j,k,q,!1,null,"5a03957b",null)),z=F.exports,B={props:{scout:{type:Object,required:!0},event:{type:Object,required:!0},registration:{type:Object,required:!0}},data:function(){return{preferences:[],saving:!1,error:"",showDeleteConfirmation:!1}},computed:{offerings:function(){return c.a.orderBy(this.event.offerings,"name")}},methods:{cancel:function(){this.$emit("cancel")},deleteRegistration:function(){var t=this;return this.$store.dispatch("deleteRegistration",{scoutId:this.scout.id,eventId:this.event.id}).then(function(){t.error="",t.$emit("saved")}).catch(function(){t.error="Failed to delete registration. Please refresh and try again."})},save:function(){var t=this;if(this.uniqueOfferings())return this.saving=!0,this.$store.dispatch("setPreferences",{scoutId:this.scout.id,registrationId:this.registration.details.id,preferences:this.preferences}).then(function(){t.error="",t.$emit("saved")}).catch(function(){t.error="Failed to save preferences. Please refresh and try again"}).then(function(){t.saving=!1});this.error="Merit Badge requests cannot be duplicates."},uniqueOfferings:function(){var t=c.a.map(this.preferences,"offering");return c.a.uniq(t).length===t.length},toggleDeleteConfirmation:function(){this.showDeleteConfirmation=!this.showDeleteConfirmation}},mounted:function(){var t=this;c.a.forEach(this.registration.preferences,function(e){t.preferences.push({offering:e.offering_id,rank:e.details.rank})});for(var e=this.preferences.length+1;e<=6;e++)this.preferences.push({rank:e,offering:""})},components:{Purchases:z},validations:{preferences:{$each:{offering:{required:_["required"]}}}}},D=B,M=(s("b231"),Object(C["a"])(D,P,x,!1,null,null,null)),Y=M.exports,U=s("3121"),L={props:{scout:{type:Object,required:!0},event:{type:Object,required:!0},registrationOpen:{type:Boolean,required:!0}},data:function(){return{state:"displaying",loading:!1,error:""}},watch:{event:function(){this.state="displaying",this.loadRegistrationInformation()}},computed:{offerings:function(){return this.event.offerings},preferences:function(){var t=this;return c.a.map(this.registration.preferences,function(e){var s=c.a.find(t.offerings,{id:e.badge_id});return{name:s.name,price:s.details.price}})},purchases:function(){return c.a.map(this.registration.purchases,function(t){return{price:t.price,size:t.details.size,item:t.item,quantity:t.details.quantity,id:t.id}})},registration:function(){return c.a.find(this.scout.registrations,{event_id:this.event.id})}},methods:{toggleState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"displaying";this.state=t},loadRegistrationInformation:function(){var t=this;this.registration&&this.registration.details?(this.loading=!0,p.a.all([this.$store.dispatch("getPreferences",{scoutId:this.scout.id,registrationId:this.registration.details.id}),this.$store.dispatch("getPurchases",{scoutId:this.scout.id,registrationId:this.registration.details.id})]).then(function(){t.error=""}).catch(function(){t.error="Failed to load registration details. Please refresh and try again"}).then(function(){t.loading=!1})):this.toggleState()}},created:function(){this.loadRegistrationInformation()},components:{CreateRegistration:w,EditRegistration:Y,Purchases:z,ScoutRegistration:U["a"]}},K=L,V=(s("ef21"),Object(C["a"])(K,v,h,!1,null,"227539e0",null)),H=V.exports,W={data:function(){return{error:"",eventId:0,loading:!1,registrationFilter:"all",registrationFilters:[{text:"All",value:"all"},{text:"Registered For Event",value:"registered"},{text:"Not Registered For Event",value:"unregistered"}]}},computed:Object(r["a"])({},Object(n["b"])(["allEvents","profile","scouts"]),{filteredScouts:function(){var t=this;return"registered"===this.registrationFilter?c.a.filter(this.scouts,function(e){return c.a.find(e.registrations,{event_id:t.eventId})}):"unregistered"===this.registrationFilter?c.a.filter(this.scouts,function(e){return!c.a.find(e.registrations,{event_id:t.eventId})}):this.scouts},event:function(){return c.a.find(this.allEvents,{id:this.eventId})},isCurrentEvent:function(){return this.$store.getters.isCurrentEvent(this.eventId)},readableEvent:function(){return this.event.semester+" "+this.event.year},registrationOpen:function(){return!!this.event&&u()().isBetween(this.event.registration_open,this.event.registration_close,null,"[]")}}),methods:{dismissError:function(){this.error=""},setEvent:function(t){this.eventId=t,this.isCurrentEvent?this.registrationFilter="all":this.registrationFilter="registered"}},components:{RegistrationRow:H},created:function(){var t=this;this.loading=!0,this.$store.dispatch("getScouts",this.profile.id).then(function(){t.error=""}).catch(function(){t.error="Failed to load scouts. Please refresh, or try again later."}).then(function(){t.loading=!1})},mixins:[d["a"]]},J=W,X=(s("27bc"),Object(C["a"])(J,i,a,!1,null,"4a1cc02e",null));e["default"]=X.exports},"26f4":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{staticClass:"title is-3"},[t._v("Troop Administration")]),s("h5",{staticClass:"subtitle is-5"},[t._v("\n    From here, you can access all of the functionality that you will need to register\n    scouts and view records for Merit Badge University events.\n  ")]),t.eventLoadError?s("closable-error"):t._e(),t.eventLoading?s("spinner-page"):s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-narrow sidebar"},[s("aside",{staticClass:"menu"},[s("p",{staticClass:"menu-label"},[t._v("Navigation")]),s("ul",{staticClass:"menu-list"},[s("router-link",{attrs:{to:"/coordinator/home"}},[t._v("Home")])],1),s("p",{staticClass:"menu-label"},[t._v("Pick a task")]),s("ul",{staticClass:"menu-list"},[s("router-link",{attrs:{to:"/coordinator/scouts"}},[t._v("Your Scouts")]),s("router-link",{attrs:{to:"/coordinator/registrations"}},[t._v("Event Registrations")]),s("router-link",{attrs:{to:"/coordinator/attendance"}},[t._v("Attendance Information")])],1)])]),s("div",{staticClass:"column auto"},[s("router-view")],1)])],1)},a=[],r=s("7c19"),n={mixins:[r["a"]]},o=n,c=(s("98df"),s("2877")),l=Object(c["a"])(o,i,a,!1,null,"6f8367fe",null);e["default"]=l.exports},"27bc":function(t,e,s){"use strict";var i=s("28e9"),a=s.n(i);a.a},"28e9":function(t,e,s){},"3dff":function(t,e,s){"use strict";var i=s("a1aa"),a=s.n(i);a.a},"42ff":function(t,e,s){"use strict";var i=s("536c"),a=s.n(i);a.a},"4bf6":function(t,e,s){},"536c":function(t,e,s){},"5b6e":function(t,e,s){"use strict";var i=s("5dfe"),a=s.n(i);a.a},"5dfe":function(t,e,s){},"98df":function(t,e,s){"use strict";var i=s("afed"),a=s.n(i);a.a},"9cdc":function(t,e,s){},a1aa:function(t,e,s){},afed:function(t,e,s){},b231:function(t,e,s){"use strict";var i=s("9cdc"),a=s.n(i);a.a},ca2e:function(t,e,s){},d860:function(t,e,s){},da65:function(t,e,s){"use strict";var i=s("4bf6"),a=s.n(i);a.a},e340:function(t,e,s){"use strict";var i=s("d860"),a=s.n(i);a.a},ef21:function(t,e,s){"use strict";var i=s("ca2e"),a=s.n(i);a.a},fa8d:function(t,e,s){},ffe0:function(t,e,s){"use strict";var i=s("fa8d"),a=s.n(i);a.a}}]);
//# sourceMappingURL=coordinator.c85e6b0a.js.map